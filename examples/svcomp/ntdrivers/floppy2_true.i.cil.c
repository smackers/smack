#include "smack.h"
extern char __VERIFIER_nondet_char(void);
extern int __VERIFIER_nondet_int(void);
extern long __VERIFIER_nondet_long(void);
extern void *__VERIFIER_nondet_pointer(void);
/* Generated by CIL v. 1.3.7 */
/* print_CIL_Input is true */

#line 33 "C:/NTDDK/inc/stdio.h"
#pragma pack(push,8)
#line 63 "C:/NTDDK/inc/stdio.h"
typedef unsigned int size_t;
#line 70 "C:/NTDDK/inc/stdio.h"
typedef unsigned short wchar_t;
#line 432
#pragma pack(pop)
#line 33 "C:/Program Files/Microsoft Visual Studio/VC98/include/excpt.h"
#pragma pack(push,8)
#line 156
#pragma pack(pop)
#line 88 "C:/NTDDK/inc/basetsd.h"
typedef unsigned long ULONG_PTR;
#line 88 "C:/NTDDK/inc/basetsd.h"
typedef unsigned long *PULONG_PTR;
#line 288 "C:/NTDDK/inc/basetsd.h"
typedef ULONG_PTR SIZE_T;
#line 217 "C:/NTDDK/inc/ntdef.h"
typedef void *PVOID;
#line 266 "C:/NTDDK/inc/ntdef.h"
typedef char CHAR;
#line 267 "C:/NTDDK/inc/ntdef.h"
typedef short SHORT;
#line 268 "C:/NTDDK/inc/ntdef.h"
typedef long LONG;
#line 276 "C:/NTDDK/inc/ntdef.h"
typedef wchar_t WCHAR;
#line 286 "C:/NTDDK/inc/ntdef.h"
typedef WCHAR *PWSTR;
#line 288 "C:/NTDDK/inc/ntdef.h"
typedef WCHAR const   *PCWSTR;
#line 293 "C:/NTDDK/inc/ntdef.h"
typedef CHAR *PCHAR;
#line 350 "C:/NTDDK/inc/ntdef.h"
typedef LONG *PLONG;
#line 360 "C:/NTDDK/inc/ntdef.h"
typedef unsigned char UCHAR;
#line 361 "C:/NTDDK/inc/ntdef.h"
typedef unsigned short USHORT;
#line 362 "C:/NTDDK/inc/ntdef.h"
typedef unsigned long ULONG;
#line 369 "C:/NTDDK/inc/ntdef.h"
typedef UCHAR *PUCHAR;
#line 371 "C:/NTDDK/inc/ntdef.h"
typedef ULONG *PULONG;
#line 394 "C:/NTDDK/inc/ntdef.h"
typedef void *HANDLE;
#line 400 "C:/NTDDK/inc/ntdef.h"
typedef HANDLE *PHANDLE;
#line 478 "C:/NTDDK/inc/ntdef.h"
typedef char CCHAR;
#line 479 "C:/NTDDK/inc/ntdef.h"
typedef short CSHORT;
#line 492 "C:/NTDDK/inc/ntdef.h"
typedef ULONG LCID;
#line 508 "C:/NTDDK/inc/ntdef.h"
typedef LONG NTSTATUS;
#line 621 "C:/NTDDK/inc/ntdef.h"
typedef long long LONGLONG;
#line 622 "C:/NTDDK/inc/ntdef.h"
typedef unsigned long long ULONGLONG;
#line 649 "C:/NTDDK/inc/ntdef.h"
struct __anonstruct____missing_field_name_1 {
   ULONG LowPart ;
   LONG HighPart ;
};
#line 649 "C:/NTDDK/inc/ntdef.h"
struct __anonstruct_u_2 {
   ULONG LowPart ;
   LONG HighPart ;
};
#line 649 "C:/NTDDK/inc/ntdef.h"
union _LARGE_INTEGER {
   struct __anonstruct____missing_field_name_1 __annonCompField1 ;
   struct __anonstruct_u_2 u ;
   LONGLONG QuadPart ;
};
#line 649 "C:/NTDDK/inc/ntdef.h"
typedef union _LARGE_INTEGER LARGE_INTEGER;
#line 662 "C:/NTDDK/inc/ntdef.h"
typedef LARGE_INTEGER *PLARGE_INTEGER;
#line 668 "C:/NTDDK/inc/ntdef.h"
struct __anonstruct____missing_field_name_3 {
   ULONG LowPart ;
   ULONG HighPart ;
};
#line 668 "C:/NTDDK/inc/ntdef.h"
struct __anonstruct_u_4 {
   ULONG LowPart ;
   ULONG HighPart ;
};
#line 668 "C:/NTDDK/inc/ntdef.h"
union _ULARGE_INTEGER {
   struct __anonstruct____missing_field_name_3 __annonCompField2 ;
   struct __anonstruct_u_4 u ;
   ULONGLONG QuadPart ;
};
#line 668 "C:/NTDDK/inc/ntdef.h"
typedef union _ULARGE_INTEGER ULARGE_INTEGER;
#line 690 "C:/NTDDK/inc/ntdef.h"
struct _LUID {
   ULONG LowPart ;
   LONG HighPart ;
};
#line 690 "C:/NTDDK/inc/ntdef.h"
typedef struct _LUID LUID;
#line 707 "C:/NTDDK/inc/ntdef.h"
typedef LARGE_INTEGER PHYSICAL_ADDRESS;
#line 956
enum _EVENT_TYPE {
    NotificationEvent = 0,
    SynchronizationEvent = 1
} ;
#line 956 "C:/NTDDK/inc/ntdef.h"
typedef enum _EVENT_TYPE EVENT_TYPE;
#line 984 "C:/NTDDK/inc/ntdef.h"
typedef char const   *PCSZ;
#line 991 "C:/NTDDK/inc/ntdef.h"
struct _STRING {
   USHORT Length ;
   USHORT MaximumLength ;
   PCHAR Buffer ;
};
#line 991 "C:/NTDDK/inc/ntdef.h"
typedef struct _STRING STRING;
#line 999 "C:/NTDDK/inc/ntdef.h"
typedef STRING *PSTRING;
#line 1002 "C:/NTDDK/inc/ntdef.h"
typedef PSTRING PANSI_STRING;
#line 1027 "C:/NTDDK/inc/ntdef.h"
struct _UNICODE_STRING {
   USHORT Length ;
   USHORT MaximumLength ;
   PWSTR Buffer ;
};
#line 1027 "C:/NTDDK/inc/ntdef.h"
typedef struct _UNICODE_STRING UNICODE_STRING;
#line 1036 "C:/NTDDK/inc/ntdef.h"
typedef UNICODE_STRING *PUNICODE_STRING;
#line 1046 "C:/NTDDK/inc/ntdef.h"
typedef UCHAR BOOLEAN;
#line 1057 "C:/NTDDK/inc/ntdef.h"
struct _LIST_ENTRY {
   struct _LIST_ENTRY *Flink ;
   struct _LIST_ENTRY *Blink ;
};
#line 1057 "C:/NTDDK/inc/ntdef.h"
typedef struct _LIST_ENTRY LIST_ENTRY;
#line 1057 "C:/NTDDK/inc/ntdef.h"
typedef struct _LIST_ENTRY *PLIST_ENTRY;
#line 1067 "C:/NTDDK/inc/ntdef.h"
struct _SINGLE_LIST_ENTRY {
   struct _SINGLE_LIST_ENTRY *Next ;
};
#line 1067 "C:/NTDDK/inc/ntdef.h"
typedef struct _SINGLE_LIST_ENTRY SINGLE_LIST_ENTRY;
#line 1067 "C:/NTDDK/inc/ntdef.h"
typedef struct _SINGLE_LIST_ENTRY *PSINGLE_LIST_ENTRY;
#line 1078 "C:/NTDDK/inc/ntdef.h"
struct LIST_ENTRY32 {
   ULONG Flink ;
   ULONG Blink ;
};
#line 1078 "C:/NTDDK/inc/ntdef.h"
typedef struct LIST_ENTRY32 LIST_ENTRY32;
#line 1082 "C:/NTDDK/inc/ntdef.h"
typedef LIST_ENTRY32 *PLIST_ENTRY32;
#line 1084 "C:/NTDDK/inc/ntdef.h"
struct LIST_ENTRY64 {
   ULONGLONG Flink ;
   ULONGLONG Blink ;
};
#line 1084 "C:/NTDDK/inc/ntdef.h"
typedef struct LIST_ENTRY64 LIST_ENTRY64;
#line 1088 "C:/NTDDK/inc/ntdef.h"
typedef LIST_ENTRY64 *PLIST_ENTRY64;
#line 1173 "C:/NTDDK/inc/ntdef.h"
struct _OBJECT_ATTRIBUTES {
   ULONG Length ;
   HANDLE RootDirectory ;
   PUNICODE_STRING ObjectName ;
   ULONG Attributes ;
   PVOID SecurityDescriptor ;
   PVOID SecurityQualityOfService ;
};
#line 1173 "C:/NTDDK/inc/ntdef.h"
typedef struct _OBJECT_ATTRIBUTES OBJECT_ATTRIBUTES;
#line 1181 "C:/NTDDK/inc/ntdef.h"
typedef OBJECT_ATTRIBUTES *POBJECT_ATTRIBUTES;
#line 17 "C:/NTDDK/inc/guiddef.h"
struct _GUID {
   unsigned long Data1 ;
   unsigned short Data2 ;
   unsigned short Data3 ;
   unsigned char Data4[8] ;
};
#line 17 "C:/NTDDK/inc/guiddef.h"
typedef struct _GUID GUID;
#line 1306 "C:/NTDDK/inc/ntdef.h"
typedef UCHAR KIRQL;
#line 1316
enum _NT_PRODUCT_TYPE {
    NtProductWinNt = 1,
    NtProductLanManNt = 2,
    NtProductServer = 3
} ;
#line 1316 "C:/NTDDK/inc/ntdef.h"
typedef enum _NT_PRODUCT_TYPE NT_PRODUCT_TYPE;
#line 75 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KTHREAD;
#line 75
struct _KTHREAD;
#line 75 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KTHREAD *PKTHREAD;
#line 76
struct _ETHREAD;
#line 76
struct _ETHREAD;
#line 76 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _ETHREAD *PETHREAD;
#line 77
struct _EPROCESS;
#line 77
struct _EPROCESS;
#line 77 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _EPROCESS *PEPROCESS;
#line 80
struct _IO_TIMER;
#line 80
struct _IO_TIMER;
#line 80 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IO_TIMER *PIO_TIMER;
#line 81
struct _OBJECT_TYPE;
#line 81
struct _OBJECT_TYPE;
#line 81 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _OBJECT_TYPE *POBJECT_TYPE;
#line 143 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct____missing_field_name_5 {
   SINGLE_LIST_ENTRY Next ;
   USHORT Depth ;
   USHORT Sequence ;
};
#line 143 "C:/NTDDK/inc/ddk/ntddk.h"
union _SLIST_HEADER {
   ULONGLONG Alignment ;
   struct __anonstruct____missing_field_name_5 __annonCompField3 ;
};
#line 143 "C:/NTDDK/inc/ddk/ntddk.h"
typedef union _SLIST_HEADER SLIST_HEADER;
#line 143 "C:/NTDDK/inc/ddk/ntddk.h"
typedef union _SLIST_HEADER *PSLIST_HEADER;
#line 204 "C:/NTDDK/inc/ddk/ntddk.h"
typedef CCHAR KPROCESSOR_MODE;
#line 222
struct _KAPC;
#line 222
struct _KAPC;
#line 222
struct _KAPC;
#line 224 "C:/NTDDK/inc/ddk/ntddk.h"
typedef void (*PKNORMAL_ROUTINE)(PVOID NormalContext , PVOID SystemArgument1 , PVOID SystemArgument2 );
#line 265 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KAPC {
   CSHORT Type ;
   CSHORT Size ;
   ULONG Spare0 ;
   struct _KTHREAD *Thread ;
   LIST_ENTRY ApcListEntry ;
   void (*KernelRoutine)(struct _KAPC *Apc , PKNORMAL_ROUTINE *NormalRoutine , PVOID *NormalContext ,
                         PVOID *SystemArgument1 , PVOID *SystemArgument2 ) ;
   void (*RundownRoutine)(struct _KAPC *Apc ) ;
   void (*NormalRoutine)(PVOID NormalContext , PVOID SystemArgument1 , PVOID SystemArgument2 ) ;
   PVOID NormalContext ;
   PVOID SystemArgument1 ;
   PVOID SystemArgument2 ;
   CCHAR ApcStateIndex ;
   KPROCESSOR_MODE ApcMode ;
   BOOLEAN Inserted ;
};
#line 265 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KAPC KAPC;
#line 292
struct _KDPC;
#line 292
struct _KDPC;
#line 292
struct _KDPC;
#line 361 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KDPC {
   CSHORT Type ;
   UCHAR Number ;
   UCHAR Importance ;
   LIST_ENTRY DpcListEntry ;
   void (*DeferredRoutine)(struct _KDPC *Dpc , PVOID DeferredContext , PVOID SystemArgument1 ,
                           PVOID SystemArgument2 ) ;
   PVOID DeferredContext ;
   PVOID SystemArgument1 ;
   PVOID SystemArgument2 ;
   PULONG_PTR Lock ;
};
#line 361 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KDPC KDPC;
#line 361 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KDPC *PKDPC;
#line 443 "C:/NTDDK/inc/ddk/ntddk.h"
struct _MDL {
   struct _MDL *Next ;
   CSHORT Size ;
   CSHORT MdlFlags ;
   struct _EPROCESS *Process ;
   PVOID MappedSystemVa ;
   PVOID StartVa ;
   ULONG ByteCount ;
   ULONG ByteOffset ;
};
#line 443 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _MDL MDL;
#line 443 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _MDL *PMDL;
#line 532 "C:/NTDDK/inc/ddk/ntddk.h"
typedef PVOID PACCESS_TOKEN;
#line 538 "C:/NTDDK/inc/ddk/ntddk.h"
typedef PVOID PSECURITY_DESCRIPTOR;
#line 546 "C:/NTDDK/inc/ddk/ntddk.h"
typedef ULONG ACCESS_MASK;
#line 27 "C:/NTDDK/inc/pshpack4.h"
#pragma pack(push,4)
#line 618 "C:/NTDDK/inc/ddk/ntddk.h"
struct _LUID_AND_ATTRIBUTES {
   LUID Luid ;
   ULONG Attributes ;
};
#line 618 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _LUID_AND_ATTRIBUTES LUID_AND_ATTRIBUTES;
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 681 "C:/NTDDK/inc/ddk/ntddk.h"
struct _PRIVILEGE_SET {
   ULONG PrivilegeCount ;
   ULONG Control ;
   LUID_AND_ATTRIBUTES Privilege[1] ;
};
#line 681 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _PRIVILEGE_SET PRIVILEGE_SET;
#line 735
enum _SECURITY_IMPERSONATION_LEVEL {
    SecurityAnonymous = 0,
    SecurityIdentification = 1,
    SecurityImpersonation = 2,
    SecurityDelegation = 3
} ;
#line 735 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _SECURITY_IMPERSONATION_LEVEL SECURITY_IMPERSONATION_LEVEL;
#line 753 "C:/NTDDK/inc/ddk/ntddk.h"
typedef BOOLEAN SECURITY_CONTEXT_TRACKING_MODE;
#line 762 "C:/NTDDK/inc/ddk/ntddk.h"
struct _SECURITY_QUALITY_OF_SERVICE {
   ULONG Length ;
   SECURITY_IMPERSONATION_LEVEL ImpersonationLevel ;
   SECURITY_CONTEXT_TRACKING_MODE ContextTrackingMode ;
   BOOLEAN EffectiveOnly ;
};
#line 762 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _SECURITY_QUALITY_OF_SERVICE *PSECURITY_QUALITY_OF_SERVICE;
#line 782 "C:/NTDDK/inc/ddk/ntddk.h"
typedef ULONG SECURITY_INFORMATION;
#line 816 "C:/NTDDK/inc/ddk/ntddk.h"
typedef LONG KPRIORITY;
#line 824 "C:/NTDDK/inc/ddk/ntddk.h"
typedef ULONG_PTR KSPIN_LOCK;
#line 825 "C:/NTDDK/inc/ddk/ntddk.h"
typedef KSPIN_LOCK *PKSPIN_LOCK;
#line 1088 "C:/NTDDK/inc/ddk/ntddk.h"
struct _RTL_QUERY_REGISTRY_TABLE {
   NTSTATUS ( __attribute__((__stdcall__)) (*QueryRoutine))(PWSTR ValueName , ULONG ValueType ,
                                                            PVOID ValueData , ULONG ValueLength ,
                                                            PVOID Context , PVOID EntryContext ) ;
   ULONG Flags ;
   PWSTR Name ;
   PVOID EntryContext ;
   ULONG DefaultType ;
   PVOID DefaultData ;
   ULONG DefaultLength ;
};
#line 1088 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _RTL_QUERY_REGISTRY_TABLE RTL_QUERY_REGISTRY_TABLE;
#line 1088 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _RTL_QUERY_REGISTRY_TABLE *PRTL_QUERY_REGISTRY_TABLE;
#line 3648 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion____missing_field_name_6 {
   NTSTATUS Status ;
   PVOID Pointer ;
};
#line 3648 "C:/NTDDK/inc/ddk/ntddk.h"
struct _IO_STATUS_BLOCK {
   union __anonunion____missing_field_name_6 __annonCompField4 ;
   ULONG_PTR Information ;
};
#line 3648 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IO_STATUS_BLOCK IO_STATUS_BLOCK;
#line 3648 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IO_STATUS_BLOCK *PIO_STATUS_BLOCK;
#line 3685
enum _FILE_INFORMATION_CLASS {
    FileDirectoryInformation = 1,
    FileFullDirectoryInformation = 2,
    FileBothDirectoryInformation = 3,
    FileBasicInformation = 4,
    FileStandardInformation = 5,
    FileInternalInformation = 6,
    FileEaInformation = 7,
    FileAccessInformation = 8,
    FileNameInformation = 9,
    FileRenameInformation = 10,
    FileLinkInformation = 11,
    FileNamesInformation = 12,
    FileDispositionInformation = 13,
    FilePositionInformation = 14,
    FileFullEaInformation = 15,
    FileModeInformation = 16,
    FileAlignmentInformation = 17,
    FileAllInformation = 18,
    FileAllocationInformation = 19,
    FileEndOfFileInformation = 20,
    FileAlternateNameInformation = 21,
    FileStreamInformation = 22,
    FilePipeInformation = 23,
    FilePipeLocalInformation = 24,
    FilePipeRemoteInformation = 25,
    FileMailslotQueryInformation = 26,
    FileMailslotSetInformation = 27,
    FileCompressionInformation = 28,
    FileObjectIdInformation = 29,
    FileCompletionInformation = 30,
    FileMoveClusterInformation = 31,
    FileQuotaInformation = 32,
    FileReparsePointInformation = 33,
    FileNetworkOpenInformation = 34,
    FileAttributeTagInformation = 35,
    FileTrackingInformation = 36,
    FileMaximumInformation = 37
} ;
#line 3685 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _FILE_INFORMATION_CLASS FILE_INFORMATION_CLASS;
#line 3731 "C:/NTDDK/inc/ddk/ntddk.h"
struct _FILE_BASIC_INFORMATION {
   LARGE_INTEGER CreationTime ;
   LARGE_INTEGER LastAccessTime ;
   LARGE_INTEGER LastWriteTime ;
   LARGE_INTEGER ChangeTime ;
   ULONG FileAttributes ;
};
#line 3731 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _FILE_BASIC_INFORMATION *PFILE_BASIC_INFORMATION;
#line 3739 "C:/NTDDK/inc/ddk/ntddk.h"
struct _FILE_STANDARD_INFORMATION {
   LARGE_INTEGER AllocationSize ;
   LARGE_INTEGER EndOfFile ;
   ULONG NumberOfLinks ;
   BOOLEAN DeletePending ;
   BOOLEAN Directory ;
};
#line 3739 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _FILE_STANDARD_INFORMATION *PFILE_STANDARD_INFORMATION;
#line 3760 "C:/NTDDK/inc/ddk/ntddk.h"
struct _FILE_NETWORK_OPEN_INFORMATION {
   LARGE_INTEGER CreationTime ;
   LARGE_INTEGER LastAccessTime ;
   LARGE_INTEGER LastWriteTime ;
   LARGE_INTEGER ChangeTime ;
   LARGE_INTEGER AllocationSize ;
   LARGE_INTEGER EndOfFile ;
   ULONG FileAttributes ;
};
#line 3760 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _FILE_NETWORK_OPEN_INFORMATION *PFILE_NETWORK_OPEN_INFORMATION;
#line 3798
enum _FSINFOCLASS {
    FileFsVolumeInformation = 1,
    FileFsLabelInformation = 2,
    FileFsSizeInformation = 3,
    FileFsDeviceInformation = 4,
    FileFsAttributeInformation = 5,
    FileFsControlInformation = 6,
    FileFsFullSizeInformation = 7,
    FileFsObjectIdInformation = 8,
    FileFsMaximumInformation = 9
} ;
#line 3798 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _FSINFOCLASS FS_INFORMATION_CLASS;
#line 3829
enum _INTERFACE_TYPE {
    InterfaceTypeUndefined = -1,
    Internal = 0,
    Isa = 1,
    Eisa = 2,
    MicroChannel = 3,
    TurboChannel = 4,
    PCIBus = 5,
    VMEBus = 6,
    NuBus = 7,
    PCMCIABus = 8,
    CBus = 9,
    MPIBus = 10,
    MPSABus = 11,
    ProcessorInternal = 12,
    InternalPowerBus = 13,
    PNPISABus = 14,
    PNPBus = 15,
    MaximumInterfaceType = 16
} ;
#line 3829 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _INTERFACE_TYPE INTERFACE_TYPE;
#line 3829 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _INTERFACE_TYPE *PINTERFACE_TYPE;
#line 4141 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KEY_VALUE_FULL_INFORMATION {
   ULONG TitleIndex ;
   ULONG Type ;
   ULONG DataOffset ;
   ULONG DataLength ;
   ULONG NameLength ;
   WCHAR Name[1] ;
};
#line 4141 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KEY_VALUE_FULL_INFORMATION *PKEY_VALUE_FULL_INFORMATION;
#line 4294 "C:/NTDDK/inc/ddk/ntddk.h"
struct _CLIENT_ID {
   HANDLE UniqueProcess ;
   HANDLE UniqueThread ;
};
#line 4294 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _CLIENT_ID CLIENT_ID;
#line 4298 "C:/NTDDK/inc/ddk/ntddk.h"
typedef CLIENT_ID *PCLIENT_ID;
#line 4587
enum _SYSTEM_POWER_STATE {
    PowerSystemUnspecified = 0,
    PowerSystemWorking = 1,
    PowerSystemSleeping1 = 2,
    PowerSystemSleeping2 = 3,
    PowerSystemSleeping3 = 4,
    PowerSystemHibernate = 5,
    PowerSystemShutdown = 6,
    PowerSystemMaximum = 7
} ;
#line 4587 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _SYSTEM_POWER_STATE SYSTEM_POWER_STATE;
#line 4598
enum __anonenum_POWER_ACTION_11 {
    PowerActionNone = 0,
    PowerActionReserved = 1,
    PowerActionSleep = 2,
    PowerActionHibernate = 3,
    PowerActionShutdown = 4,
    PowerActionShutdownReset = 5,
    PowerActionShutdownOff = 6,
    PowerActionWarmEject = 7
} ;
#line 4598 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum __anonenum_POWER_ACTION_11 POWER_ACTION;
#line 4609
enum _DEVICE_POWER_STATE {
    PowerDeviceUnspecified = 0,
    PowerDeviceD0 = 1,
    PowerDeviceD1 = 2,
    PowerDeviceD2 = 3,
    PowerDeviceD3 = 4,
    PowerDeviceMaximum = 5
} ;
#line 4609 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _DEVICE_POWER_STATE DEVICE_POWER_STATE;
#line 4618 "C:/NTDDK/inc/ddk/ntddk.h"
union _POWER_STATE {
   SYSTEM_POWER_STATE SystemState ;
   DEVICE_POWER_STATE DeviceState ;
};
#line 4618 "C:/NTDDK/inc/ddk/ntddk.h"
typedef union _POWER_STATE POWER_STATE;
#line 4623
enum _POWER_STATE_TYPE {
    SystemPowerState = 0,
    DevicePowerState = 1
} ;
#line 4623 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _POWER_STATE_TYPE POWER_STATE_TYPE;
#line 6994 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KSYSTEM_TIME {
   ULONG LowPart ;
   LONG High1Time ;
   LONG High2Time ;
};
#line 6994 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KSYSTEM_TIME KSYSTEM_TIME;
#line 7850
enum _ALTERNATIVE_ARCHITECTURE_TYPE {
    StandardDesign = 0,
    NEC98x86 = 1,
    EndAlternatives = 2
} ;
#line 7850 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _ALTERNATIVE_ARCHITECTURE_TYPE ALTERNATIVE_ARCHITECTURE_TYPE;
#line 7899 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KUSER_SHARED_DATA {
   ULONG volatile   TickCountLow ;
   ULONG TickCountMultiplier ;
   KSYSTEM_TIME volatile   InterruptTime ;
   KSYSTEM_TIME volatile   SystemTime ;
   KSYSTEM_TIME volatile   TimeZoneBias ;
   USHORT ImageNumberLow ;
   USHORT ImageNumberHigh ;
   WCHAR NtSystemRoot[260] ;
   ULONG MaxStackTraceDepth ;
   ULONG CryptoExponent ;
   ULONG TimeZoneId ;
   ULONG Reserved2[8] ;
   NT_PRODUCT_TYPE NtProductType ;
   BOOLEAN ProductTypeIsValid ;
   ULONG NtMajorVersion ;
   ULONG NtMinorVersion ;
   BOOLEAN ProcessorFeatures[64] ;
   ULONG Reserved1 ;
   ULONG Reserved3 ;
   ULONG volatile   TimeSlip ;
   ALTERNATIVE_ARCHITECTURE_TYPE AlternativeArchitecture ;
   LARGE_INTEGER SystemExpirationDate ;
   ULONG SuiteMask ;
   BOOLEAN KdDebuggerEnabled ;
};
#line 7899 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KUSER_SHARED_DATA KUSER_SHARED_DATA;
#line 8211 "C:/NTDDK/inc/ddk/ntddk.h"
typedef PVOID PASSIGNED_RESOURCE;
#line 27 "C:/NTDDK/inc/pshpack4.h"
#pragma pack(push,4)
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Generic_16 {
   PHYSICAL_ADDRESS Start ;
   ULONG Length ;
};
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Port_17 {
   PHYSICAL_ADDRESS Start ;
   ULONG Length ;
};
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Interrupt_18 {
   ULONG Level ;
   ULONG Vector ;
   ULONG Affinity ;
};
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Memory_19 {
   PHYSICAL_ADDRESS Start ;
   ULONG Length ;
};
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Dma_20 {
   ULONG Channel ;
   ULONG Port ;
   ULONG Reserved1 ;
};
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_DevicePrivate_21 {
   ULONG Data[3] ;
};
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_BusNumber_22 {
   ULONG Start ;
   ULONG Length ;
   ULONG Reserved ;
};
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_DeviceSpecificData_23 {
   ULONG DataSize ;
   ULONG Reserved1 ;
   ULONG Reserved2 ;
};
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion_u_15 {
   struct __anonstruct_Generic_16 Generic ;
   struct __anonstruct_Port_17 Port ;
   struct __anonstruct_Interrupt_18 Interrupt ;
   struct __anonstruct_Memory_19 Memory ;
   struct __anonstruct_Dma_20 Dma ;
   struct __anonstruct_DevicePrivate_21 DevicePrivate ;
   struct __anonstruct_BusNumber_22 BusNumber ;
   struct __anonstruct_DeviceSpecificData_23 DeviceSpecificData ;
};
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
struct _CM_PARTIAL_RESOURCE_DESCRIPTOR {
   UCHAR Type ;
   UCHAR ShareDisposition ;
   USHORT Flags ;
   union __anonunion_u_15 u ;
};
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _CM_PARTIAL_RESOURCE_DESCRIPTOR CM_PARTIAL_RESOURCE_DESCRIPTOR;
#line 8309 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _CM_PARTIAL_RESOURCE_DESCRIPTOR *PCM_PARTIAL_RESOURCE_DESCRIPTOR;
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 8419 "C:/NTDDK/inc/ddk/ntddk.h"
struct _CM_PARTIAL_RESOURCE_LIST {
   USHORT Version ;
   USHORT Revision ;
   ULONG Count ;
   CM_PARTIAL_RESOURCE_DESCRIPTOR PartialDescriptors[1] ;
};
#line 8419 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _CM_PARTIAL_RESOURCE_LIST CM_PARTIAL_RESOURCE_LIST;
#line 8443 "C:/NTDDK/inc/ddk/ntddk.h"
struct _CM_FULL_RESOURCE_DESCRIPTOR {
   INTERFACE_TYPE InterfaceType ;
   ULONG BusNumber ;
   CM_PARTIAL_RESOURCE_LIST PartialResourceList ;
};
#line 8443 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _CM_FULL_RESOURCE_DESCRIPTOR CM_FULL_RESOURCE_DESCRIPTOR;
#line 8443 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _CM_FULL_RESOURCE_DESCRIPTOR *PCM_FULL_RESOURCE_DESCRIPTOR;
#line 8454 "C:/NTDDK/inc/ddk/ntddk.h"
struct _CM_RESOURCE_LIST {
   ULONG Count ;
   CM_FULL_RESOURCE_DESCRIPTOR List[1] ;
};
#line 8454 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _CM_RESOURCE_LIST *PCM_RESOURCE_LIST;
#line 27 "C:/NTDDK/inc/pshpack1.h"
#pragma pack(push,1)
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 8844 "C:/NTDDK/inc/ddk/ntddk.h"
struct _CM_FLOPPY_DEVICE_DATA {
   USHORT Version ;
   USHORT Revision ;
   CHAR Size[8] ;
   ULONG MaxDensity ;
   ULONG MountDensity ;
   UCHAR StepRateHeadUnloadTime ;
   UCHAR HeadLoadTime ;
   UCHAR MotorOffTime ;
   UCHAR SectorLengthCode ;
   UCHAR SectorPerTrack ;
   UCHAR ReadWriteGapLength ;
   UCHAR DataTransferLength ;
   UCHAR FormatGapLength ;
   UCHAR FormatFillCharacter ;
   UCHAR HeadSettleTime ;
   UCHAR MotorSettleTime ;
   UCHAR MaximumTrackValue ;
   UCHAR DataTransferRate ;
};
#line 8844 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _CM_FLOPPY_DEVICE_DATA *PCM_FLOPPY_DEVICE_DATA;
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Port_25 {
   ULONG Length ;
   ULONG Alignment ;
   PHYSICAL_ADDRESS MinimumAddress ;
   PHYSICAL_ADDRESS MaximumAddress ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Memory_26 {
   ULONG Length ;
   ULONG Alignment ;
   PHYSICAL_ADDRESS MinimumAddress ;
   PHYSICAL_ADDRESS MaximumAddress ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Interrupt_27 {
   ULONG MinimumVector ;
   ULONG MaximumVector ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Dma_28 {
   ULONG MinimumChannel ;
   ULONG MaximumChannel ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Generic_29 {
   ULONG Length ;
   ULONG Alignment ;
   PHYSICAL_ADDRESS MinimumAddress ;
   PHYSICAL_ADDRESS MaximumAddress ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_DevicePrivate_30 {
   ULONG Data[3] ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_BusNumber_31 {
   ULONG Length ;
   ULONG MinBusNumber ;
   ULONG MaxBusNumber ;
   ULONG Reserved ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_AssignedResource_32 {
   PASSIGNED_RESOURCE AssignedResource ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_SubAllocateFrom_33 {
   UCHAR Type ;
   UCHAR Reserved[3] ;
   PASSIGNED_RESOURCE AssignedResource ;
   PHYSICAL_ADDRESS Transformation ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_ConfigData_34 {
   ULONG Priority ;
   ULONG Reserved1 ;
   ULONG Reserved2 ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion_u_24 {
   struct __anonstruct_Port_25 Port ;
   struct __anonstruct_Memory_26 Memory ;
   struct __anonstruct_Interrupt_27 Interrupt ;
   struct __anonstruct_Dma_28 Dma ;
   struct __anonstruct_Generic_29 Generic ;
   struct __anonstruct_DevicePrivate_30 DevicePrivate ;
   struct __anonstruct_BusNumber_31 BusNumber ;
   struct __anonstruct_AssignedResource_32 AssignedResource ;
   struct __anonstruct_SubAllocateFrom_33 SubAllocateFrom ;
   struct __anonstruct_ConfigData_34 ConfigData ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
struct _IO_RESOURCE_DESCRIPTOR {
   UCHAR Option ;
   UCHAR Type ;
   UCHAR ShareDisposition ;
   UCHAR Spare1 ;
   USHORT Flags ;
   USHORT Spare2 ;
   union __anonunion_u_24 u ;
};
#line 8944 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IO_RESOURCE_DESCRIPTOR IO_RESOURCE_DESCRIPTOR;
#line 9027 "C:/NTDDK/inc/ddk/ntddk.h"
struct _IO_RESOURCE_LIST {
   USHORT Version ;
   USHORT Revision ;
   ULONG Count ;
   IO_RESOURCE_DESCRIPTOR Descriptors[1] ;
};
#line 9027 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IO_RESOURCE_LIST IO_RESOURCE_LIST;
#line 9036 "C:/NTDDK/inc/ddk/ntddk.h"
struct _IO_RESOURCE_REQUIREMENTS_LIST {
   ULONG ListSize ;
   INTERFACE_TYPE InterfaceType ;
   ULONG BusNumber ;
   ULONG SlotNumber ;
   ULONG Reserved[3] ;
   ULONG AlternativeLists ;
   IO_RESOURCE_LIST List[1] ;
};
#line 9036 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IO_RESOURCE_REQUIREMENTS_LIST *PIO_RESOURCE_REQUIREMENTS_LIST;
#line 9111
enum _CONFIGURATION_TYPE {
    ArcSystem = 0,
    CentralProcessor = 1,
    FloatingPointProcessor = 2,
    PrimaryIcache = 3,
    PrimaryDcache = 4,
    SecondaryIcache = 5,
    SecondaryDcache = 6,
    SecondaryCache = 7,
    EisaAdapter = 8,
    TcAdapter = 9,
    ScsiAdapter = 10,
    DtiAdapter = 11,
    MultiFunctionAdapter = 12,
    DiskController = 13,
    TapeController = 14,
    CdromController = 15,
    WormController = 16,
    SerialController = 17,
    NetworkController = 18,
    DisplayController = 19,
    ParallelController = 20,
    PointerController = 21,
    KeyboardController = 22,
    AudioController = 23,
    OtherController = 24,
    DiskPeripheral = 25,
    FloppyDiskPeripheral = 26,
    TapePeripheral = 27,
    ModemPeripheral = 28,
    MonitorPeripheral = 29,
    PrinterPeripheral = 30,
    PointerPeripheral = 31,
    KeyboardPeripheral = 32,
    TerminalPeripheral = 33,
    OtherPeripheral = 34,
    LinePeripheral = 35,
    NetworkPeripheral = 36,
    SystemMemory = 37,
    DockingInformation = 38,
    RealModeIrqRoutingTable = 39,
    MaximumType = 40
} ;
#line 9111 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _CONFIGURATION_TYPE CONFIGURATION_TYPE;
#line 9111 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _CONFIGURATION_TYPE *PCONFIGURATION_TYPE;
#line 9170
enum _KWAIT_REASON {
    Executive = 0,
    FreePage = 1,
    PageIn = 2,
    PoolAllocation = 3,
    DelayExecution = 4,
    Suspended = 5,
    UserRequest = 6,
    WrExecutive = 7,
    WrFreePage = 8,
    WrPageIn = 9,
    WrPoolAllocation = 10,
    WrDelayExecution = 11,
    WrSuspended = 12,
    WrUserRequest = 13,
    WrEventPair = 14,
    WrQueue = 15,
    WrLpcReceive = 16,
    WrLpcReply = 17,
    WrVirtualMemory = 18,
    WrPageOut = 19,
    WrRendezvous = 20,
    Spare2 = 21,
    Spare3 = 22,
    Spare4 = 23,
    Spare5 = 24,
    Spare6 = 25,
    WrKernel = 26,
    MaximumWaitReason = 27
} ;
#line 9170 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _KWAIT_REASON KWAIT_REASON;
#line 9207 "C:/NTDDK/inc/ddk/ntddk.h"
struct _DISPATCHER_HEADER {
   UCHAR Type ;
   UCHAR Absolute ;
   UCHAR Size ;
   UCHAR Inserted ;
   LONG SignalState ;
   LIST_ENTRY WaitListHead ;
};
#line 9207 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _DISPATCHER_HEADER DISPATCHER_HEADER;
#line 9244 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KDEVICE_QUEUE {
   CSHORT Type ;
   CSHORT Size ;
   LIST_ENTRY DeviceListHead ;
   KSPIN_LOCK Lock ;
   BOOLEAN Busy ;
};
#line 9244 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KDEVICE_QUEUE KDEVICE_QUEUE;
#line 9252 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KDEVICE_QUEUE_ENTRY {
   LIST_ENTRY DeviceListEntry ;
   ULONG SortKey ;
   BOOLEAN Inserted ;
};
#line 9252 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KDEVICE_QUEUE_ENTRY KDEVICE_QUEUE_ENTRY;
#line 9263 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KEVENT {
   DISPATCHER_HEADER Header ;
};
#line 9263 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KEVENT KEVENT;
#line 9263 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KEVENT *PKEVENT;
#line 9263 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KEVENT *PRKEVENT;
#line 9294 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KSEMAPHORE {
   DISPATCHER_HEADER Header ;
   LONG Limit ;
};
#line 9294 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KSEMAPHORE KSEMAPHORE;
#line 9294 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KSEMAPHORE *PKSEMAPHORE;
#line 9294 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _KSEMAPHORE *PRKSEMAPHORE;
#line 10057
enum _MEMORY_CACHING_TYPE {
    MmNonCached = 0,
    MmCached = 1,
    MmWriteCombined = 2,
    MmHardwareCoherentCached = 3,
    MmNonCachedUnordered = 4,
    MmUSWCCached = 5,
    MmMaximumCacheType = 6
} ;
#line 10057 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _MEMORY_CACHING_TYPE MEMORY_CACHING_TYPE;
#line 10115
enum _POOL_TYPE {
    NonPagedPool = 0,
    PagedPool = 1,
    NonPagedPoolMustSucceed = 2,
    DontUseThisType = 3,
    NonPagedPoolCacheAligned = 4,
    PagedPoolCacheAligned = 5,
    NonPagedPoolCacheAlignedMustS = 6,
    MaxPoolType = 7,
    NonPagedPoolSession = 32,
    PagedPoolSession = 33,
    NonPagedPoolMustSucceedSession = 34,
    DontUseThisTypeSession = 35,
    NonPagedPoolCacheAlignedSession = 36,
    PagedPoolCacheAlignedSession = 37,
    NonPagedPoolCacheAlignedMustSSession = 38
} ;
#line 10115 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _POOL_TYPE POOL_TYPE;
#line 10247 "C:/NTDDK/inc/ddk/ntddk.h"
struct _FAST_MUTEX {
   LONG Count ;
   PKTHREAD Owner ;
   ULONG Contention ;
   KEVENT Event ;
   ULONG OldIrql ;
};
#line 10247 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _FAST_MUTEX FAST_MUTEX;
#line 10247 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _FAST_MUTEX *PFAST_MUTEX;
#line 10588 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion____missing_field_name_35 {
   ULONG AllocateMisses ;
   ULONG AllocateHits ;
};
#line 10588 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion____missing_field_name_36 {
   ULONG FreeMisses ;
   ULONG FreeHits ;
};
#line 10588 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion____missing_field_name_37 {
   ULONG LastAllocateMisses ;
   ULONG LastAllocateHits ;
};
#line 10588 "C:/NTDDK/inc/ddk/ntddk.h"
struct _GENERAL_LOOKASIDE {
   SLIST_HEADER ListHead ;
   USHORT Depth ;
   USHORT MaximumDepth ;
   ULONG TotalAllocates ;
   union __anonunion____missing_field_name_35 __annonCompField7 ;
   ULONG TotalFrees ;
   union __anonunion____missing_field_name_36 __annonCompField8 ;
   POOL_TYPE Type ;
   ULONG Tag ;
   ULONG Size ;
   PVOID (*Allocate)(POOL_TYPE PoolType , SIZE_T NumberOfBytes , ULONG Tag ) ;
   void (*Free)(PVOID Buffer ) ;
   LIST_ENTRY ListEntry ;
   ULONG LastTotalAllocates ;
   union __anonunion____missing_field_name_37 __annonCompField9 ;
   ULONG Future[2] ;
};
#line 10588 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _GENERAL_LOOKASIDE GENERAL_LOOKASIDE;
#line 10619 "C:/NTDDK/inc/ddk/ntddk.h"
struct _NPAGED_LOOKASIDE_LIST {
   GENERAL_LOOKASIDE L ;
   KSPIN_LOCK Lock ;
};
#line 10619 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _NPAGED_LOOKASIDE_LIST *PNPAGED_LOOKASIDE_LIST;
#line 11156 "C:/NTDDK/inc/ddk/ntddk.h"
typedef ULONG_PTR ERESOURCE_THREAD;
#line 11159 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion____missing_field_name_38 {
   LONG OwnerCount ;
   ULONG TableSize ;
};
#line 11159 "C:/NTDDK/inc/ddk/ntddk.h"
struct _OWNER_ENTRY {
   ERESOURCE_THREAD OwnerThread ;
   union __anonunion____missing_field_name_38 __annonCompField10 ;
};
#line 11159 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _OWNER_ENTRY OWNER_ENTRY;
#line 11159 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _OWNER_ENTRY *POWNER_ENTRY;
#line 11168 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion____missing_field_name_39 {
   PVOID Address ;
   ULONG_PTR CreatorBackTraceIndex ;
};
#line 11168 "C:/NTDDK/inc/ddk/ntddk.h"
struct _ERESOURCE {
   LIST_ENTRY SystemResourcesList ;
   POWNER_ENTRY OwnerTable ;
   SHORT ActiveCount ;
   USHORT Flag ;
   PKSEMAPHORE SharedWaiters ;
   PKEVENT ExclusiveWaiters ;
   OWNER_ENTRY OwnerThreads[2] ;
   ULONG ContentionCount ;
   USHORT NumberOfSharedWaiters ;
   USHORT NumberOfExclusiveWaiters ;
   union __anonunion____missing_field_name_39 __annonCompField11 ;
   KSPIN_LOCK SpinLock ;
};
#line 11884
enum _LOCK_OPERATION {
    IoReadAccess = 0,
    IoWriteAccess = 1,
    IoModifyAccess = 2
} ;
#line 11884 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _LOCK_OPERATION LOCK_OPERATION;
#line 11970
enum _MM_PAGE_PRIORITY {
    LowPagePriority = 0,
    NormalPagePriority = 16,
    HighPagePriority = 32
} ;
#line 11970 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _MM_PAGE_PRIORITY MM_PAGE_PRIORITY;
#line 12399
struct _DRIVER_OBJECT;
#line 12399
struct _DRIVER_OBJECT;
#line 12399
struct _DRIVER_OBJECT;
#line 12426 "C:/NTDDK/inc/ddk/ntddk.h"
struct _SECURITY_SUBJECT_CONTEXT {
   PACCESS_TOKEN ClientToken ;
   SECURITY_IMPERSONATION_LEVEL ImpersonationLevel ;
   PACCESS_TOKEN PrimaryToken ;
   PVOID ProcessAuditId ;
};
#line 12426 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _SECURITY_SUBJECT_CONTEXT SECURITY_SUBJECT_CONTEXT;
#line 12448 "C:/NTDDK/inc/ddk/ntddk.h"
struct _INITIAL_PRIVILEGE_SET {
   ULONG PrivilegeCount ;
   ULONG Control ;
   LUID_AND_ATTRIBUTES Privilege[3] ;
};
#line 12448 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _INITIAL_PRIVILEGE_SET INITIAL_PRIVILEGE_SET;
#line 12462 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion_Privileges_40 {
   INITIAL_PRIVILEGE_SET InitialPrivilegeSet ;
   PRIVILEGE_SET PrivilegeSet ;
};
#line 12462 "C:/NTDDK/inc/ddk/ntddk.h"
struct _ACCESS_STATE {
   LUID OperationID ;
   BOOLEAN SecurityEvaluated ;
   BOOLEAN GenerateAudit ;
   BOOLEAN GenerateOnClose ;
   BOOLEAN PrivilegesAllocated ;
   ULONG Flags ;
   ACCESS_MASK RemainingDesiredAccess ;
   ACCESS_MASK PreviouslyGrantedAccess ;
   ACCESS_MASK OriginalDesiredAccess ;
   SECURITY_SUBJECT_CONTEXT SubjectSecurityContext ;
   PSECURITY_DESCRIPTOR SecurityDescriptor ;
   PVOID AuxData ;
   union __anonunion_Privileges_40 Privileges ;
   BOOLEAN AuditPrivileges ;
   UNICODE_STRING ObjectName ;
   UNICODE_STRING ObjectTypeName ;
};
#line 12462 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _ACCESS_STATE *PACCESS_STATE;
#line 12906
struct _DEVICE_OBJECT;
#line 12906
struct _DEVICE_OBJECT;
#line 12906
struct _DEVICE_OBJECT;
#line 12908
struct _DRIVER_OBJECT;
#line 12911
struct _FILE_OBJECT;
#line 12911
struct _FILE_OBJECT;
#line 12911
struct _FILE_OBJECT;
#line 12912
struct _IRP;
#line 12912
struct _IRP;
#line 12912
struct _IRP;
#line 12913
struct _SCSI_REQUEST_BLOCK;
#line 12913
struct _SCSI_REQUEST_BLOCK;
#line 12913
struct _SCSI_REQUEST_BLOCK;
#line 12979 "C:/NTDDK/inc/ddk/ntddk.h"
typedef NTSTATUS (*PDRIVER_DISPATCH)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp );
#line 13289
struct _COMPRESSED_DATA_INFO;
#line 13289
struct _COMPRESSED_DATA_INFO;
#line 13350 "C:/NTDDK/inc/ddk/ntddk.h"
struct _FAST_IO_DISPATCH {
   ULONG SizeOfFastIoDispatch ;
   BOOLEAN (*FastIoCheckIfPossible)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                                    ULONG Length , BOOLEAN Wait , ULONG LockKey ,
                                    BOOLEAN CheckForReadOperation , PIO_STATUS_BLOCK IoStatus ,
                                    struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoRead)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                         ULONG Length , BOOLEAN Wait , ULONG LockKey , PVOID Buffer ,
                         PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoWrite)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                          ULONG Length , BOOLEAN Wait , ULONG LockKey , PVOID Buffer ,
                          PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoQueryBasicInfo)(struct _FILE_OBJECT *FileObject , BOOLEAN Wait ,
                                   PFILE_BASIC_INFORMATION Buffer , PIO_STATUS_BLOCK IoStatus ,
                                   struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoQueryStandardInfo)(struct _FILE_OBJECT *FileObject , BOOLEAN Wait ,
                                      PFILE_STANDARD_INFORMATION Buffer , PIO_STATUS_BLOCK IoStatus ,
                                      struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoLock)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                         PLARGE_INTEGER Length , PEPROCESS ProcessId , ULONG Key ,
                         BOOLEAN FailImmediately , BOOLEAN ExclusiveLock , PIO_STATUS_BLOCK IoStatus ,
                         struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoUnlockSingle)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                                 PLARGE_INTEGER Length , PEPROCESS ProcessId , ULONG Key ,
                                 PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoUnlockAll)(struct _FILE_OBJECT *FileObject , PEPROCESS ProcessId ,
                              PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoUnlockAllByKey)(struct _FILE_OBJECT *FileObject , PVOID ProcessId ,
                                   ULONG Key , PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoDeviceControl)(struct _FILE_OBJECT *FileObject , BOOLEAN Wait ,
                                  PVOID InputBuffer , ULONG InputBufferLength , PVOID OutputBuffer ,
                                  ULONG OutputBufferLength , ULONG IoControlCode ,
                                  PIO_STATUS_BLOCK IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   void (*AcquireFileForNtCreateSection)(struct _FILE_OBJECT *FileObject ) ;
   void (*ReleaseFileForNtCreateSection)(struct _FILE_OBJECT *FileObject ) ;
   void (*FastIoDetachDevice)(struct _DEVICE_OBJECT *SourceDevice , struct _DEVICE_OBJECT *TargetDevice ) ;
   BOOLEAN (*FastIoQueryNetworkOpenInfo)(struct _FILE_OBJECT *FileObject , BOOLEAN Wait ,
                                         struct _FILE_NETWORK_OPEN_INFORMATION *Buffer ,
                                         struct _IO_STATUS_BLOCK *IoStatus , struct _DEVICE_OBJECT *DeviceObject ) ;
   NTSTATUS (*AcquireForModWrite)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER EndingOffset ,
                                  struct _ERESOURCE **ResourceToRelease , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*MdlRead)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                      ULONG Length , ULONG LockKey , PMDL *MdlChain , PIO_STATUS_BLOCK IoStatus ,
                      struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*MdlReadComplete)(struct _FILE_OBJECT *FileObject , PMDL MdlChain , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*PrepareMdlWrite)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                              ULONG Length , ULONG LockKey , PMDL *MdlChain , PIO_STATUS_BLOCK IoStatus ,
                              struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*MdlWriteComplete)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                               PMDL MdlChain , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoReadCompressed)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                                   ULONG Length , ULONG LockKey , PVOID Buffer , PMDL *MdlChain ,
                                   PIO_STATUS_BLOCK IoStatus , struct _COMPRESSED_DATA_INFO *CompressedDataInfo ,
                                   ULONG CompressedDataInfoLength , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoWriteCompressed)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                                    ULONG Length , ULONG LockKey , PVOID Buffer ,
                                    PMDL *MdlChain , PIO_STATUS_BLOCK IoStatus , struct _COMPRESSED_DATA_INFO *CompressedDataInfo ,
                                    ULONG CompressedDataInfoLength , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*MdlReadCompleteCompressed)(struct _FILE_OBJECT *FileObject , PMDL MdlChain ,
                                        struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*MdlWriteCompleteCompressed)(struct _FILE_OBJECT *FileObject , PLARGE_INTEGER FileOffset ,
                                         PMDL MdlChain , struct _DEVICE_OBJECT *DeviceObject ) ;
   BOOLEAN (*FastIoQueryOpen)(struct _IRP *Irp , PFILE_NETWORK_OPEN_INFORMATION NetworkInformation ,
                              struct _DEVICE_OBJECT *DeviceObject ) ;
   NTSTATUS (*ReleaseForModWrite)(struct _FILE_OBJECT *FileObject , struct _ERESOURCE *ResourceToRelease ,
                                  struct _DEVICE_OBJECT *DeviceObject ) ;
   NTSTATUS (*AcquireForCcFlush)(struct _FILE_OBJECT *FileObject , struct _DEVICE_OBJECT *DeviceObject ) ;
   NTSTATUS (*ReleaseForCcFlush)(struct _FILE_OBJECT *FileObject , struct _DEVICE_OBJECT *DeviceObject ) ;
};
#line 13350 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _FAST_IO_DISPATCH *PFAST_IO_DISPATCH;
#line 13386
enum _IO_ALLOCATION_ACTION {
    KeepObject = 1,
    DeallocateObject = 2,
    DeallocateObjectKeepRegisters = 3
} ;
#line 13386 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _IO_ALLOCATION_ACTION IO_ALLOCATION_ACTION;
#line 13410 "C:/NTDDK/inc/ddk/ntddk.h"
struct _IO_SECURITY_CONTEXT {
   PSECURITY_QUALITY_OF_SERVICE SecurityQos ;
   PACCESS_STATE AccessState ;
   ACCESS_MASK DesiredAccess ;
   ULONG FullCreateOptions ;
};
#line 13410 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IO_SECURITY_CONTEXT *PIO_SECURITY_CONTEXT;
#line 13434 "C:/NTDDK/inc/ddk/ntddk.h"
struct _VPB {
   CSHORT Type ;
   CSHORT Size ;
   USHORT Flags ;
   USHORT VolumeLabelLength ;
   struct _DEVICE_OBJECT *DeviceObject ;
   struct _DEVICE_OBJECT *RealDevice ;
   ULONG SerialNumber ;
   ULONG ReferenceCount ;
   WCHAR VolumeLabel[(32U * sizeof(WCHAR )) / sizeof(WCHAR )] ;
};
#line 13434 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _VPB *PVPB;
#line 13491 "C:/NTDDK/inc/ddk/ntddk.h"
struct _WAIT_CONTEXT_BLOCK {
   KDEVICE_QUEUE_ENTRY WaitQueueEntry ;
   IO_ALLOCATION_ACTION (*DeviceRoutine)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ,
                                         PVOID MapRegisterBase , PVOID Context ) ;
   PVOID DeviceContext ;
   ULONG NumberOfMapRegisters ;
   PVOID DeviceObject ;
   PVOID CurrentIrp ;
   PKDPC BufferChainingDpc ;
};
#line 13491 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _WAIT_CONTEXT_BLOCK WAIT_CONTEXT_BLOCK;
#line 13537 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion_Queue_43 {
   LIST_ENTRY ListEntry ;
   WAIT_CONTEXT_BLOCK Wcb ;
};
#line 13537
struct _DEVOBJ_EXTENSION;
#line 13537
struct _DEVOBJ_EXTENSION;
#line 13537 "C:/NTDDK/inc/ddk/ntddk.h"
struct _DEVICE_OBJECT {
   CSHORT Type ;
   USHORT Size ;
   LONG ReferenceCount ;
   struct _DRIVER_OBJECT *DriverObject ;
   struct _DEVICE_OBJECT *NextDevice ;
   struct _DEVICE_OBJECT *AttachedDevice ;
   struct _IRP *CurrentIrp ;
   PIO_TIMER Timer ;
   ULONG Flags ;
   ULONG Characteristics ;
   PVPB Vpb ;
   PVOID DeviceExtension ;
   ULONG DeviceType ;
   CCHAR StackSize ;
   union __anonunion_Queue_43 Queue ;
   ULONG AlignmentRequirement ;
   KDEVICE_QUEUE DeviceQueue ;
   KDPC Dpc ;
   ULONG ActiveThreadCount ;
   PSECURITY_DESCRIPTOR SecurityDescriptor ;
   KEVENT DeviceLock ;
   USHORT SectorSize ;
   USHORT Spare1 ;
   struct _DEVOBJ_EXTENSION *DeviceObjectExtension ;
   PVOID Reserved ;
};
#line 13537 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _DEVICE_OBJECT DEVICE_OBJECT;
#line 13575 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _DEVICE_OBJECT *PDEVICE_OBJECT;
#line 13580 "C:/NTDDK/inc/ddk/ntddk.h"
struct _DEVOBJ_EXTENSION {
   CSHORT Type ;
   USHORT Size ;
   PDEVICE_OBJECT DeviceObject ;
};
#line 13608 "C:/NTDDK/inc/ddk/ntddk.h"
struct _DRIVER_EXTENSION {
   struct _DRIVER_OBJECT *DriverObject ;
   NTSTATUS (*AddDevice)(struct _DRIVER_OBJECT *DriverObject , struct _DEVICE_OBJECT *PhysicalDeviceObject ) ;
   ULONG Count ;
   UNICODE_STRING ServiceKeyName ;
};
#line 13608 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _DRIVER_EXTENSION *PDRIVER_EXTENSION;
#line 13645 "C:/NTDDK/inc/ddk/ntddk.h"
struct _DRIVER_OBJECT {
   CSHORT Type ;
   CSHORT Size ;
   PDEVICE_OBJECT DeviceObject ;
   ULONG Flags ;
   PVOID DriverStart ;
   ULONG DriverSize ;
   PVOID DriverSection ;
   PDRIVER_EXTENSION DriverExtension ;
   UNICODE_STRING DriverName ;
   PUNICODE_STRING HardwareDatabase ;
   PFAST_IO_DISPATCH FastIoDispatch ;
   NTSTATUS (*DriverInit)(struct _DRIVER_OBJECT *DriverObject , PUNICODE_STRING RegistryPath ) ;
   void (*DriverStartIo)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ) ;
   void (*DriverUnload)(struct _DRIVER_OBJECT *DriverObject ) ;
   PDRIVER_DISPATCH MajorFunction[28] ;
};
#line 13645 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _DRIVER_OBJECT DRIVER_OBJECT;
#line 13706 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _DRIVER_OBJECT *PDRIVER_OBJECT;
#line 13715 "C:/NTDDK/inc/ddk/ntddk.h"
struct _SECTION_OBJECT_POINTERS {
   PVOID DataSectionObject ;
   PVOID SharedCacheMap ;
   PVOID ImageSectionObject ;
};
#line 13715 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _SECTION_OBJECT_POINTERS SECTION_OBJECT_POINTERS;
#line 13720 "C:/NTDDK/inc/ddk/ntddk.h"
typedef SECTION_OBJECT_POINTERS *PSECTION_OBJECT_POINTERS;
#line 13726 "C:/NTDDK/inc/ddk/ntddk.h"
struct _IO_COMPLETION_CONTEXT {
   PVOID Port ;
   PVOID Key ;
};
#line 13726 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IO_COMPLETION_CONTEXT *PIO_COMPLETION_CONTEXT;
#line 13759 "C:/NTDDK/inc/ddk/ntddk.h"
struct _FILE_OBJECT {
   CSHORT Type ;
   CSHORT Size ;
   PDEVICE_OBJECT DeviceObject ;
   PVPB Vpb ;
   PVOID FsContext ;
   PVOID FsContext2 ;
   PSECTION_OBJECT_POINTERS SectionObjectPointer ;
   PVOID PrivateCacheMap ;
   NTSTATUS FinalStatus ;
   struct _FILE_OBJECT *RelatedFileObject ;
   BOOLEAN LockOperation ;
   BOOLEAN DeletePending ;
   BOOLEAN ReadAccess ;
   BOOLEAN WriteAccess ;
   BOOLEAN DeleteAccess ;
   BOOLEAN SharedRead ;
   BOOLEAN SharedWrite ;
   BOOLEAN SharedDelete ;
   ULONG Flags ;
   UNICODE_STRING FileName ;
   LARGE_INTEGER CurrentByteOffset ;
   ULONG Waiters ;
   ULONG Busy ;
   PVOID LastLock ;
   KEVENT Lock ;
   KEVENT Event ;
   PIO_COMPLETION_CONTEXT CompletionContext ;
};
#line 13788 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _FILE_OBJECT *PFILE_OBJECT;
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion_AssociatedIrp_44 {
   struct _IRP *MasterIrp ;
   LONG IrpCount ;
   PVOID SystemBuffer ;
};
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_AsynchronousParameters_46 {
   void ( __attribute__((__stdcall__)) (*UserApcRoutine))(PVOID ApcContext , PIO_STATUS_BLOCK IoStatusBlock ,
                                                          ULONG Reserved ) ;
   PVOID UserApcContext ;
};
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion_Overlay_45 {
   struct __anonstruct_AsynchronousParameters_46 AsynchronousParameters ;
   LARGE_INTEGER AllocationSize ;
};
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct____missing_field_name_50 {
   PVOID DriverContext[4] ;
};
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion____missing_field_name_49 {
   KDEVICE_QUEUE_ENTRY DeviceQueueEntry ;
   struct __anonstruct____missing_field_name_50 __annonCompField14 ;
};
#line 13828
struct _IO_STACK_LOCATION;
#line 13828
struct _IO_STACK_LOCATION;
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion____missing_field_name_52 {
   struct _IO_STACK_LOCATION *CurrentStackLocation ;
   ULONG PacketType ;
};
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct____missing_field_name_51 {
   LIST_ENTRY ListEntry ;
   union __anonunion____missing_field_name_52 __annonCompField16 ;
};
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Overlay_48 {
   union __anonunion____missing_field_name_49 __annonCompField15 ;
   PETHREAD Thread ;
   PCHAR AuxiliaryBuffer ;
   struct __anonstruct____missing_field_name_51 __annonCompField17 ;
   PFILE_OBJECT OriginalFileObject ;
};
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion_Tail_47 {
   struct __anonstruct_Overlay_48 Overlay ;
   KAPC Apc ;
   PVOID CompletionKey ;
};
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
struct _IRP {
   CSHORT Type ;
   USHORT Size ;
   PMDL MdlAddress ;
   ULONG Flags ;
   union __anonunion_AssociatedIrp_44 AssociatedIrp ;
   LIST_ENTRY ThreadListEntry ;
   IO_STATUS_BLOCK IoStatus ;
   KPROCESSOR_MODE RequestorMode ;
   BOOLEAN PendingReturned ;
   CHAR StackCount ;
   CHAR CurrentLocation ;
   BOOLEAN Cancel ;
   KIRQL CancelIrql ;
   CCHAR ApcEnvironment ;
   UCHAR AllocationFlags ;
   PIO_STATUS_BLOCK UserIosb ;
   PKEVENT UserEvent ;
   union __anonunion_Overlay_45 Overlay ;
   void (*CancelRoutine)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ) ;
   PVOID UserBuffer ;
   union __anonunion_Tail_47 Tail ;
};
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IRP IRP;
#line 13828 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IRP *PIRP;
#line 14163
enum _DEVICE_RELATION_TYPE {
    BusRelations = 0,
    EjectionRelations = 1,
    PowerRelations = 2,
    RemovalRelations = 3,
    TargetDeviceRelation = 4
} ;
#line 14163 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _DEVICE_RELATION_TYPE DEVICE_RELATION_TYPE;
#line 14176
enum _DEVICE_USAGE_NOTIFICATION_TYPE {
    DeviceUsageTypeUndefined = 0,
    DeviceUsageTypePaging = 1,
    DeviceUsageTypeHibernation = 2,
    DeviceUsageTypeDumpFile = 3
} ;
#line 14176 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum _DEVICE_USAGE_NOTIFICATION_TYPE DEVICE_USAGE_NOTIFICATION_TYPE;
#line 14185 "C:/NTDDK/inc/ddk/ntddk.h"
struct _INTERFACE {
   USHORT Size ;
   USHORT Version ;
   PVOID Context ;
   void (*InterfaceReference)(PVOID Context ) ;
   void (*InterfaceDereference)(PVOID Context ) ;
};
#line 14185 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _INTERFACE *PINTERFACE;
#line 14196 "C:/NTDDK/inc/ddk/ntddk.h"
struct _DEVICE_CAPABILITIES {
   USHORT Size ;
   USHORT Version ;
   ULONG DeviceD1 : 1 ;
   ULONG DeviceD2 : 1 ;
   ULONG LockSupported : 1 ;
   ULONG EjectSupported : 1 ;
   ULONG Removable : 1 ;
   ULONG DockDevice : 1 ;
   ULONG UniqueID : 1 ;
   ULONG SilentInstall : 1 ;
   ULONG RawDeviceOK : 1 ;
   ULONG SurpriseRemovalOK : 1 ;
   ULONG WakeFromD0 : 1 ;
   ULONG WakeFromD1 : 1 ;
   ULONG WakeFromD2 : 1 ;
   ULONG WakeFromD3 : 1 ;
   ULONG HardwareDisabled : 1 ;
   ULONG NonDynamic : 1 ;
   ULONG WarmEjectSupported : 1 ;
   ULONG Reserved : 15 ;
   ULONG Address ;
   ULONG UINumber ;
   DEVICE_POWER_STATE DeviceState[7] ;
   SYSTEM_POWER_STATE SystemWake ;
   DEVICE_POWER_STATE DeviceWake ;
   ULONG D1Latency ;
   ULONG D2Latency ;
   ULONG D3Latency ;
};
#line 14196 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _DEVICE_CAPABILITIES *PDEVICE_CAPABILITIES;
#line 14229 "C:/NTDDK/inc/ddk/ntddk.h"
struct _POWER_SEQUENCE {
   ULONG SequenceD1 ;
   ULONG SequenceD2 ;
   ULONG SequenceD3 ;
};
#line 14229 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _POWER_SEQUENCE *PPOWER_SEQUENCE;
#line 14235
enum __anonenum_BUS_QUERY_ID_TYPE_53 {
    BusQueryDeviceID = 0,
    BusQueryHardwareIDs = 1,
    BusQueryCompatibleIDs = 2,
    BusQueryInstanceID = 3,
    BusQueryDeviceSerialNumber = 4
} ;
#line 14235 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum __anonenum_BUS_QUERY_ID_TYPE_53 BUS_QUERY_ID_TYPE;
#line 14252
enum __anonenum_DEVICE_TEXT_TYPE_54 {
    DeviceTextDescription = 0,
    DeviceTextLocationInformation = 1
} ;
#line 14252 "C:/NTDDK/inc/ddk/ntddk.h"
typedef enum __anonenum_DEVICE_TEXT_TYPE_54 DEVICE_TEXT_TYPE;
#line 27 "C:/NTDDK/inc/pshpack4.h"
#pragma pack(push,4)
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Create_56 {
   PIO_SECURITY_CONTEXT SecurityContext ;
   ULONG Options ;
   USHORT FileAttributes ;
   USHORT ShareAccess ;
   ULONG EaLength ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Read_57 {
   ULONG Length ;
   ULONG Key ;
   LARGE_INTEGER ByteOffset ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Write_58 {
   ULONG Length ;
   ULONG Key ;
   LARGE_INTEGER ByteOffset ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_QueryFile_59 {
   ULONG Length ;
   FILE_INFORMATION_CLASS FileInformationClass ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct____missing_field_name_62 {
   BOOLEAN ReplaceIfExists ;
   BOOLEAN AdvanceOnly ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion____missing_field_name_61 {
   struct __anonstruct____missing_field_name_62 __annonCompField18 ;
   ULONG ClusterCount ;
   HANDLE DeleteHandle ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_SetFile_60 {
   ULONG Length ;
   FILE_INFORMATION_CLASS FileInformationClass ;
   PFILE_OBJECT FileObject ;
   union __anonunion____missing_field_name_61 __annonCompField19 ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_QueryVolume_63 {
   ULONG Length ;
   FS_INFORMATION_CLASS FsInformationClass ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_DeviceIoControl_64 {
   ULONG OutputBufferLength ;
   ULONG InputBufferLength ;
   ULONG IoControlCode ;
   PVOID Type3InputBuffer ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_QuerySecurity_65 {
   SECURITY_INFORMATION SecurityInformation ;
   ULONG Length ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_SetSecurity_66 {
   SECURITY_INFORMATION SecurityInformation ;
   PSECURITY_DESCRIPTOR SecurityDescriptor ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_MountVolume_67 {
   PVPB Vpb ;
   PDEVICE_OBJECT DeviceObject ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_VerifyVolume_68 {
   PVPB Vpb ;
   PDEVICE_OBJECT DeviceObject ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Scsi_69 {
   struct _SCSI_REQUEST_BLOCK *Srb ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_QueryDeviceRelations_70 {
   DEVICE_RELATION_TYPE Type ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_QueryInterface_71 {
   GUID const   *InterfaceType ;
   USHORT Size ;
   USHORT Version ;
   PINTERFACE Interface ;
   PVOID InterfaceSpecificData ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_DeviceCapabilities_72 {
   PDEVICE_CAPABILITIES Capabilities ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_FilterResourceRequirements_73 {
   PIO_RESOURCE_REQUIREMENTS_LIST IoResourceRequirementList ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_ReadWriteConfig_74 {
   ULONG WhichSpace ;
   PVOID Buffer ;
   ULONG Offset ;
   ULONG Length ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_SetLock_75 {
   BOOLEAN Lock ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_QueryId_76 {
   BUS_QUERY_ID_TYPE IdType ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_QueryDeviceText_77 {
   DEVICE_TEXT_TYPE DeviceTextType ;
   LCID LocaleId ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_UsageNotification_78 {
   BOOLEAN InPath ;
   BOOLEAN Reserved[3] ;
   DEVICE_USAGE_NOTIFICATION_TYPE Type ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_WaitWake_79 {
   SYSTEM_POWER_STATE PowerState ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_PowerSequence_80 {
   PPOWER_SEQUENCE PowerSequence ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Power_81 {
   ULONG SystemContext ;
   POWER_STATE_TYPE Type ;
   POWER_STATE State ;
   POWER_ACTION ShutdownType ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_StartDevice_82 {
   PCM_RESOURCE_LIST AllocatedResources ;
   PCM_RESOURCE_LIST AllocatedResourcesTranslated ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_WMI_83 {
   ULONG_PTR ProviderId ;
   PVOID DataPath ;
   ULONG BufferSize ;
   PVOID Buffer ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct __anonstruct_Others_84 {
   PVOID Argument1 ;
   PVOID Argument2 ;
   PVOID Argument3 ;
   PVOID Argument4 ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
union __anonunion_Parameters_55 {
   struct __anonstruct_Create_56 Create ;
   struct __anonstruct_Read_57 Read ;
   struct __anonstruct_Write_58 Write ;
   struct __anonstruct_QueryFile_59 QueryFile ;
   struct __anonstruct_SetFile_60 SetFile ;
   struct __anonstruct_QueryVolume_63 QueryVolume ;
   struct __anonstruct_DeviceIoControl_64 DeviceIoControl ;
   struct __anonstruct_QuerySecurity_65 QuerySecurity ;
   struct __anonstruct_SetSecurity_66 SetSecurity ;
   struct __anonstruct_MountVolume_67 MountVolume ;
   struct __anonstruct_VerifyVolume_68 VerifyVolume ;
   struct __anonstruct_Scsi_69 Scsi ;
   struct __anonstruct_QueryDeviceRelations_70 QueryDeviceRelations ;
   struct __anonstruct_QueryInterface_71 QueryInterface ;
   struct __anonstruct_DeviceCapabilities_72 DeviceCapabilities ;
   struct __anonstruct_FilterResourceRequirements_73 FilterResourceRequirements ;
   struct __anonstruct_ReadWriteConfig_74 ReadWriteConfig ;
   struct __anonstruct_SetLock_75 SetLock ;
   struct __anonstruct_QueryId_76 QueryId ;
   struct __anonstruct_QueryDeviceText_77 QueryDeviceText ;
   struct __anonstruct_UsageNotification_78 UsageNotification ;
   struct __anonstruct_WaitWake_79 WaitWake ;
   struct __anonstruct_PowerSequence_80 PowerSequence ;
   struct __anonstruct_Power_81 Power ;
   struct __anonstruct_StartDevice_82 StartDevice ;
   struct __anonstruct_WMI_83 WMI ;
   struct __anonstruct_Others_84 Others ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
struct _IO_STACK_LOCATION {
   UCHAR MajorFunction ;
   UCHAR MinorFunction ;
   UCHAR Flags ;
   UCHAR Control ;
   union __anonunion_Parameters_55 Parameters ;
   PDEVICE_OBJECT DeviceObject ;
   PFILE_OBJECT FileObject ;
   NTSTATUS (*CompletionRoutine)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
   PVOID Context ;
};
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IO_STACK_LOCATION IO_STACK_LOCATION;
#line 14271 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _IO_STACK_LOCATION *PIO_STACK_LOCATION;
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 14635 "C:/NTDDK/inc/ddk/ntddk.h"
struct _CONFIGURATION_INFORMATION {
   ULONG DiskCount ;
   ULONG FloppyCount ;
   ULONG CdRomCount ;
   ULONG TapeCount ;
   ULONG ScsiPortCount ;
   ULONG SerialCount ;
   ULONG ParallelCount ;
   BOOLEAN AtDiskPrimaryAddressClaimed ;
   BOOLEAN AtDiskSecondaryAddressClaimed ;
   ULONG Version ;
   ULONG MediumChangerCount ;
};
#line 14635 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _CONFIGURATION_INFORMATION CONFIGURATION_INFORMATION;
#line 14635 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _CONFIGURATION_INFORMATION *PCONFIGURATION_INFORMATION;
#line 18321 "C:/NTDDK/inc/ddk/ntddk.h"
struct _OBJECT_HANDLE_INFORMATION {
   ULONG HandleAttributes ;
   ACCESS_MASK GrantedAccess ;
};
#line 18321 "C:/NTDDK/inc/ddk/ntddk.h"
typedef struct _OBJECT_HANDLE_INFORMATION *POBJECT_HANDLE_INFORMATION;
#line 248 "C:/NTDDK/inc/ntdddisk.h"
enum _MEDIA_TYPE {
    Unknown = 0,
    F5_1Pt2_512 = 1,
    F3_1Pt44_512 = 2,
    F3_2Pt88_512 = 3,
    F3_20Pt8_512 = 4,
    F3_720_512 = 5,
    F5_360_512 = 6,
    F5_320_512 = 7,
    F5_320_1024 = 8,
    F5_180_512 = 9,
    F5_160_512 = 10,
    RemovableMedia = 11,
    FixedMedia = 12,
    F3_120M_512 = 13,
    F3_640_512 = 14,
    F5_640_512 = 15,
    F5_720_512 = 16,
    F3_1Pt2_512 = 17,
    F3_1Pt23_1024 = 18,
    F5_1Pt23_1024 = 19,
    F3_128Mb_512 = 20,
    F3_230Mb_512 = 21,
    F8_256_128 = 22
} ;
#line 248 "C:/NTDDK/inc/ntdddisk.h"
typedef enum _MEDIA_TYPE MEDIA_TYPE;
#line 279 "C:/NTDDK/inc/ntdddisk.h"
struct _FORMAT_PARAMETERS {
   MEDIA_TYPE MediaType ;
   ULONG StartCylinderNumber ;
   ULONG EndCylinderNumber ;
   ULONG StartHeadNumber ;
   ULONG EndHeadNumber ;
};
#line 279 "C:/NTDDK/inc/ntdddisk.h"
typedef struct _FORMAT_PARAMETERS FORMAT_PARAMETERS;
#line 279 "C:/NTDDK/inc/ntdddisk.h"
typedef struct _FORMAT_PARAMETERS *PFORMAT_PARAMETERS;
#line 294 "C:/NTDDK/inc/ntdddisk.h"
typedef USHORT BAD_TRACK_NUMBER;
#line 295 "C:/NTDDK/inc/ntdddisk.h"
typedef USHORT *PBAD_TRACK_NUMBER;
#line 302 "C:/NTDDK/inc/ntdddisk.h"
struct _FORMAT_EX_PARAMETERS {
   MEDIA_TYPE MediaType ;
   ULONG StartCylinderNumber ;
   ULONG EndCylinderNumber ;
   ULONG StartHeadNumber ;
   ULONG EndHeadNumber ;
   USHORT FormatGapLength ;
   USHORT SectorsPerTrack ;
   USHORT SectorNumber[1] ;
};
#line 302 "C:/NTDDK/inc/ntdddisk.h"
typedef struct _FORMAT_EX_PARAMETERS FORMAT_EX_PARAMETERS;
#line 302 "C:/NTDDK/inc/ntdddisk.h"
typedef struct _FORMAT_EX_PARAMETERS *PFORMAT_EX_PARAMETERS;
#line 319 "C:/NTDDK/inc/ntdddisk.h"
struct _DISK_GEOMETRY {
   LARGE_INTEGER Cylinders ;
   MEDIA_TYPE MediaType ;
   ULONG TracksPerCylinder ;
   ULONG SectorsPerTrack ;
   ULONG BytesPerSector ;
};
#line 319 "C:/NTDDK/inc/ntdddisk.h"
typedef struct _DISK_GEOMETRY DISK_GEOMETRY;
#line 319 "C:/NTDDK/inc/ntdddisk.h"
typedef struct _DISK_GEOMETRY *PDISK_GEOMETRY;
#line 27 "C:/NTDDK/inc/pshpack1.h"
#pragma pack(push,1)
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 27 "C:/NTDDK/inc/pshpack1.h"
#pragma pack(push,1)
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 27 "C:/NTDDK/inc/pshpack1.h"
#pragma pack(push,1)
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 27 "C:/NTDDK/inc/pshpack1.h"
#pragma pack(push,1)
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 27 "C:/NTDDK/inc/pshpack1.h"
#pragma pack(push,1)
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 164 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
struct _TRANSFER_BUFFER {
   PHYSICAL_ADDRESS Logical ;
   PVOID Virtual ;
};
#line 164 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
typedef struct _TRANSFER_BUFFER TRANSFER_BUFFER;
#line 180 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
struct _ACPI_FDI_DATA {
   ULONG DriveNumber ;
   ULONG DeviceType ;
   ULONG MaxCylinderNumber ;
   ULONG MaxSectorNumber ;
   ULONG MaxHeadNumber ;
   ULONG StepRateHeadUnloadTime ;
   ULONG HeadLoadTime ;
   ULONG MotorOffTime ;
   ULONG SectorLengthCode ;
   ULONG SectorPerTrack ;
   ULONG ReadWriteGapLength ;
   ULONG DataTransferLength ;
   ULONG FormatGapLength ;
   ULONG FormatFillCharacter ;
   ULONG HeadSettleTime ;
   ULONG MotorSettleTime ;
};
#line 180 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
typedef struct _ACPI_FDI_DATA ACPI_FDI_DATA;
#line 201
enum _ACPI_FDI_DEVICE_TYPE {
    CmosProblem = 0,
    Form525Capacity360 = 1,
    Form525Capacity1200 = 2,
    Form35Capacity720 = 3,
    Form35Capacity1440 = 4,
    Form35Capacity2880 = 5
} ;
#line 212 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
struct _FDC_INFO {
   UCHAR FloppyControllerType ;
   UCHAR SpeedsAvailable ;
   ULONG AdapterBufferSize ;
   INTERFACE_TYPE BusType ;
   ULONG BusNumber ;
   ULONG ControllerNumber ;
   ULONG PeripheralNumber ;
   ULONG UnitNumber ;
   ULONG MaxTransferSize ;
   BOOLEAN AcpiBios ;
   BOOLEAN AcpiFdiSupported ;
   ACPI_FDI_DATA AcpiFdiData ;
   ULONG BufferCount ;
   ULONG BufferSize ;
   TRANSFER_BUFFER BufferAddress[] ;
};
#line 212 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
typedef struct _FDC_INFO FDC_INFO;
#line 212 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
typedef struct _FDC_INFO *PFDC_INFO;
#line 240 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
struct _FDC_ENABLE_PARMS {
   UCHAR DriveOnValue ;
   USHORT TimeToWait ;
   BOOLEAN MotorStarted ;
};
#line 240 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
typedef struct _FDC_ENABLE_PARMS FDC_ENABLE_PARMS;
#line 252 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
struct _FDC_DISK_CHANGE_PARMS {
   UCHAR DriveStatus ;
   UCHAR DriveOnValue ;
};
#line 252 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
typedef struct _FDC_DISK_CHANGE_PARMS FDC_DISK_CHANGE_PARMS;
#line 261 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
struct _ISSUE_FDC_COMMAND_PARMS {
   PUCHAR FifoInBuffer ;
   PUCHAR FifoOutBuffer ;
   PVOID IoHandle ;
   ULONG IoOffset ;
   ULONG TransferBytes ;
   ULONG TimeOut ;
};
#line 261 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
typedef struct _ISSUE_FDC_COMMAND_PARMS ISSUE_FDC_COMMAND_PARMS;
#line 291 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
struct _SET_HD_BIT_PARMS {
   BOOLEAN DriveType144MB ;
   BOOLEAN Media144MB ;
   BOOLEAN More120MB ;
   UCHAR DeviceUnit ;
   BOOLEAN ChangedHdBit ;
};
#line 291 "C:/NTDDK/src/storage/fdc/inc/ntddfdc.h"
typedef struct _SET_HD_BIT_PARMS SET_HD_BIT_PARMS;
#line 202 "C:/NTDDK/inc/mountmgr.h"
struct _MOUNTDEV_NAME {
   USHORT NameLength ;
   WCHAR Name[1] ;
};
#line 202 "C:/NTDDK/inc/mountmgr.h"
typedef struct _MOUNTDEV_NAME MOUNTDEV_NAME;
#line 202 "C:/NTDDK/inc/mountmgr.h"
typedef struct _MOUNTDEV_NAME *PMOUNTDEV_NAME;
#line 38 "C:/NTDDK/inc/ddk/mountdev.h"
struct _MOUNTDEV_UNIQUE_ID {
   USHORT UniqueIdLength ;
   UCHAR UniqueId[1] ;
};
#line 38 "C:/NTDDK/inc/ddk/mountdev.h"
typedef struct _MOUNTDEV_UNIQUE_ID MOUNTDEV_UNIQUE_ID;
#line 38 "C:/NTDDK/inc/ddk/mountdev.h"
typedef struct _MOUNTDEV_UNIQUE_ID *PMOUNTDEV_UNIQUE_ID;
#line 66 "C:/NTDDK/inc/ddk/mountdev.h"
struct _MOUNTDEV_SUGGESTED_LINK_NAME {
   BOOLEAN UseOnlyIfThereAreNoOtherLinks ;
   USHORT NameLength ;
   WCHAR Name[1] ;
};
#line 66 "C:/NTDDK/inc/ddk/mountdev.h"
typedef struct _MOUNTDEV_SUGGESTED_LINK_NAME MOUNTDEV_SUGGESTED_LINK_NAME;
#line 66 "C:/NTDDK/inc/ddk/mountdev.h"
typedef struct _MOUNTDEV_SUGGESTED_LINK_NAME *PMOUNTDEV_SUGGESTED_LINK_NAME;
#line 105 "./flo_data.h"
struct _BOOT_SECTOR_INFO {
   UCHAR JumpByte[1] ;
   UCHAR Ignore1[2] ;
   UCHAR OemData[8] ;
   UCHAR BytesPerSector[2] ;
   UCHAR Ignore2[6] ;
   UCHAR NumberOfSectors[2] ;
   UCHAR MediaByte[1] ;
   UCHAR Ignore3[2] ;
   UCHAR SectorsPerTrack[2] ;
   UCHAR NumberOfHeads[2] ;
};
#line 105 "./flo_data.h"
typedef struct _BOOT_SECTOR_INFO *PBOOT_SECTOR_INFO;
#line 194
enum _DRIVE_MEDIA_TYPE {
    Drive360Media160 = 0,
    Drive360Media180 = 1,
    Drive360Media320 = 2,
    Drive360Media32X = 3,
    Drive360Media360 = 4,
    Drive720Media720 = 5,
    Drive120Media160 = 6,
    Drive120Media180 = 7,
    Drive120Media320 = 8,
    Drive120Media32X = 9,
    Drive120Media360 = 10,
    Drive120Media120 = 11,
    Drive144Media720 = 12,
    Drive144Media144 = 13,
    Drive288Media720 = 14,
    Drive288Media144 = 15,
    Drive288Media288 = 16
} ;
#line 194 "./flo_data.h"
typedef enum _DRIVE_MEDIA_TYPE DRIVE_MEDIA_TYPE;
#line 217
enum _DRIVE_MEDIA_TYPE_NEC98 {
    Drive360Media160Nec98 = 0,
    Drive360Media180Nec98 = 1,
    Drive360Media320Nec98 = 2,
    Drive360Media32XNec98 = 3,
    Drive360Media360Nec98 = 4,
    Drive120Media160Nec98 = 5,
    Drive120Media180Nec98 = 6,
    Drive120Media320Nec98 = 7,
    Drive120Media32XNec98 = 8,
    Drive120Media360Nec98 = 9,
    Drive120Media640Nec98 = 10,
    Drive120Media720Nec98 = 11,
    Drive120Media120Nec98 = 12,
    Drive120Media123Nec98 = 13,
    Drive144Media640Nec98 = 14,
    Drive144Media720Nec98 = 15,
    Drive144Media120Nec98 = 16,
    Drive144Media123Nec98 = 17,
    Drive144Media144Nec98 = 18,
    Drive12EMedia120Nec98 = 19,
    Drive12EMedia123Nec98 = 20
} ;
#line 217 "./flo_data.h"
typedef enum _DRIVE_MEDIA_TYPE_NEC98 DRIVE_MEDIA_TYPE_NEC98;
#line 260 "./flo_data.h"
struct _DRIVE_MEDIA_LIMITS {
   DRIVE_MEDIA_TYPE HighestDriveMediaType ;
   DRIVE_MEDIA_TYPE LowestDriveMediaType ;
};
#line 260 "./flo_data.h"
typedef struct _DRIVE_MEDIA_LIMITS DRIVE_MEDIA_LIMITS;
#line 260 "./flo_data.h"
typedef struct _DRIVE_MEDIA_LIMITS *PDRIVE_MEDIA_LIMITS;
#line 277 "./flo_data.h"
struct _DRIVE_MEDIA_LIMITS_NEC98 {
   DRIVE_MEDIA_TYPE_NEC98 HighestDriveMediaType ;
   DRIVE_MEDIA_TYPE_NEC98 LowestDriveMediaType ;
};
#line 277 "./flo_data.h"
typedef struct _DRIVE_MEDIA_LIMITS_NEC98 DRIVE_MEDIA_LIMITS_NEC98;
#line 298 "./flo_data.h"
struct _DRIVE_MEDIA_CONSTANTS {
   MEDIA_TYPE MediaType ;
   UCHAR StepRateHeadUnloadTime ;
   UCHAR HeadLoadTime ;
   UCHAR MotorOffTime ;
   UCHAR SectorLengthCode ;
   USHORT BytesPerSector ;
   UCHAR SectorsPerTrack ;
   UCHAR ReadWriteGapLength ;
   UCHAR FormatGapLength ;
   UCHAR FormatFillCharacter ;
   UCHAR HeadSettleTime ;
   USHORT MotorSettleTimeRead ;
   USHORT MotorSettleTimeWrite ;
   UCHAR MaximumTrack ;
   UCHAR CylinderShift ;
   UCHAR DataTransferRate ;
   UCHAR NumberOfHeads ;
   UCHAR DataLength ;
   UCHAR MediaByte ;
   UCHAR SkewDelta ;
};
#line 298 "./flo_data.h"
typedef struct _DRIVE_MEDIA_CONSTANTS DRIVE_MEDIA_CONSTANTS;
#line 298 "./flo_data.h"
typedef struct _DRIVE_MEDIA_CONSTANTS *PDRIVE_MEDIA_CONSTANTS;
#line 528 "./flo_data.h"
struct _DISKETTE_EXTENSION {
   KSPIN_LOCK FlCancelSpinLock ;
   PDEVICE_OBJECT UnderlyingPDO ;
   PDEVICE_OBJECT TargetObject ;
   BOOLEAN IsStarted ;
   BOOLEAN IsRemoved ;
   BOOLEAN HoldNewRequests ;
   LIST_ENTRY NewRequestQueue ;
   KSPIN_LOCK NewRequestQueueSpinLock ;
   PDEVICE_OBJECT DeviceObject ;
   KSEMAPHORE RequestSemaphore ;
   KSPIN_LOCK ListSpinLock ;
   FAST_MUTEX ThreadReferenceMutex ;
   LONG ThreadReferenceCount ;
   PKTHREAD FloppyThread ;
   LIST_ENTRY ListEntry ;
   BOOLEAN HardwareFailed ;
   UCHAR HardwareFailCount ;
   ULONG MaxTransferSize ;
   UCHAR FifoBuffer[10] ;
   PUCHAR IoBuffer ;
   PMDL IoBufferMdl ;
   ULONG IoBufferSize ;
   PDRIVER_OBJECT DriverObject ;
   DRIVE_MEDIA_TYPE LastDriveMediaType ;
   BOOLEAN FloppyControllerAllocated ;
   BOOLEAN ACPI_BIOS ;
   UCHAR DriveType ;
   ULONG BytesPerSector ;
   ULONG ByteCapacity ;
   MEDIA_TYPE MediaType ;
   DRIVE_MEDIA_TYPE DriveMediaType ;
   UCHAR DeviceUnit ;
   UCHAR DriveOnValue ;
   BOOLEAN IsReadOnly ;
   DRIVE_MEDIA_CONSTANTS BiosDriveMediaConstants ;
   DRIVE_MEDIA_CONSTANTS DriveMediaConstants ;
   UCHAR PerpendicularMode ;
   BOOLEAN ControllerConfigurable ;
   UNICODE_STRING DeviceName ;
   UNICODE_STRING InterfaceString ;
   UNICODE_STRING ArcName ;
   BOOLEAN ReleaseFdcWithMotorRunning ;
   BOOLEAN PoweringDown ;
   FAST_MUTEX PowerDownMutex ;
   FAST_MUTEX HoldNewReqMutex ;
};
#line 528 "./flo_data.h"
typedef struct _DISKETTE_EXTENSION DISKETTE_EXTENSION;
#line 584 "./flo_data.h"
typedef DISKETTE_EXTENSION *PDISKETTE_EXTENSION;
#line 591 "./flo_data.h"
struct _SENSE_DEVISE_STATUS_PTOS {
   UCHAR ST3_PTOS ;
};
#line 591 "./flo_data.h"
typedef struct _SENSE_DEVISE_STATUS_PTOS SENSE_DEVISE_STATUS_PTOS;
#line 591 "./flo_data.h"
typedef struct _SENSE_DEVISE_STATUS_PTOS *PSENSE_DEVISE_STATUS_PTOS;
#line 33 "C:/Program Files/Microsoft Visual Studio/VC98/include/excpt.h"
#pragma pack(push,8)
#line 156
#pragma pack(pop)
#line 222 "C:/NTDDK/inc/ddk/ntddk.h"
struct _KAPC;
#line 292
struct _KDPC;
#line 27 "C:/NTDDK/inc/pshpack4.h"
#pragma pack(push,4)
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 27 "C:/NTDDK/inc/pshpack4.h"
#pragma pack(push,4)
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 27 "C:/NTDDK/inc/pshpack1.h"
#pragma pack(push,1)
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 12399 "C:/NTDDK/inc/ddk/ntddk.h"
struct _DRIVER_OBJECT;
#line 12906
struct _DEVICE_OBJECT;
#line 12908
struct _DRIVER_OBJECT;
#line 12911
struct _FILE_OBJECT;
#line 12912
struct _IRP;
#line 12913
struct _SCSI_REQUEST_BLOCK;
#line 27 "C:/NTDDK/inc/pshpack4.h"
#pragma pack(push,4)
#line 30 "C:/NTDDK/inc/poppack.h"
#pragma pack(pop)
#line 307 "C:/NTDDK/inc/stdio.h"
extern int ( __attribute__((__cdecl__)) sprintf)(char * , char const   *  , ...) ;
#line 351
extern int ( __attribute__((__cdecl__)) swprintf)(wchar_t * , wchar_t const   *  , ...) ;
#line 832 "C:/NTDDK/inc/ntdef.h"
#pragma warning(push)
#line 834
#pragma warning(disable:4035)
#line 835 "C:/NTDDK/inc/ntdef.h"
__inline ULONGLONG ( __attribute__((__stdcall__)) Int64ShllMod32___0)(ULONGLONG Value ,
                                                                      ULONG ShiftCount ) 
{ 

  {
#line 850
  return (0ULL);
}
}
#line 845 "C:/NTDDK/inc/ntdef.h"
__inline LONGLONG ( __attribute__((__stdcall__)) Int64ShraMod32___0)(LONGLONG Value ,
                                                                     ULONG ShiftCount ) 
{ 

  {
#line 860
  return (0LL);
}
}
#line 855 "C:/NTDDK/inc/ntdef.h"
__inline ULONGLONG ( __attribute__((__stdcall__)) Int64ShrlMod32___0)(ULONGLONG Value ,
                                                                      ULONG ShiftCount ) 
{ 

  {
#line 870
  return (0ULL);
}
}
#line 873
#pragma warning(pop)
#line 1094 "C:/NTDDK/inc/ntdef.h"
__inline void ListEntry32To64(PLIST_ENTRY32 l32 , PLIST_ENTRY64 l64 ) 
{ ULONG __cil_tmp3 ;
  long __cil_tmp4 ;
  long long __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  ULONG __cil_tmp10 ;
  long __cil_tmp11 ;
  long long __cil_tmp12 ;
  ULONG *mem_13 ;
  ULONGLONG *mem_14 ;
  ULONG *mem_15 ;
  ULONGLONG *mem_16 ;

  {
#line 1101
  mem_13 = (ULONG *)l32;
#line 1101
  __cil_tmp3 = *mem_13;
#line 1101
  __cil_tmp4 = (long )__cil_tmp3;
#line 1101
  __cil_tmp5 = (long long )__cil_tmp4;
#line 1101
  mem_14 = (ULONGLONG *)l64;
#line 1101
  *mem_14 = (unsigned long long )__cil_tmp5;
#line 1102
  __cil_tmp6 = (unsigned int )l64;
#line 1102
  __cil_tmp7 = __cil_tmp6 + 8;
#line 1102
  __cil_tmp8 = (unsigned int )l32;
#line 1102
  __cil_tmp9 = __cil_tmp8 + 4;
#line 1102
  mem_15 = (ULONG *)__cil_tmp9;
#line 1102
  __cil_tmp10 = *mem_15;
#line 1102
  __cil_tmp11 = (long )__cil_tmp10;
#line 1102
  __cil_tmp12 = (long long )__cil_tmp11;
#line 1102
  mem_16 = (ULONGLONG *)__cil_tmp7;
#line 1102
  *mem_16 = (unsigned long long )__cil_tmp12;
#line 1105
  return;
}
}
#line 1105 "C:/NTDDK/inc/ntdef.h"
__inline void ListEntry64To32(PLIST_ENTRY64 l64 , PLIST_ENTRY32 l32 ) 
{ ULONGLONG __cil_tmp3 ;
  unsigned int __cil_tmp4 ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  ULONGLONG __cil_tmp8 ;
  ULONGLONG *mem_9 ;
  ULONG *mem_10 ;
  ULONGLONG *mem_11 ;
  ULONG *mem_12 ;

  {
#line 1112
  mem_9 = (ULONGLONG *)l64;
#line 1112
  __cil_tmp3 = *mem_9;
#line 1112
  mem_10 = (ULONG *)l32;
#line 1112
  *mem_10 = (unsigned long )__cil_tmp3;
#line 1113
  __cil_tmp4 = (unsigned int )l32;
#line 1113
  __cil_tmp5 = __cil_tmp4 + 4;
#line 1113
  __cil_tmp6 = (unsigned int )l64;
#line 1113
  __cil_tmp7 = __cil_tmp6 + 8;
#line 1113
  mem_11 = (ULONGLONG *)__cil_tmp7;
#line 1113
  __cil_tmp8 = *mem_11;
#line 1113
  mem_12 = (ULONG *)__cil_tmp5;
#line 1113
  *mem_12 = (unsigned long )__cil_tmp8;
#line 1116
  return;
}
}
#line 93 "C:/NTDDK/inc/string.h"
extern void *( __attribute__((__cdecl__)) memcpy)(void * , void const   * , size_t  ) ;
#line 95
extern void *( __attribute__((__cdecl__)) memset)(void * , int  , size_t  ) ;
#line 110
extern void *( __attribute__((__cdecl__)) memmove)(void * , void const   * , size_t  ) ;
#line 101 "C:/NTDDK/inc/ddk/ntddk.h"
extern PKTHREAD ( __attribute__((__stdcall__)) KeGetCurrentThread)() ;
#line 25 "C:/NTDDK/inc/pshpack4.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 1136 "C:/NTDDK/inc/ddk/ntddk.h"
NTSTATUS ( __attribute__((__stdcall__)) RtlQueryRegistryValues)(ULONG RelativeTo ,
                                                                                                PCWSTR Path ,
                                                                                                PRTL_QUERY_REGISTRY_TABLE QueryTable ,
                                                                                                PVOID Context ,
                                                                                                PVOID Environment ) ;
#line 1159
NTSTATUS ( __attribute__((__stdcall__)) RtlDeleteRegistryValue)(ULONG RelativeTo ,
                                                                                                PCWSTR Path ,
                                                                                                PCWSTR ValueName ) ;
#line 1264
void ( __attribute__((__stdcall__)) RtlInitString)(PSTRING DestinationString ,
                                                                                   PCSZ SourceString ) ;
#line 1280
void ( __attribute__((__stdcall__)) RtlInitUnicodeString)(PUNICODE_STRING DestinationString ,
                                                                                          PCWSTR SourceString ) ;
#line 1335
NTSTATUS ( __attribute__((__stdcall__)) RtlAnsiStringToUnicodeString)(PUNICODE_STRING DestinationString ,
                                                                                                      PANSI_STRING SourceString ,
                                                                                                      BOOLEAN AllocateDestinationString ) ;
#line 1394
void ( __attribute__((__stdcall__)) RtlCopyUnicodeString)(PUNICODE_STRING DestinationString ,
                                                                                          PUNICODE_STRING SourceString ) ;
#line 1429
void ( __attribute__((__stdcall__)) RtlFreeUnicodeString)(PUNICODE_STRING UnicodeString ) ;
#line 1516
SIZE_T ( __attribute__((__stdcall__)) RtlCompareMemory)(void const   *Source1 ,
                                                                                        void const   *Source2 ,
                                                                                        SIZE_T Length ) ;
#line 1718 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LARGE_INTEGER ( __attribute__((__stdcall__)) RtlLargeIntegerAdd)(LARGE_INTEGER Addend1 ,
                                                                          LARGE_INTEGER Addend2 ) 
{ LARGE_INTEGER Sum ;

  {
#line 1728
  Sum.QuadPart = Addend1.QuadPart + Addend2.QuadPart;
#line 1729
  return (Sum);
}
}
#line 1736 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LARGE_INTEGER ( __attribute__((__stdcall__)) RtlEnlargedIntegerMultiply)(LONG Multiplicand ,
                                                                                  LONG Multiplier ) 
{ LARGE_INTEGER Product ;
  unsigned long long __cil_tmp4 ;
  long long __cil_tmp5 ;
  unsigned long long __cil_tmp6 ;
  unsigned long long __cil_tmp7 ;

  {
#line 1746
  __cil_tmp4 = (unsigned long long )Multiplier;
#line 1746
  __cil_tmp5 = (long long )Multiplicand;
#line 1746
  __cil_tmp6 = (unsigned long long )__cil_tmp5;
#line 1746
  __cil_tmp7 = __cil_tmp6 * __cil_tmp4;
#line 1746
  Product.QuadPart = (long long )__cil_tmp7;
#line 1747
  return (Product);
}
}
#line 1754 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LARGE_INTEGER ( __attribute__((__stdcall__)) RtlEnlargedUnsignedMultiply)(ULONG Multiplicand ,
                                                                                   ULONG Multiplier ) 
{ LARGE_INTEGER Product ;
  unsigned long long __cil_tmp4 ;
  unsigned long long __cil_tmp5 ;
  unsigned long long __cil_tmp6 ;

  {
#line 1764
  __cil_tmp4 = (unsigned long long )Multiplier;
#line 1764
  __cil_tmp5 = (unsigned long long )Multiplicand;
#line 1764
  __cil_tmp6 = __cil_tmp5 * __cil_tmp4;
#line 1764
  Product.QuadPart = (long long )__cil_tmp6;
#line 1765
  return (Product);
}
}
#line 1772 "C:/NTDDK/inc/ddk/ntddk.h"
__inline ULONG ( __attribute__((__stdcall__)) RtlEnlargedUnsignedDivide)(ULARGE_INTEGER Dividend ,
                                                                         ULONG Divisor ,
                                                                         PULONG Remainder ) 
{ ULONG Quotient ;
  unsigned long long __cil_tmp5 ;
  ULONGLONG __cil_tmp6 ;
  void *__cil_tmp7 ;
  CHAR *__cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  CHAR *__cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned long long __cil_tmp12 ;
  unsigned long long __cil_tmp13 ;

  {
#line 1783
  __cil_tmp5 = (unsigned long long )Divisor;
#line 1783
  __cil_tmp6 = Dividend.QuadPart / __cil_tmp5;
#line 1783
  Quotient = (unsigned long )__cil_tmp6;
  {
#line 1784
  __cil_tmp7 = (void *)0;
#line 1784
  __cil_tmp8 = (CHAR *)__cil_tmp7;
#line 1784
  __cil_tmp9 = (unsigned int )__cil_tmp8;
#line 1784
  __cil_tmp10 = (CHAR *)Remainder;
#line 1784
  __cil_tmp11 = (unsigned int )__cil_tmp10;
#line 1784
  if (__cil_tmp11 != __cil_tmp9) {
#line 1786
    __cil_tmp12 = (unsigned long long )Divisor;
#line 1786
    __cil_tmp13 = Dividend.QuadPart % __cil_tmp12;
#line 1786
    *Remainder = (unsigned long )__cil_tmp13;
  } else {

  }
  }
#line 1789
  return (Quotient);
}
}
#line 1796 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LARGE_INTEGER ( __attribute__((__stdcall__)) RtlLargeIntegerNegate)(LARGE_INTEGER Subtrahend ) 
{ LARGE_INTEGER Difference ;

  {
#line 1805
  Difference.QuadPart = - Subtrahend.QuadPart;
#line 1806
  return (Difference);
}
}
#line 1813 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LARGE_INTEGER ( __attribute__((__stdcall__)) RtlLargeIntegerSubtract)(LARGE_INTEGER Minuend ,
                                                                               LARGE_INTEGER Subtrahend ) 
{ LARGE_INTEGER Difference ;

  {
#line 1823
  Difference.QuadPart = Minuend.QuadPart - Subtrahend.QuadPart;
#line 1824
  return (Difference);
}
}
#line 1953
#pragma warning(push)
#line 1955
#pragma warning(disable:4035)
#line 1960 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LARGE_INTEGER ( __attribute__((__stdcall__)) RtlConvertLongToLargeInteger)(LONG SignedInteger ) 
{ LARGE_INTEGER stub ;

  {
#line 1971
  return (stub);
}
}
#line 1973 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LARGE_INTEGER ( __attribute__((__stdcall__)) RtlConvertUlongToLargeInteger)(ULONG UnsignedInteger ) 
{ LARGE_INTEGER stub ;

  {
#line 1984
  return (stub);
}
}
#line 1986 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LARGE_INTEGER ( __attribute__((__stdcall__)) RtlLargeIntegerShiftLeft)(LARGE_INTEGER LargeInteger ,
                                                                                CCHAR ShiftCount ) 
{ LARGE_INTEGER stub ;

  {
#line 2013
  return (stub);
}
}
#line 2015 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LARGE_INTEGER ( __attribute__((__stdcall__)) RtlLargeIntegerShiftRight)(LARGE_INTEGER LargeInteger ,
                                                                                 CCHAR ShiftCount ) 
{ LARGE_INTEGER stub ;

  {
#line 2024
  return (stub);
}
}
#line 2026 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LARGE_INTEGER ( __attribute__((__stdcall__)) RtlLargeIntegerArithmeticShift)(LARGE_INTEGER LargeInteger ,
                                                                                      CCHAR ShiftCount ) 
{ LARGE_INTEGER stub ;

  {
#line 2035
  return (stub);
}
}
#line 2038
#pragma warning(pop)
#line 2796 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LUID ( __attribute__((__stdcall__)) RtlConvertLongToLuid)(LONG Long ) 
{ LUID TempLuid ;
  LARGE_INTEGER TempLi ;

  {
  {
#line 2805
  TempLi = RtlConvertLongToLargeInteger(Long);
#line 2806
  TempLuid.LowPart = TempLi.__annonCompField1.LowPart;
#line 2807
  TempLuid.HighPart = TempLi.__annonCompField1.HighPart;
  }
#line 2808
  return (TempLuid);
}
}
#line 2811 "C:/NTDDK/inc/ddk/ntddk.h"
__inline LUID ( __attribute__((__stdcall__)) RtlConvertUlongToLuid)(ULONG Ulong ) 
{ LUID TempLuid ;

  {
#line 2819
  TempLuid.LowPart = Ulong;
#line 2820
  TempLuid.HighPart = 0L;
#line 2821
  return (TempLuid);
}
}
#line 5211
extern LONG ( __attribute__((__fastcall__)) InterlockedExchange)(PLONG Target ,
                                                                                                 LONG Value ) ;
#line 5253
#pragma warning(disable:4035)
#line 5271 "C:/NTDDK/inc/ddk/ntddk.h"
__inline ULONG KeGetCurrentProcessorNumber(void) 
{ 

  {
#line 5274
  return (0UL);
}
}
#line 7015
#pragma warning(push)
#line 7017
#pragma warning(disable:4164)
#line 7020
#pragma function(_enable)
#line 7021
#pragma function(_disable)
#line 7025
#pragma warning(pop)
#line 25 "C:/NTDDK/inc/pshpack4.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 25 "C:/NTDDK/inc/pshpack1.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 9415 "C:/NTDDK/inc/ddk/ntddk.h"
void KeInitializeEvent(PRKEVENT Event , EVENT_TYPE Type ,
                                                       BOOLEAN State ) ;
#line 9451
LONG KeSetEvent(PRKEVENT Event , KPRIORITY Increment ,
                                                BOOLEAN Wait ) ;
#line 9483
void KeInitializeSemaphore(PRKSEMAPHORE Semaphore ,
                                                           LONG Count , LONG Limit ) ;
#line 9497
LONG KeReleaseSemaphore(PRKSEMAPHORE Semaphore , KPRIORITY Increment ,
                                                        LONG Adjustment , BOOLEAN Wait ) ;
#line 9506
NTSTATUS KeDelayExecutionThread(KPROCESSOR_MODE WaitMode ,
                                                                BOOLEAN Alertable ,
                                                                PLARGE_INTEGER Interval ) ;
#line 9527
extern KPRIORITY KeSetPriorityThread(PKTHREAD Thread ,
                                                                     KPRIORITY Priority ) ;
#line 9681
NTSTATUS KeWaitForSingleObject(PVOID Object , KWAIT_REASON WaitReason ,
                                                               KPROCESSOR_MODE WaitMode ,
                                                               BOOLEAN Alertable ,
                                                               PLARGE_INTEGER Timeout ) ;
#line 9711
void ( __attribute__((__stdcall__)) KeInitializeSpinLock)(PKSPIN_LOCK SpinLock ) ;
#line 9737
extern KIRQL ( __attribute__((__fastcall__)) KfAcquireSpinLock)(PKSPIN_LOCK SpinLock ) ;
#line 9744
void ( __attribute__((__fastcall__)) KfReleaseSpinLock)(PKSPIN_LOCK SpinLock ,
                                                                                        KIRQL NewIrql ) ;
#line 10159
PVOID ( __attribute__((__stdcall__)) ExAllocatePoolWithTag)(POOL_TYPE PoolType ,
                                                                                            SIZE_T NumberOfBytes ,
                                                                                            ULONG Tag ) ;
#line 10236
void ( __attribute__((__stdcall__)) ExFreePool)(PVOID P ) ;
#line 10315
void ( __attribute__((__fastcall__)) ExAcquireFastMutex)(PFAST_MUTEX FastMutex ) ;
#line 10322
void ( __attribute__((__fastcall__)) ExReleaseFastMutex)(PFAST_MUTEX FastMutex ) ;
#line 10406
PLIST_ENTRY ( __attribute__((__fastcall__)) ExfInterlockedInsertHeadList)(PLIST_ENTRY ListHead ,
                                                                                                          PLIST_ENTRY ListEntry ,
                                                                                                          PKSPIN_LOCK Lock ) ;
#line 10415
PLIST_ENTRY ( __attribute__((__fastcall__)) ExfInterlockedInsertTailList)(PLIST_ENTRY ListHead ,
                                                                                                          PLIST_ENTRY ListEntry ,
                                                                                                          PKSPIN_LOCK Lock ) ;
#line 10424
PLIST_ENTRY ( __attribute__((__fastcall__)) ExfInterlockedRemoveHeadList)(PLIST_ENTRY ListHead ,
                                                                                                          PKSPIN_LOCK Lock ) ;
#line 10547
extern PSINGLE_LIST_ENTRY ( __attribute__((__fastcall__)) ExInterlockedPopEntrySList)(PSLIST_HEADER ListHead ,
                                                                                                                      PKSPIN_LOCK Lock ) ;
#line 10555
extern PSINGLE_LIST_ENTRY ( __attribute__((__fastcall__)) ExInterlockedPushEntrySList)(PSLIST_HEADER ListHead ,
                                                                                                                       PSINGLE_LIST_ENTRY ListEntry ,
                                                                                                                       PKSPIN_LOCK Lock ) ;
#line 10643 "C:/NTDDK/inc/ddk/ntddk.h"
__inline PVOID ExAllocateFromNPagedLookasideList(PNPAGED_LOOKASIDE_LIST Lookaside ) 
{ PVOID Entry ;
  PSINGLE_LIST_ENTRY tmp ;
  unsigned int __cil_tmp4 ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  ULONG __cil_tmp10 ;
  SLIST_HEADER *__cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  KSPIN_LOCK *__cil_tmp14 ;
  void *__cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  ULONG __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  PVOID (*__cil_tmp28)(POOL_TYPE PoolType , SIZE_T NumberOfBytes , ULONG Tag ) ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  POOL_TYPE __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  ULONG __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  ULONG __cil_tmp40 ;
  ULONG *mem_41 ;
  ULONG *mem_42 ;
  ULONG *mem_43 ;
  ULONG *mem_44 ;
  PVOID (**mem_45)(POOL_TYPE PoolType , SIZE_T NumberOfBytes , ULONG Tag ) ;
  POOL_TYPE *mem_46 ;
  ULONG *mem_47 ;
  ULONG *mem_48 ;

  {
  {
#line 10672
  __cil_tmp4 = 0 + 12;
#line 10672
  __cil_tmp5 = (unsigned int )Lookaside;
#line 10672
  __cil_tmp6 = __cil_tmp5 + __cil_tmp4;
#line 10672
  __cil_tmp7 = 0 + 12;
#line 10672
  __cil_tmp8 = (unsigned int )Lookaside;
#line 10672
  __cil_tmp9 = __cil_tmp8 + __cil_tmp7;
#line 10672
  mem_41 = (ULONG *)__cil_tmp9;
#line 10672
  __cil_tmp10 = *mem_41;
#line 10672
  mem_42 = (ULONG *)__cil_tmp6;
#line 10672
  *mem_42 = __cil_tmp10 + 1UL;
#line 10673
  __cil_tmp11 = (SLIST_HEADER *)Lookaside;
#line 10673
  __cil_tmp12 = (unsigned int )Lookaside;
#line 10673
  __cil_tmp13 = __cil_tmp12 + 100;
#line 10673
  __cil_tmp14 = (KSPIN_LOCK *)__cil_tmp13;
#line 10673
  tmp = ExInterlockedPopEntrySList(__cil_tmp11, __cil_tmp14);
#line 10673
  Entry = (void *)tmp;
  }
  {
#line 10674
  __cil_tmp15 = (void *)0;
#line 10674
  __cil_tmp16 = (unsigned int )__cil_tmp15;
#line 10674
  __cil_tmp17 = (unsigned int )Entry;
#line 10674
  if (__cil_tmp17 == __cil_tmp16) {
    {
#line 10675
    __cil_tmp18 = 0 + 16;
#line 10675
    __cil_tmp19 = (unsigned int )Lookaside;
#line 10675
    __cil_tmp20 = __cil_tmp19 + __cil_tmp18;
#line 10675
    __cil_tmp21 = 0 + 16;
#line 10675
    __cil_tmp22 = (unsigned int )Lookaside;
#line 10675
    __cil_tmp23 = __cil_tmp22 + __cil_tmp21;
#line 10675
    mem_43 = (ULONG *)__cil_tmp23;
#line 10675
    __cil_tmp24 = *mem_43;
#line 10675
    mem_44 = (ULONG *)__cil_tmp20;
#line 10675
    *mem_44 = __cil_tmp24 + 1UL;
#line 10676
    __cil_tmp25 = 0 + 68;
#line 10676
    __cil_tmp26 = (unsigned int )Lookaside;
#line 10676
    __cil_tmp27 = __cil_tmp26 + __cil_tmp25;
#line 10676
    mem_45 = (PVOID (**)(POOL_TYPE PoolType , SIZE_T NumberOfBytes , ULONG Tag ))__cil_tmp27;
#line 10676
    __cil_tmp28 = *mem_45;
#line 10676
    __cil_tmp29 = 0 + 28;
#line 10676
    __cil_tmp30 = (unsigned int )Lookaside;
#line 10676
    __cil_tmp31 = __cil_tmp30 + __cil_tmp29;
#line 10676
    mem_46 = (POOL_TYPE *)__cil_tmp31;
#line 10676
    __cil_tmp32 = *mem_46;
#line 10676
    __cil_tmp33 = 0 + 64;
#line 10676
    __cil_tmp34 = (unsigned int )Lookaside;
#line 10676
    __cil_tmp35 = __cil_tmp34 + __cil_tmp33;
#line 10676
    mem_47 = (ULONG *)__cil_tmp35;
#line 10676
    __cil_tmp36 = *mem_47;
#line 10676
    __cil_tmp37 = 0 + 60;
#line 10676
    __cil_tmp38 = (unsigned int )Lookaside;
#line 10676
    __cil_tmp39 = __cil_tmp38 + __cil_tmp37;
#line 10676
    mem_48 = (ULONG *)__cil_tmp39;
#line 10676
    __cil_tmp40 = *mem_48;
#line 10676
    Entry = (*__cil_tmp28)(__cil_tmp32, __cil_tmp36, __cil_tmp40);
    }
  } else {

  }
  }
#line 10681
  return (Entry);
}
}
#line 10684 "C:/NTDDK/inc/ddk/ntddk.h"
__inline void ExFreeToNPagedLookasideList(PNPAGED_LOOKASIDE_LIST Lookaside , PVOID Entry ) 
{ unsigned int __cil_tmp3 ;
  unsigned int __cil_tmp4 ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  ULONG __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  USHORT __cil_tmp13 ;
  int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  USHORT __cil_tmp20 ;
  int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  ULONG __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  void (*__cil_tmp32)(PVOID Buffer ) ;
  SLIST_HEADER *__cil_tmp33 ;
  struct _SINGLE_LIST_ENTRY *__cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  KSPIN_LOCK *__cil_tmp37 ;
  ULONG *mem_38 ;
  ULONG *mem_39 ;
  USHORT *mem_40 ;
  USHORT *mem_41 ;
  ULONG *mem_42 ;
  ULONG *mem_43 ;
  void (**mem_44)(PVOID Buffer ) ;

  {
#line 10713
  __cil_tmp3 = 0 + 20;
#line 10713
  __cil_tmp4 = (unsigned int )Lookaside;
#line 10713
  __cil_tmp5 = __cil_tmp4 + __cil_tmp3;
#line 10713
  __cil_tmp6 = 0 + 20;
#line 10713
  __cil_tmp7 = (unsigned int )Lookaside;
#line 10713
  __cil_tmp8 = __cil_tmp7 + __cil_tmp6;
#line 10713
  mem_38 = (ULONG *)__cil_tmp8;
#line 10713
  __cil_tmp9 = *mem_38;
#line 10713
  mem_39 = (ULONG *)__cil_tmp5;
#line 10713
  *mem_39 = __cil_tmp9 + 1UL;
  {
#line 10714
  __cil_tmp10 = 0 + 8;
#line 10714
  __cil_tmp11 = (unsigned int )Lookaside;
#line 10714
  __cil_tmp12 = __cil_tmp11 + __cil_tmp10;
#line 10714
  mem_40 = (USHORT *)__cil_tmp12;
#line 10714
  __cil_tmp13 = *mem_40;
#line 10714
  __cil_tmp14 = (int )__cil_tmp13;
#line 10714
  __cil_tmp15 = 0 + 4;
#line 10714
  __cil_tmp16 = 0 + __cil_tmp15;
#line 10714
  __cil_tmp17 = 0 + __cil_tmp16;
#line 10714
  __cil_tmp18 = (unsigned int )Lookaside;
#line 10714
  __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
#line 10714
  mem_41 = (USHORT *)__cil_tmp19;
#line 10714
  __cil_tmp20 = *mem_41;
#line 10714
  __cil_tmp21 = (int )__cil_tmp20;
#line 10714
  if (__cil_tmp21 >= __cil_tmp14) {
    {
#line 10715
    __cil_tmp22 = 0 + 24;
#line 10715
    __cil_tmp23 = (unsigned int )Lookaside;
#line 10715
    __cil_tmp24 = __cil_tmp23 + __cil_tmp22;
#line 10715
    __cil_tmp25 = 0 + 24;
#line 10715
    __cil_tmp26 = (unsigned int )Lookaside;
#line 10715
    __cil_tmp27 = __cil_tmp26 + __cil_tmp25;
#line 10715
    mem_42 = (ULONG *)__cil_tmp27;
#line 10715
    __cil_tmp28 = *mem_42;
#line 10715
    mem_43 = (ULONG *)__cil_tmp24;
#line 10715
    *mem_43 = __cil_tmp28 + 1UL;
#line 10716
    __cil_tmp29 = 0 + 72;
#line 10716
    __cil_tmp30 = (unsigned int )Lookaside;
#line 10716
    __cil_tmp31 = __cil_tmp30 + __cil_tmp29;
#line 10716
    mem_44 = (void (**)(PVOID Buffer ))__cil_tmp31;
#line 10716
    __cil_tmp32 = *mem_44;
#line 10716
    (*__cil_tmp32)(Entry);
    }
  } else {
    {
#line 10719
    __cil_tmp33 = (SLIST_HEADER *)Lookaside;
#line 10719
    __cil_tmp34 = (struct _SINGLE_LIST_ENTRY *)Entry;
#line 10719
    __cil_tmp35 = (unsigned int )Lookaside;
#line 10719
    __cil_tmp36 = __cil_tmp35 + 100;
#line 10719
    __cil_tmp37 = (KSPIN_LOCK *)__cil_tmp36;
#line 10719
    ExInterlockedPushEntrySList(__cil_tmp33, __cil_tmp34, __cil_tmp37);
    }
  }
  }
#line 10726
  return;
}
}
#line 11906
extern void MmProbeAndLockPages(PMDL MemoryDescriptorList ,
                                                                KPROCESSOR_MODE AccessMode ,
                                                                LOCK_OPERATION Operation ) ;
#line 11915
void MmUnlockPages(PMDL MemoryDescriptorList ) ;
#line 11979
PVOID MmMapLockedPagesSpecifyCache(PMDL MemoryDescriptorList ,
                                                                   KPROCESSOR_MODE AccessMode ,
                                                                   MEMORY_CACHING_TYPE CacheType ,
                                                                   PVOID BaseAddress ,
                                                                   ULONG BugCheckOnFailure ,
                                                                   MM_PAGE_PRIORITY Priority ) ;
#line 12084
PVOID MmAllocateContiguousMemory(SIZE_T NumberOfBytes ,
                                                                 PHYSICAL_ADDRESS HighestAcceptableAddress ) ;
#line 12101
void MmFreeContiguousMemory(PVOID BaseAddress ) ;
#line 12172
void MmResetDriverPaging(PVOID AddressWithinSection ) ;
#line 12179
PVOID MmPageEntireDriver(PVOID AddressWithinSection ) ;
#line 12552
NTSTATUS PsCreateSystemThread(PHANDLE ThreadHandle ,
                                                              ULONG DesiredAccess ,
                                                              POBJECT_ATTRIBUTES ObjectAttributes ,
                                                              HANDLE ProcessHandle ,
                                                              PCLIENT_ID ClientId ,
                                                              void (*StartRoutine)(PVOID StartContext ) ,
                                                              PVOID StartContext ) ;
#line 12564
NTSTATUS PsTerminateSystemThread(NTSTATUS ExitStatus ) ;
#line 25 "C:/NTDDK/inc/pshpack4.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 14734 "C:/NTDDK/inc/ddk/ntddk.h"
PMDL IoAllocateMdl(PVOID VirtualAddress , ULONG Length ,
                                                   BOOLEAN SecondaryBuffer , BOOLEAN ChargeQuota ,
                                                   PIRP Irp ) ;
#line 14807
PDEVICE_OBJECT IoAttachDeviceToDeviceStack(PDEVICE_OBJECT SourceDevice ,
                                                                           PDEVICE_OBJECT TargetDevice ) ;
#line 14814
PIRP IoBuildAsynchronousFsdRequest(ULONG MajorFunction ,
                                                                   PDEVICE_OBJECT DeviceObject ,
                                                                   PVOID Buffer ,
                                                                   ULONG Length ,
                                                                   PLARGE_INTEGER StartingOffset ,
                                                                   PIO_STATUS_BLOCK IoStatusBlock ) ;
#line 14825
PIRP IoBuildDeviceIoControlRequest(ULONG IoControlCode ,
                                                                   PDEVICE_OBJECT DeviceObject ,
                                                                   PVOID InputBuffer ,
                                                                   ULONG InputBufferLength ,
                                                                   PVOID OutputBuffer ,
                                                                   ULONG OutputBufferLength ,
                                                                   BOOLEAN InternalDeviceIoControl ,
                                                                   PKEVENT Event ,
                                                                   PIO_STATUS_BLOCK IoStatusBlock ) ;
#line 14875
NTSTATUS ( __attribute__((__fastcall__)) IofCallDriver)(PDEVICE_OBJECT DeviceObject ,
                                                                                        PIRP Irp ) ;
#line 14903
void ( __attribute__((__fastcall__)) IofCompleteRequest)(PIRP Irp ,
                                                                                         CCHAR PriorityBoost ) ;
#line 14942
NTSTATUS IoCreateDevice(PDRIVER_OBJECT DriverObject ,
                                                        ULONG DeviceExtensionSize ,
                                                        PUNICODE_STRING DeviceName ,
                                                        ULONG DeviceType , ULONG DeviceCharacteristics ,
                                                        BOOLEAN Exclusive , PDEVICE_OBJECT *DeviceObject ) ;
#line 14993
NTSTATUS IoCreateSymbolicLink(PUNICODE_STRING SymbolicLinkName ,
                                                              PUNICODE_STRING DeviceName ) ;
#line 15057
void IoDeleteDevice(PDEVICE_OBJECT DeviceObject ) ;
#line 15063
NTSTATUS IoDeleteSymbolicLink(PUNICODE_STRING SymbolicLinkName ) ;
#line 15069
void IoDetachDevice(PDEVICE_OBJECT TargetDevice ) ;
#line 15092
void IoFreeIrp(PIRP Irp ) ;
#line 15098
void IoFreeMdl(PMDL Mdl ) ;
#line 15110
PCONFIGURATION_INFORMATION IoGetConfigurationInformation(void) ;
#line 15234
extern void IoGetStackLimits(PULONG_PTR LowLimit ,
                                                             PULONG_PTR HighLimit ) ;
#line 15246 "C:/NTDDK/inc/ddk/ntddk.h"
__inline ULONG_PTR IoGetRemainingStackSize(void) 
{ ULONG_PTR Top ;
  ULONG_PTR Bottom ;
  ULONG_PTR *__cil_tmp3 ;
  ULONG_PTR __cil_tmp4 ;
  unsigned long __cil_tmp5 ;

  {
  {
#line 15255
  IoGetStackLimits(& Bottom, & Top);
  }
  {
#line 15256
  __cil_tmp3 = & Bottom;
#line 15256
  __cil_tmp4 = *__cil_tmp3;
#line 15256
  __cil_tmp5 = (unsigned long )(& Top);
#line 15256
  return (__cil_tmp5 - __cil_tmp4);
  }
}
}
#line 15426
NTSTATUS IoQueryDeviceDescription(PINTERFACE_TYPE BusType ,
                                                                  PULONG BusNumber ,
                                                                  PCONFIGURATION_TYPE ControllerType ,
                                                                  PULONG ControllerNumber ,
                                                                  PCONFIGURATION_TYPE PeripheralType ,
                                                                  PULONG PeripheralNumber ,
                                                                  NTSTATUS (*CalloutRoutine)(PVOID Context ,
                                                                                             PUNICODE_STRING PathName ,
                                                                                             INTERFACE_TYPE BusType ,
                                                                                             ULONG BusNumber ,
                                                                                             PKEY_VALUE_FULL_INFORMATION *BusInformation ,
                                                                                             CONFIGURATION_TYPE ControllerType ,
                                                                                             ULONG ControllerNumber ,
                                                                                             PKEY_VALUE_FULL_INFORMATION *ControllerInformation ,
                                                                                             CONFIGURATION_TYPE PeripheralType ,
                                                                                             ULONG PeripheralNumber ,
                                                                                             PKEY_VALUE_FULL_INFORMATION *PeripheralInformation ) ,
                                                                  PVOID Context ) ;
#line 15492
void IoReleaseCancelSpinLock(KIRQL Irql ) ;
#line 15641
void IoSetHardErrorOrVerifyDevice(PIRP Irp , PDEVICE_OBJECT DeviceObject ) ;
#line 16436
NTSTATUS ( __attribute__((__stdcall__)) IoRegisterDeviceInterface)(PDEVICE_OBJECT PhysicalDeviceObject ,
                                                                                                   GUID const   *InterfaceClassGuid ,
                                                                                                   PUNICODE_STRING ReferenceString ,
                                                                                                   PUNICODE_STRING SymbolicLinkName ) ;
#line 16456
NTSTATUS IoSetDeviceInterfaceState(PUNICODE_STRING SymbolicLinkName ,
                                                                   BOOLEAN Enable ) ;
#line 17779
#pragma warning(disable:4200)
#line 17785
#pragma warning(default:4200)
#line 18271
NTSTATUS PoCallDriver(PDEVICE_OBJECT DeviceObject ,
                                                      PIRP Irp ) ;
#line 18278
void PoStartNextPowerIrp(PIRP Irp ) ;
#line 18326
NTSTATUS ObReferenceObjectByHandle(HANDLE Handle ,
                                                                   ACCESS_MASK DesiredAccess ,
                                                                   POBJECT_TYPE ObjectType ,
                                                                   KPROCESSOR_MODE AccessMode ,
                                                                   PVOID *Object ,
                                                                   POBJECT_HANDLE_INFORMATION HandleInformation ) ;
#line 18359
void ( __attribute__((__fastcall__)) ObfDereferenceObject)(PVOID Object ) ;
#line 19155
NTSTATUS ( __attribute__((__stdcall__)) ZwClose)(HANDLE Handle ) ;
#line 25 "C:/NTDDK/inc/pshpack1.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 25 "C:/NTDDK/inc/pshpack1.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 25 "C:/NTDDK/inc/pshpack1.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 25 "C:/NTDDK/inc/pshpack1.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 25 "C:/NTDDK/inc/pshpack1.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 212 "C:/NTDDK/inc/mountmgr.h"
 __attribute__((__selectany__)) struct _GUID  const  MOUNTDEV_MOUNTED_DEVICE_GUID  =    {1408590605UL,
    (unsigned short)46783, (unsigned short)4560, {(unsigned char)148, (unsigned char)242,
                                                  (unsigned char)0, (unsigned char)160,
                                                  (unsigned char)201, (unsigned char)30,
                                                  (unsigned char)251, (unsigned char)139}};
#line 265 "./flo_data.h"
DRIVE_MEDIA_LIMITS _DriveMediaLimits[5]  = {      {(DRIVE_MEDIA_TYPE )4, (DRIVE_MEDIA_TYPE )0}, 
        {(DRIVE_MEDIA_TYPE )11, (DRIVE_MEDIA_TYPE )6}, 
        {(DRIVE_MEDIA_TYPE )5, (DRIVE_MEDIA_TYPE )5}, 
        {(DRIVE_MEDIA_TYPE )13, (DRIVE_MEDIA_TYPE )12}, 
        {(DRIVE_MEDIA_TYPE )16, (DRIVE_MEDIA_TYPE )14}};
#line 282 "./flo_data.h"
DRIVE_MEDIA_LIMITS_NEC98 _DriveMediaLimits_NEC98[6]  = {      {(DRIVE_MEDIA_TYPE_NEC98 )4, (DRIVE_MEDIA_TYPE_NEC98 )0}, 
        {(DRIVE_MEDIA_TYPE_NEC98 )13, (DRIVE_MEDIA_TYPE_NEC98 )5}, 
        {(DRIVE_MEDIA_TYPE_NEC98 )11, (DRIVE_MEDIA_TYPE_NEC98 )5}, 
        {(DRIVE_MEDIA_TYPE_NEC98 )18, (DRIVE_MEDIA_TYPE_NEC98 )14}, 
        {(DRIVE_MEDIA_TYPE_NEC98 )18, (DRIVE_MEDIA_TYPE_NEC98 )14}, 
        {(DRIVE_MEDIA_TYPE_NEC98 )20, (DRIVE_MEDIA_TYPE_NEC98 )19}};
#line 292 "./flo_data.h"
PDRIVE_MEDIA_LIMITS DriveMediaLimits  ;
#line 334 "./flo_data.h"
DRIVE_MEDIA_CONSTANTS _DriveMediaConstants[17]  = 
#line 334
  {      {(MEDIA_TYPE )10, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)8, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)0, (unsigned char)2, (unsigned char)1, (unsigned char)255,
      (unsigned char)254, (unsigned char)0}, 
        {(MEDIA_TYPE )9, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)0, (unsigned char)2, (unsigned char)1, (unsigned char)255,
      (unsigned char)252, (unsigned char)0}, 
        {(MEDIA_TYPE )7, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)8, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)0, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)255, (unsigned char)0}, 
        {(MEDIA_TYPE )8, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)3,
      (unsigned short)1024, (unsigned char)4, (unsigned char)128, (unsigned char)240,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)0, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)255, (unsigned char)0}, 
        {(MEDIA_TYPE )6, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)250, (unsigned short)1000,
      (unsigned char)39, (unsigned char)0, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)253, (unsigned char)0}, 
        {(MEDIA_TYPE )5, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)500, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)249, (unsigned char)2}, 
        {(MEDIA_TYPE )10, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)8, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)1, (unsigned char)1, (unsigned char)1, (unsigned char)255,
      (unsigned char)254, (unsigned char)0}, 
        {(MEDIA_TYPE )9, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)1, (unsigned char)1, (unsigned char)1, (unsigned char)255,
      (unsigned char)252, (unsigned char)0}, 
        {(MEDIA_TYPE )7, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)8, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)1, (unsigned char)1, (unsigned char)2, (unsigned char)255,
      (unsigned char)255, (unsigned char)0}, 
        {(MEDIA_TYPE )8, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)3,
      (unsigned short)1024, (unsigned char)4, (unsigned char)128, (unsigned char)240,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)1, (unsigned char)1, (unsigned char)2, (unsigned char)255,
      (unsigned char)255, (unsigned char)0}, 
        {(MEDIA_TYPE )6, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)625, (unsigned short)1000,
      (unsigned char)39, (unsigned char)1, (unsigned char)1, (unsigned char)2, (unsigned char)255,
      (unsigned char)253, (unsigned char)0}, 
        {(MEDIA_TYPE )1, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)15, (unsigned char)27, (unsigned char)84,
      (unsigned char)246, (unsigned char)15, (unsigned short)625, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)249, (unsigned char)0}, 
        {(MEDIA_TYPE )5, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)500, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)249, (unsigned char)2}, 
        {(MEDIA_TYPE )2, (unsigned char)175, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)18, (unsigned char)27, (unsigned char)101,
      (unsigned char)246, (unsigned char)15, (unsigned short)500, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)240, (unsigned char)3}, 
        {(MEDIA_TYPE )5, (unsigned char)225, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)500, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)249, (unsigned char)2}, 
        {(MEDIA_TYPE )2, (unsigned char)209, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)18, (unsigned char)27, (unsigned char)101,
      (unsigned char)246, (unsigned char)15, (unsigned short)500, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)240, (unsigned char)3}, 
        {(MEDIA_TYPE )3, (unsigned char)161, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)36, (unsigned char)56, (unsigned char)83,
      (unsigned char)246, (unsigned char)15, (unsigned short)500, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)3, (unsigned char)2, (unsigned char)255,
      (unsigned char)240, (unsigned char)6}};
#line 358 "./flo_data.h"
DRIVE_MEDIA_CONSTANTS _DriveMediaConstants_NEC98[21]  = 
#line 358
  {      {(MEDIA_TYPE )10, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)8, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)0, (unsigned char)2, (unsigned char)1, (unsigned char)255,
      (unsigned char)254, (unsigned char)0}, 
        {(MEDIA_TYPE )9, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)0, (unsigned char)2, (unsigned char)1, (unsigned char)255,
      (unsigned char)252, (unsigned char)0}, 
        {(MEDIA_TYPE )7, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)8, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)0, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)255, (unsigned char)0}, 
        {(MEDIA_TYPE )8, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)3,
      (unsigned short)1024, (unsigned char)4, (unsigned char)128, (unsigned char)240,
      (unsigned char)246, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)0, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)255, (unsigned char)0}, 
        {(MEDIA_TYPE )6, (unsigned char)223, (unsigned char)2, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)246, (unsigned char)15, (unsigned short)250, (unsigned short)1000,
      (unsigned char)39, (unsigned char)0, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)253, (unsigned char)0}, 
        {(MEDIA_TYPE )10, (unsigned char)223, (unsigned char)22, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)8, (unsigned char)42, (unsigned char)80,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)1, (unsigned char)2, (unsigned char)1, (unsigned char)255,
      (unsigned char)254, (unsigned char)0}, 
        {(MEDIA_TYPE )9, (unsigned char)223, (unsigned char)22, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)1, (unsigned char)2, (unsigned char)1, (unsigned char)255,
      (unsigned char)252, (unsigned char)0}, 
        {(MEDIA_TYPE )7, (unsigned char)223, (unsigned char)22, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)8, (unsigned char)42, (unsigned char)80,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)1, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)255, (unsigned char)0}, 
        {(MEDIA_TYPE )8, (unsigned char)223, (unsigned char)22, (unsigned char)37, (unsigned char)3,
      (unsigned short)1024, (unsigned char)4, (unsigned char)128, (unsigned char)240,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)1, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)255, (unsigned char)0}, 
        {(MEDIA_TYPE )6, (unsigned char)223, (unsigned char)22, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)39, (unsigned char)1, (unsigned char)2, (unsigned char)2, (unsigned char)255,
      (unsigned char)253, (unsigned char)0}, 
        {(MEDIA_TYPE )15, (unsigned char)223, (unsigned char)22, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)8, (unsigned char)42, (unsigned char)80,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)251, (unsigned char)0}, 
        {(MEDIA_TYPE )16, (unsigned char)223, (unsigned char)22, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)249, (unsigned char)2}, 
        {(MEDIA_TYPE )1, (unsigned char)207, (unsigned char)36, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)15, (unsigned char)27, (unsigned char)84,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)249, (unsigned char)0}, 
        {(MEDIA_TYPE )19, (unsigned char)207, (unsigned char)36, (unsigned char)37, (unsigned char)3,
      (unsigned short)1024, (unsigned char)8, (unsigned char)53, (unsigned char)116,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)76, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)254, (unsigned char)0}, 
        {(MEDIA_TYPE )14, (unsigned char)223, (unsigned char)22, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)8, (unsigned char)42, (unsigned char)80,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)251, (unsigned char)0}, 
        {(MEDIA_TYPE )5, (unsigned char)223, (unsigned char)22, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)9, (unsigned char)42, (unsigned char)80,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)249, (unsigned char)2}, 
        {(MEDIA_TYPE )17, (unsigned char)207, (unsigned char)36, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)15, (unsigned char)27, (unsigned char)84,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)249, (unsigned char)0}, 
        {(MEDIA_TYPE )18, (unsigned char)207, (unsigned char)36, (unsigned char)37, (unsigned char)3,
      (unsigned short)1024, (unsigned char)8, (unsigned char)53, (unsigned char)116,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)76, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)254, (unsigned char)0}, 
        {(MEDIA_TYPE )2, (unsigned char)223, (unsigned char)36, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)18, (unsigned char)27, (unsigned char)108,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)240, (unsigned char)3}, 
        {(MEDIA_TYPE )1, (unsigned char)191, (unsigned char)50, (unsigned char)37, (unsigned char)2,
      (unsigned short)512, (unsigned char)15, (unsigned char)27, (unsigned char)84,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)79, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)249, (unsigned char)0}, 
        {(MEDIA_TYPE )19, (unsigned char)191, (unsigned char)50, (unsigned char)37, (unsigned char)3,
      (unsigned short)1024, (unsigned char)8, (unsigned char)53, (unsigned char)116,
      (unsigned char)229, (unsigned char)15, (unsigned short)1000, (unsigned short)1000,
      (unsigned char)76, (unsigned char)0, (unsigned char)0, (unsigned char)2, (unsigned char)255,
      (unsigned char)254, (unsigned char)0}};
#line 399 "./flo_data.h"
PDRIVE_MEDIA_CONSTANTS DriveMediaConstants  ;
#line 595 "./flo_data.h"
SENSE_DEVISE_STATUS_PTOS Result_Status3_PTOS[4]  ;
#line 603
NTSTATUS DriverEntry(PDRIVER_OBJECT DriverObject , PUNICODE_STRING RegistryPath ) ;
#line 609
void FloppyUnload(PDRIVER_OBJECT DriverObject ) ;
#line 614
NTSTATUS FlConfigCallBack(PVOID Context , PUNICODE_STRING PathName , INTERFACE_TYPE BusType ,
                          ULONG BusNumber , PKEY_VALUE_FULL_INFORMATION *BusInformation ,
                          CONFIGURATION_TYPE ControllerType , ULONG ControllerNumber ,
                          PKEY_VALUE_FULL_INFORMATION *ControllerInformation , CONFIGURATION_TYPE PeripheralType ,
                          ULONG PeripheralNumber , PKEY_VALUE_FULL_INFORMATION *PeripheralInformation ) ;
#line 629
NTSTATUS FlInitializeControllerHardware(PDISKETTE_EXTENSION DisketteExtension ) ;
#line 634
NTSTATUS FloppyCreateClose(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 640
NTSTATUS FloppyDeviceControl(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 646
NTSTATUS FloppyReadWrite(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 652
NTSTATUS FlRecalibrateDrive(PDISKETTE_EXTENSION DisketteExtension ) ;
#line 657
NTSTATUS FlDatarateSpecifyConfigure(PDISKETTE_EXTENSION DisketteExtension ) ;
#line 662
NTSTATUS FlStartDrive(PDISKETTE_EXTENSION DisketteExtension , PIRP Irp , BOOLEAN WriteOperation ,
                      BOOLEAN SetUpMedia , BOOLEAN IgnoreChange ) ;
#line 671
void FlFinishOperation(PIRP Irp , PDISKETTE_EXTENSION DisketteExtension ) ;
#line 677
NTSTATUS FlDetermineMediaType(PDISKETTE_EXTENSION DisketteExtension ) ;
#line 682
void FloppyThread(PVOID Context ) ;
#line 687
NTSTATUS FlReadWrite(PDISKETTE_EXTENSION DisketteExtension , PIRP Irp , BOOLEAN DriveStarted ) ;
#line 694
NTSTATUS FlFormat(PDISKETTE_EXTENSION DisketteExtension , PIRP Irp ) ;
#line 700
NTSTATUS FlIssueCommand(PDISKETTE_EXTENSION DisketteExtension , PUCHAR FifoInBuffer ,
                        PUCHAR FifoOutBuffer , PMDL IoMdl , ULONG IoOffset , ULONG TransferBytes ) ;
#line 710
BOOLEAN FlCheckFormatParameters(PDISKETTE_EXTENSION DisketteExtension , PFORMAT_PARAMETERS FormatParameters ) ;
#line 724
NTSTATUS FlQueueIrpToThread(PIRP Irp , PDISKETTE_EXTENSION DisketteExtension ) ;
#line 730
NTSTATUS FlInterpretError(UCHAR StatusRegister1 , UCHAR StatusRegister2 ) ;
#line 736
void FlAllocateIoBuffer(PDISKETTE_EXTENSION DisketteExtension , ULONG BufferSize ) ;
#line 742
void FlFreeIoBuffer(PDISKETTE_EXTENSION DisketteExtension ) ;
#line 747
void FlConsolidateMediaTypeWithBootSector(PDISKETTE_EXTENSION DisketteExtension ,
                                          PBOOT_SECTOR_INFO BootSector ) ;
#line 753
void FlCheckBootSector(PDISKETTE_EXTENSION DisketteExtension ) ;
#line 758
NTSTATUS FlReadWriteTrack(PDISKETTE_EXTENSION DisketteExtension , PMDL IoMdl , ULONG IoOffset ,
                          BOOLEAN WriteOperation , UCHAR Cylinder , UCHAR Head , UCHAR Sector ,
                          UCHAR NumberOfSectors , BOOLEAN NeedSeek ) ;
#line 771
NTSTATUS FlFdcDeviceIo(PDEVICE_OBJECT DeviceObject , ULONG Ioctl , PVOID Data ) ;
#line 778
NTSTATUS FloppyAddDevice(PDRIVER_OBJECT DriverObject , PDEVICE_OBJECT PhysicalDeviceObject ) ;
#line 784
NTSTATUS FloppyPnp(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 790
NTSTATUS FloppyPower(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 796
NTSTATUS FloppyPnpComplete(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
#line 803
NTSTATUS FloppyQueueRequest(PDISKETTE_EXTENSION DisketteExtension , PIRP Irp ) ;
#line 809
NTSTATUS FloppyStartDevice(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 815
void FloppyProcessQueuedRequests(PDISKETTE_EXTENSION DisketteExtension ) ;
#line 820
void FloppyCancelQueuedRequest(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
#line 826
NTSTATUS FlAcpiConfigureFloppy(PDISKETTE_EXTENSION DisketteExtension , PFDC_INFO FdcInfo ) ;
#line 832
NTSTATUS FlHdbit(PDISKETTE_EXTENSION DisketteExtension ) ;
#line 47 "floppy.c"
#pragma alloc_text(INIT,DriverEntry)
#line 49
#pragma alloc_text(PAGE,FloppyAddDevice)
#line 50
#pragma alloc_text(PAGE,FloppyPnp)
#line 51
#pragma alloc_text(PAGE,FloppyPower)
#line 52
#pragma alloc_text(PAGE,FlConfigCallBack)
#line 53
#pragma alloc_text(PAGE,FlInitializeControllerHardware)
#line 54
#pragma alloc_text(PAGE,FlInterpretError)
#line 55
#pragma alloc_text(PAGE,FlDatarateSpecifyConfigure)
#line 56
#pragma alloc_text(PAGE,FlRecalibrateDrive)
#line 57
#pragma alloc_text(PAGE,FlDetermineMediaType)
#line 58
#pragma alloc_text(PAGE,FlCheckBootSector)
#line 59
#pragma alloc_text(PAGE,FlConsolidateMediaTypeWithBootSector)
#line 60
#pragma alloc_text(PAGE,FlIssueCommand)
#line 61
#pragma alloc_text(PAGE,FlReadWriteTrack)
#line 62
#pragma alloc_text(PAGE,FlReadWrite)
#line 63
#pragma alloc_text(PAGE,FlFormat)
#line 64
#pragma alloc_text(PAGE,FlFinishOperation)
#line 65
#pragma alloc_text(PAGE,FlStartDrive)
#line 66
#pragma alloc_text(PAGE,FloppyThread)
#line 67
#pragma alloc_text(PAGE,FlAllocateIoBuffer)
#line 68
#pragma alloc_text(PAGE,FlFreeIoBuffer)
#line 69
#pragma alloc_text(PAGE,FloppyCreateClose)
#line 70
#pragma alloc_text(PAGE,FloppyDeviceControl)
#line 71
#pragma alloc_text(PAGE,FloppyReadWrite)
#line 72
#pragma alloc_text(PAGE,FlCheckFormatParameters)
#line 73
#pragma alloc_text(PAGE,FlFdcDeviceIo)
#line 74
#pragma alloc_text(PAGE,FlHdbit)
#line 101 "floppy.c"
NTSTATUS myStatus  ;
#line 103 "floppy.c"
int s  ;
#line 105 "floppy.c"
int pended  ;
#line 106 "floppy.c"
NTSTATUS (*compFptr)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context )  ;
#line 107 "floppy.c"
int compRegistered  ;
#line 108 "floppy.c"
int lowerDriverReturn  ;
#line 109 "floppy.c"
int setEventCalled  ;
#line 110 "floppy.c"
int customIrp  ;
#line 135 "floppy.c"
ULONG PagingReferenceCount  =    0UL;
#line 136 "floppy.c"
PFAST_MUTEX PagingMutex  =    (struct _FAST_MUTEX *)((void *)0);
#line 139 "floppy.c"
NTSTATUS DriverEntry(PDRIVER_OBJECT DriverObject , PUNICODE_STRING RegistryPath ) 
{ NTSTATUS ntStatus ;
  PVOID tmp ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  PDRIVER_EXTENSION __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  enum _POOL_TYPE __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  void *__cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  KEVENT *__cil_tmp49 ;
  enum _EVENT_TYPE __cil_tmp50 ;
  void *__cil_tmp51 ;
  KUSER_SHARED_DATA *__cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp55 ;
  int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  DRIVE_MEDIA_LIMITS_NEC98 *__cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  KUSER_SHARED_DATA *__cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp65 ;
  int __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  PDRIVER_DISPATCH *mem_71 ;
  PDRIVER_DISPATCH *mem_72 ;
  PDRIVER_DISPATCH *mem_73 ;
  PDRIVER_DISPATCH *mem_74 ;
  PDRIVER_DISPATCH *mem_75 ;
  PDRIVER_DISPATCH *mem_76 ;
  PDRIVER_DISPATCH *mem_77 ;
  void (**mem_78)(struct _DRIVER_OBJECT *DriverObject ) ;
  PDRIVER_EXTENSION *mem_79 ;
  NTSTATUS (**mem_80)(struct _DRIVER_OBJECT *DriverObject , struct _DEVICE_OBJECT *PhysicalDeviceObject ) ;
  LONG *mem_81 ;
  ULONG *mem_82 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_83 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_84 ;

  {
#line 170
  ntStatus = 0L;
  {
#line 242
  while (1) {
    while_0_continue: /* CIL Label */ ;
    goto while_0_break;
  }
  while_0_break: /* CIL Label */ ;
  }
  {
#line 247
  __cil_tmp5 = 0 * 4U;
#line 247
  __cil_tmp6 = 56 + __cil_tmp5;
#line 247
  __cil_tmp7 = (unsigned int )DriverObject;
#line 247
  __cil_tmp8 = __cil_tmp7 + __cil_tmp6;
#line 247
  mem_71 = (PDRIVER_DISPATCH *)__cil_tmp8;
#line 247
  *mem_71 = & FloppyCreateClose;
#line 248
  __cil_tmp9 = 2 * 4U;
#line 248
  __cil_tmp10 = 56 + __cil_tmp9;
#line 248
  __cil_tmp11 = (unsigned int )DriverObject;
#line 248
  __cil_tmp12 = __cil_tmp11 + __cil_tmp10;
#line 248
  mem_72 = (PDRIVER_DISPATCH *)__cil_tmp12;
#line 248
  *mem_72 = & FloppyCreateClose;
#line 249
  __cil_tmp13 = 3 * 4U;
#line 249
  __cil_tmp14 = 56 + __cil_tmp13;
#line 249
  __cil_tmp15 = (unsigned int )DriverObject;
#line 249
  __cil_tmp16 = __cil_tmp15 + __cil_tmp14;
#line 249
  mem_73 = (PDRIVER_DISPATCH *)__cil_tmp16;
#line 249
  *mem_73 = & FloppyReadWrite;
#line 250
  __cil_tmp17 = 4 * 4U;
#line 250
  __cil_tmp18 = 56 + __cil_tmp17;
#line 250
  __cil_tmp19 = (unsigned int )DriverObject;
#line 250
  __cil_tmp20 = __cil_tmp19 + __cil_tmp18;
#line 250
  mem_74 = (PDRIVER_DISPATCH *)__cil_tmp20;
#line 250
  *mem_74 = & FloppyReadWrite;
#line 251
  __cil_tmp21 = 14 * 4U;
#line 251
  __cil_tmp22 = 56 + __cil_tmp21;
#line 251
  __cil_tmp23 = (unsigned int )DriverObject;
#line 251
  __cil_tmp24 = __cil_tmp23 + __cil_tmp22;
#line 251
  mem_75 = (PDRIVER_DISPATCH *)__cil_tmp24;
#line 251
  *mem_75 = & FloppyDeviceControl;
#line 252
  __cil_tmp25 = 27 * 4U;
#line 252
  __cil_tmp26 = 56 + __cil_tmp25;
#line 252
  __cil_tmp27 = (unsigned int )DriverObject;
#line 252
  __cil_tmp28 = __cil_tmp27 + __cil_tmp26;
#line 252
  mem_76 = (PDRIVER_DISPATCH *)__cil_tmp28;
#line 252
  *mem_76 = & FloppyPnp;
#line 253
  __cil_tmp29 = 22 * 4U;
#line 253
  __cil_tmp30 = 56 + __cil_tmp29;
#line 253
  __cil_tmp31 = (unsigned int )DriverObject;
#line 253
  __cil_tmp32 = __cil_tmp31 + __cil_tmp30;
#line 253
  mem_77 = (PDRIVER_DISPATCH *)__cil_tmp32;
#line 253
  *mem_77 = & FloppyPower;
#line 255
  __cil_tmp33 = (unsigned int )DriverObject;
#line 255
  __cil_tmp34 = __cil_tmp33 + 52;
#line 255
  mem_78 = (void (**)(struct _DRIVER_OBJECT *DriverObject ))__cil_tmp34;
#line 255
  *mem_78 = & FloppyUnload;
#line 257
  __cil_tmp35 = (unsigned int )DriverObject;
#line 257
  __cil_tmp36 = __cil_tmp35 + 24;
#line 257
  mem_79 = (PDRIVER_EXTENSION *)__cil_tmp36;
#line 257
  __cil_tmp37 = *mem_79;
#line 257
  __cil_tmp38 = (unsigned int )__cil_tmp37;
#line 257
  __cil_tmp39 = __cil_tmp38 + 4;
#line 257
  mem_80 = (NTSTATUS (**)(struct _DRIVER_OBJECT *DriverObject , struct _DEVICE_OBJECT *PhysicalDeviceObject ))__cil_tmp39;
#line 257
  *mem_80 = & FloppyAddDevice;
#line 262
  __cil_tmp40 = (enum _POOL_TYPE )0;
#line 262
  __cil_tmp41 = (unsigned long )32U;
#line 262
  tmp = ExAllocatePoolWithTag(__cil_tmp40, __cil_tmp41, 1886350406UL);
#line 262
  PagingMutex = (struct _FAST_MUTEX *)tmp;
  }
  {
#line 264
  __cil_tmp42 = (void *)0;
#line 264
  __cil_tmp43 = (unsigned int )__cil_tmp42;
#line 264
  __cil_tmp44 = (unsigned int )PagingMutex;
#line 264
  if (__cil_tmp44 == __cil_tmp43) {
#line 266
    return (-1073741670L);
  } else {

  }
  }
  {
#line 269
  mem_81 = (LONG *)PagingMutex;
#line 269
  *mem_81 = 1L;
#line 269
  __cil_tmp45 = (unsigned int )PagingMutex;
#line 269
  __cil_tmp46 = __cil_tmp45 + 8;
#line 269
  mem_82 = (ULONG *)__cil_tmp46;
#line 269
  *mem_82 = 0UL;
#line 269
  __cil_tmp47 = (unsigned int )PagingMutex;
#line 269
  __cil_tmp48 = __cil_tmp47 + 12;
#line 269
  __cil_tmp49 = (KEVENT *)__cil_tmp48;
#line 269
  __cil_tmp50 = (enum _EVENT_TYPE )1;
#line 269
  KeInitializeEvent(__cil_tmp49, __cil_tmp50, (unsigned char)0);
#line 274
  __cil_tmp51 = (void *)(& DriverEntry);
#line 274
  MmPageEntireDriver(__cil_tmp51);
  }
  {
#line 276
  __cil_tmp52 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 276
  __cil_tmp53 = (unsigned int )__cil_tmp52;
#line 276
  __cil_tmp54 = __cil_tmp53 + 732;
#line 276
  mem_83 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp54;
#line 276
  __cil_tmp55 = *mem_83;
#line 276
  __cil_tmp56 = (int )__cil_tmp55;
#line 276
  if (__cil_tmp56 == 1) {
#line 276
    __cil_tmp57 = 0 * 64U;
#line 276
    __cil_tmp58 = (unsigned int )(_DriveMediaLimits_NEC98) + __cil_tmp57;
#line 276
    __cil_tmp59 = (DRIVE_MEDIA_LIMITS_NEC98 *)__cil_tmp58;
#line 276
    DriveMediaLimits = (struct _DRIVE_MEDIA_LIMITS *)__cil_tmp59;
  } else {
#line 276
    __cil_tmp60 = 0 * 64U;
#line 276
    __cil_tmp61 = (unsigned int )(_DriveMediaLimits) + __cil_tmp60;
#line 276
    DriveMediaLimits = (DRIVE_MEDIA_LIMITS *)__cil_tmp61;
  }
  }
  {
#line 279
  __cil_tmp62 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 279
  __cil_tmp63 = (unsigned int )__cil_tmp62;
#line 279
  __cil_tmp64 = __cil_tmp63 + 732;
#line 279
  mem_84 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp64;
#line 279
  __cil_tmp65 = *mem_84;
#line 279
  __cil_tmp66 = (int )__cil_tmp65;
#line 279
  if (__cil_tmp66 == 1) {
#line 279
    __cil_tmp67 = 0 * 56U;
#line 279
    __cil_tmp68 = (unsigned int )(_DriveMediaConstants_NEC98) + __cil_tmp67;
#line 279
    DriveMediaConstants = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp68;
  } else {
#line 279
    __cil_tmp69 = 0 * 56U;
#line 279
    __cil_tmp70 = (unsigned int )(_DriveMediaConstants) + __cil_tmp69;
#line 279
    DriveMediaConstants = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp70;
  }
  }
#line 282
  return (ntStatus);
}
}
#line 285 "floppy.c"
void FloppyUnload(PDRIVER_OBJECT DriverObject ) 
{ void *__cil_tmp2 ;

  {
  {
#line 308
  while (1) {
    while_1_continue: /* CIL Label */ ;
    goto while_1_break;
  }
  while_1_break: /* CIL Label */ ;
  }
  {
#line 318
  __cil_tmp2 = (void *)PagingMutex;
#line 318
  ExFreePool(__cil_tmp2);
  }
#line 322
  return;
}
}
#line 323 "floppy.c"
NTSTATUS FloppyAddDevice(PDRIVER_OBJECT DriverObject , PDEVICE_OBJECT PhysicalDeviceObject ) 
{ NTSTATUS ntStatus ;
  PDEVICE_OBJECT deviceObject ;
  PDISKETTE_EXTENSION disketteExtension ;
  FDC_INFO fdcInfo ;
  UCHAR arcNameBuffer[256] ;
  STRING arcNameString ;
  WCHAR deviceNameBuffer[20] ;
  UNICODE_STRING deviceName ;
  USHORT i ;
  USHORT tmp ;
  PVOID tmp___0 ;
  PCONFIGURATION_INFORMATION tmp___1 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  void *__cil_tmp22 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  WCHAR *__cil_tmp27 ;
  wchar_t const   *__cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  WCHAR *__cil_tmp31 ;
  WCHAR const   *__cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  int __cil_tmp34 ;
  PDEVICE_OBJECT *__cil_tmp35 ;
  PDEVICE_OBJECT __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  PVOID __cil_tmp39 ;
  enum _POOL_TYPE __cil_tmp40 ;
  UNICODE_STRING *__cil_tmp41 ;
  USHORT __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  void *__cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  PWSTR __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  PDEVICE_OBJECT *__cil_tmp54 ;
  PDEVICE_OBJECT __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  UNICODE_STRING *__cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  UNICODE_STRING *__cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  ULONG __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  UCHAR *__cil_tmp72 ;
  char *__cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  ULONG __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  ULONG __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  ULONG __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  UCHAR *__cil_tmp82 ;
  char const   *__cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  unsigned int __cil_tmp85 ;
  UNICODE_STRING *__cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  UNICODE_STRING *__cil_tmp89 ;
  PDEVICE_OBJECT *__cil_tmp90 ;
  PDEVICE_OBJECT __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  PDEVICE_OBJECT *__cil_tmp94 ;
  PDEVICE_OBJECT __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  ULONG __cil_tmp98 ;
  PDEVICE_OBJECT *__cil_tmp99 ;
  PDEVICE_OBJECT __cil_tmp100 ;
  unsigned int __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  ULONG __cil_tmp103 ;
  PDEVICE_OBJECT *__cil_tmp104 ;
  PDEVICE_OBJECT __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  PDEVICE_OBJECT *__cil_tmp108 ;
  PDEVICE_OBJECT __cil_tmp109 ;
  unsigned int __cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  PDEVICE_OBJECT *__cil_tmp112 ;
  PDEVICE_OBJECT __cil_tmp113 ;
  unsigned int __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  ULONG __cil_tmp116 ;
  unsigned int __cil_tmp117 ;
  unsigned int __cil_tmp118 ;
  unsigned int __cil_tmp119 ;
  unsigned int __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  PDEVICE_OBJECT *__cil_tmp123 ;
  PDEVICE_OBJECT __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  unsigned int __cil_tmp126 ;
  KSEMAPHORE *__cil_tmp127 ;
  unsigned int __cil_tmp128 ;
  unsigned int __cil_tmp129 ;
  unsigned int __cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  unsigned int __cil_tmp135 ;
  KEVENT *__cil_tmp136 ;
  enum _EVENT_TYPE __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  unsigned int __cil_tmp139 ;
  KSPIN_LOCK *__cil_tmp140 ;
  unsigned int __cil_tmp141 ;
  unsigned int __cil_tmp142 ;
  unsigned int __cil_tmp143 ;
  unsigned int __cil_tmp144 ;
  unsigned int __cil_tmp145 ;
  unsigned int __cil_tmp146 ;
  unsigned int __cil_tmp147 ;
  unsigned int __cil_tmp148 ;
  KEVENT *__cil_tmp149 ;
  enum _EVENT_TYPE __cil_tmp150 ;
  unsigned int __cil_tmp151 ;
  unsigned int __cil_tmp152 ;
  unsigned int __cil_tmp153 ;
  unsigned int __cil_tmp154 ;
  unsigned int __cil_tmp155 ;
  unsigned int __cil_tmp156 ;
  unsigned int __cil_tmp157 ;
  unsigned int __cil_tmp158 ;
  KEVENT *__cil_tmp159 ;
  enum _EVENT_TYPE __cil_tmp160 ;
  unsigned int __cil_tmp161 ;
  unsigned int __cil_tmp162 ;
  unsigned int __cil_tmp163 ;
  unsigned int __cil_tmp164 ;
  unsigned int __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  unsigned int __cil_tmp167 ;
  unsigned int __cil_tmp168 ;
  unsigned int __cil_tmp169 ;
  unsigned int __cil_tmp170 ;
  unsigned int __cil_tmp171 ;
  unsigned int __cil_tmp172 ;
  unsigned int __cil_tmp173 ;
  unsigned int __cil_tmp174 ;
  unsigned int __cil_tmp175 ;
  unsigned int __cil_tmp176 ;
  unsigned int __cil_tmp177 ;
  unsigned int __cil_tmp178 ;
  unsigned int __cil_tmp179 ;
  unsigned int __cil_tmp180 ;
  unsigned int __cil_tmp181 ;
  unsigned int __cil_tmp182 ;
  unsigned int __cil_tmp183 ;
  unsigned int __cil_tmp184 ;
  unsigned int __cil_tmp185 ;
  unsigned int __cil_tmp186 ;
  unsigned int __cil_tmp187 ;
  unsigned int __cil_tmp188 ;
  unsigned int __cil_tmp189 ;
  unsigned int __cil_tmp190 ;
  KSPIN_LOCK *__cil_tmp191 ;
  KSPIN_LOCK *__cil_tmp192 ;
  unsigned int __cil_tmp193 ;
  unsigned int __cil_tmp194 ;
  unsigned int __cil_tmp195 ;
  unsigned int __cil_tmp196 ;
  unsigned int __cil_tmp197 ;
  unsigned int __cil_tmp198 ;
  PDEVICE_OBJECT *__cil_tmp199 ;
  unsigned int __cil_tmp200 ;
  unsigned int __cil_tmp201 ;
  unsigned int __cil_tmp202 ;
  unsigned int __cil_tmp203 ;
  KUSER_SHARED_DATA *__cil_tmp204 ;
  unsigned int __cil_tmp205 ;
  unsigned int __cil_tmp206 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp207 ;
  int __cil_tmp208 ;
  unsigned int __cil_tmp209 ;
  unsigned int __cil_tmp210 ;
  unsigned int __cil_tmp211 ;
  unsigned int __cil_tmp212 ;
  ULONG *mem_213 ;
  ULONG *mem_214 ;
  PVOID *mem_215 ;
  USHORT *mem_216 ;
  PWSTR *mem_217 ;
  PWSTR *mem_218 ;
  USHORT *mem_219 ;
  USHORT *mem_220 ;
  USHORT *mem_221 ;
  ULONG *mem_222 ;
  ULONG *mem_223 ;
  ULONG *mem_224 ;
  ULONG *mem_225 ;
  ULONG *mem_226 ;
  ULONG *mem_227 ;
  ULONG *mem_228 ;
  ULONG *mem_229 ;
  ULONG *mem_230 ;
  ULONG *mem_231 ;
  ULONG *mem_232 ;
  PDRIVER_OBJECT *mem_233 ;
  PDEVICE_OBJECT *mem_234 ;
  PDEVICE_OBJECT *mem_235 ;
  LONG *mem_236 ;
  ULONG *mem_237 ;
  LONG *mem_238 ;
  ULONG *mem_239 ;
  LONG *mem_240 ;
  ULONG *mem_241 ;
  struct _LIST_ENTRY **mem_242 ;
  struct _LIST_ENTRY **mem_243 ;
  struct _LIST_ENTRY **mem_244 ;
  LONG *mem_245 ;
  BOOLEAN *mem_246 ;
  BOOLEAN *mem_247 ;
  BOOLEAN *mem_248 ;
  struct _LIST_ENTRY **mem_249 ;
  struct _LIST_ENTRY **mem_250 ;
  struct _LIST_ENTRY **mem_251 ;
  BOOLEAN *mem_252 ;
  BOOLEAN *mem_253 ;
  PDEVICE_OBJECT *mem_254 ;
  BOOLEAN *mem_255 ;
  MEDIA_TYPE *mem_256 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_257 ;
  BOOLEAN *mem_258 ;
  BOOLEAN *mem_259 ;

  {
#line 363
  ntStatus = 0L;
  {
#line 365
  while (1) {
    while_2_continue: /* CIL Label */ ;
    goto while_2_break;
  }
  while_2_break: /* CIL Label */ ;
  }
  {
#line 370
  __cil_tmp15 = (unsigned int )(& fdcInfo) + 128;
#line 370
  mem_213 = (ULONG *)__cil_tmp15;
#line 370
  *mem_213 = 0UL;
#line 371
  __cil_tmp16 = (unsigned int )(& fdcInfo) + 132;
#line 371
  mem_214 = (ULONG *)__cil_tmp16;
#line 371
  *mem_214 = 0UL;
#line 373
  __cil_tmp17 = 770 << 2;
#line 373
  __cil_tmp18 = 7 << 16;
#line 373
  __cil_tmp19 = __cil_tmp18 | __cil_tmp17;
#line 373
  __cil_tmp20 = __cil_tmp19 | 3;
#line 373
  __cil_tmp21 = (unsigned long )__cil_tmp20;
#line 373
  __cil_tmp22 = (void *)(& fdcInfo);
#line 373
  ntStatus = FlFdcDeviceIo(PhysicalDeviceObject, __cil_tmp21, __cil_tmp22);
  }
#line 377
  if (ntStatus >= 0L) {
#line 379
    i = (unsigned short)0;
    {
#line 385
    while (1) {
      while_3_continue: /* CIL Label */ ;
      {
#line 387
      tmp = i;
#line 387
      __cil_tmp23 = (int )i;
#line 387
      __cil_tmp24 = __cil_tmp23 + 1;
#line 387
      i = (unsigned short )__cil_tmp24;
#line 387
      __cil_tmp25 = 0 * 2U;
#line 387
      __cil_tmp26 = (unsigned int )(deviceNameBuffer) + __cil_tmp25;
#line 387
      __cil_tmp27 = (WCHAR *)__cil_tmp26;
#line 387
      __cil_tmp28 = (wchar_t const   *)"\\\000D\000e\000v\000i\000c\000e\000\\\000F\000l\000o\000p\000p\000y\000%\000d\000";
#line 387
      swprintf(__cil_tmp27, __cil_tmp28, tmp);
#line 388
      __cil_tmp29 = 0 * 2U;
#line 388
      __cil_tmp30 = (unsigned int )(deviceNameBuffer) + __cil_tmp29;
#line 388
      __cil_tmp31 = (WCHAR *)__cil_tmp30;
#line 388
      __cil_tmp32 = (WCHAR const   *)__cil_tmp31;
#line 388
      RtlInitUnicodeString(& deviceName, __cil_tmp32);
#line 389
      __cil_tmp33 = (unsigned long )460U;
#line 389
      ntStatus = IoCreateDevice(DriverObject, __cil_tmp33, & deviceName, 7UL, 261UL,
                                (unsigned char)0, & deviceObject);
      }
      {
#line 385
      __cil_tmp34 = ntStatus == -1073741771L;
#line 385
      if (! __cil_tmp34) {
        goto while_3_break;
      } else {

      }
      }
    }
    while_3_break: /* CIL Label */ ;
    }
#line 401
    if (ntStatus >= 0L) {
#line 403
      __cil_tmp35 = & deviceObject;
#line 403
      __cil_tmp36 = *__cil_tmp35;
#line 403
      __cil_tmp37 = (unsigned int )__cil_tmp36;
#line 403
      __cil_tmp38 = __cil_tmp37 + 40;
#line 403
      mem_215 = (PVOID *)__cil_tmp38;
#line 403
      __cil_tmp39 = *mem_215;
#line 403
      disketteExtension = (DISKETTE_EXTENSION *)__cil_tmp39;
      {
#line 409
      while (1) {
        while_4_continue: /* CIL Label */ ;
        goto while_4_break;
      }
      while_4_break: /* CIL Label */ ;
      }
      {
#line 411
      __cil_tmp40 = (enum _POOL_TYPE )1;
#line 411
      __cil_tmp41 = & deviceName;
#line 411
      mem_216 = (USHORT *)__cil_tmp41;
#line 411
      __cil_tmp42 = *mem_216;
#line 411
      __cil_tmp43 = (unsigned long )__cil_tmp42;
#line 411
      tmp___0 = ExAllocatePoolWithTag(__cil_tmp40, __cil_tmp43, 1886350406UL);
#line 411
      __cil_tmp44 = 368 + 4;
#line 411
      __cil_tmp45 = (unsigned int )disketteExtension;
#line 411
      __cil_tmp46 = __cil_tmp45 + __cil_tmp44;
#line 411
      mem_217 = (PWSTR *)__cil_tmp46;
#line 411
      *mem_217 = (WCHAR *)tmp___0;
      }
      {
#line 412
      __cil_tmp47 = (void *)0;
#line 412
      __cil_tmp48 = (unsigned int )__cil_tmp47;
#line 412
      __cil_tmp49 = 368 + 4;
#line 412
      __cil_tmp50 = (unsigned int )disketteExtension;
#line 412
      __cil_tmp51 = __cil_tmp50 + __cil_tmp49;
#line 412
      mem_218 = (PWSTR *)__cil_tmp51;
#line 412
      __cil_tmp52 = *mem_218;
#line 412
      __cil_tmp53 = (unsigned int )__cil_tmp52;
#line 412
      if (__cil_tmp53 == __cil_tmp48) {
        {
#line 414
        __cil_tmp54 = & deviceObject;
#line 414
        __cil_tmp55 = *__cil_tmp54;
#line 414
        IoDeleteDevice(__cil_tmp55);
        }
#line 415
        return (-1073741670L);
      } else {

      }
      }
      {
#line 417
      __cil_tmp56 = (unsigned int )disketteExtension;
#line 417
      __cil_tmp57 = __cil_tmp56 + 368;
#line 417
      mem_219 = (USHORT *)__cil_tmp57;
#line 417
      *mem_219 = (unsigned short)0;
#line 418
      __cil_tmp58 = 368 + 2;
#line 418
      __cil_tmp59 = (unsigned int )disketteExtension;
#line 418
      __cil_tmp60 = __cil_tmp59 + __cil_tmp58;
#line 418
      __cil_tmp61 = & deviceName;
#line 418
      mem_220 = (USHORT *)__cil_tmp60;
#line 418
      mem_221 = (USHORT *)__cil_tmp61;
#line 418
      *mem_220 = *mem_221;
#line 419
      __cil_tmp62 = (unsigned int )disketteExtension;
#line 419
      __cil_tmp63 = __cil_tmp62 + 368;
#line 419
      __cil_tmp64 = (UNICODE_STRING *)__cil_tmp63;
#line 419
      RtlCopyUnicodeString(__cil_tmp64, & deviceName);
#line 421
      tmp___1 = IoGetConfigurationInformation();
#line 421
      __cil_tmp65 = (unsigned int )tmp___1;
#line 421
      __cil_tmp66 = __cil_tmp65 + 4;
#line 421
      __cil_tmp67 = (unsigned int )tmp___1;
#line 421
      __cil_tmp68 = __cil_tmp67 + 4;
#line 421
      mem_222 = (ULONG *)__cil_tmp68;
#line 421
      __cil_tmp69 = *mem_222;
#line 421
      mem_223 = (ULONG *)__cil_tmp66;
#line 421
      *mem_223 = __cil_tmp69 + 1UL;
#line 429
      __cil_tmp70 = 0 * 1U;
#line 429
      __cil_tmp71 = (unsigned int )(arcNameBuffer) + __cil_tmp70;
#line 429
      __cil_tmp72 = (UCHAR *)__cil_tmp71;
#line 429
      __cil_tmp73 = (char *)__cil_tmp72;
#line 429
      __cil_tmp74 = (unsigned int )(& fdcInfo) + 40;
#line 429
      mem_224 = (ULONG *)__cil_tmp74;
#line 429
      __cil_tmp75 = *mem_224;
#line 429
      __cil_tmp76 = (unsigned int )(& fdcInfo) + 44;
#line 429
      mem_225 = (ULONG *)__cil_tmp76;
#line 429
      __cil_tmp77 = *mem_225;
#line 429
      __cil_tmp78 = (unsigned int )(& fdcInfo) + 48;
#line 429
      mem_226 = (ULONG *)__cil_tmp78;
#line 429
      __cil_tmp79 = *mem_226;
#line 429
      sprintf(__cil_tmp73, "%s(%d)disk(%d)fdisk(%d)", "\\ArcName\\multi", __cil_tmp75,
              __cil_tmp77, __cil_tmp79);
#line 436
      __cil_tmp80 = 0 * 1U;
#line 436
      __cil_tmp81 = (unsigned int )(arcNameBuffer) + __cil_tmp80;
#line 436
      __cil_tmp82 = (UCHAR *)__cil_tmp81;
#line 436
      __cil_tmp83 = (char const   *)__cil_tmp82;
#line 436
      RtlInitString(& arcNameString, __cil_tmp83);
#line 438
      __cil_tmp84 = (unsigned int )disketteExtension;
#line 438
      __cil_tmp85 = __cil_tmp84 + 384;
#line 438
      __cil_tmp86 = (UNICODE_STRING *)__cil_tmp85;
#line 438
      ntStatus = RtlAnsiStringToUnicodeString(__cil_tmp86, & arcNameString, (unsigned char)1);
      }
#line 442
      if (ntStatus >= 0L) {
        {
#line 444
        __cil_tmp87 = (unsigned int )disketteExtension;
#line 444
        __cil_tmp88 = __cil_tmp87 + 384;
#line 444
        __cil_tmp89 = (UNICODE_STRING *)__cil_tmp88;
#line 444
        IoCreateSymbolicLink(__cil_tmp89, & deviceName);
        }
      } else {

      }
#line 447
      __cil_tmp90 = & deviceObject;
#line 447
      __cil_tmp91 = *__cil_tmp90;
#line 447
      __cil_tmp92 = (unsigned int )__cil_tmp91;
#line 447
      __cil_tmp93 = __cil_tmp92 + 28;
#line 447
      __cil_tmp94 = & deviceObject;
#line 447
      __cil_tmp95 = *__cil_tmp94;
#line 447
      __cil_tmp96 = (unsigned int )__cil_tmp95;
#line 447
      __cil_tmp97 = __cil_tmp96 + 28;
#line 447
      mem_227 = (ULONG *)__cil_tmp97;
#line 447
      __cil_tmp98 = *mem_227;
#line 447
      mem_228 = (ULONG *)__cil_tmp93;
#line 447
      *mem_228 = __cil_tmp98 | 8208UL;
      {
#line 449
      __cil_tmp99 = & deviceObject;
#line 449
      __cil_tmp100 = *__cil_tmp99;
#line 449
      __cil_tmp101 = (unsigned int )__cil_tmp100;
#line 449
      __cil_tmp102 = __cil_tmp101 + 92;
#line 449
      mem_229 = (ULONG *)__cil_tmp102;
#line 449
      __cil_tmp103 = *mem_229;
#line 449
      if (__cil_tmp103 < 1UL) {
#line 451
        __cil_tmp104 = & deviceObject;
#line 451
        __cil_tmp105 = *__cil_tmp104;
#line 451
        __cil_tmp106 = (unsigned int )__cil_tmp105;
#line 451
        __cil_tmp107 = __cil_tmp106 + 92;
#line 451
        mem_230 = (ULONG *)__cil_tmp107;
#line 451
        *mem_230 = 1UL;
      } else {

      }
      }
#line 454
      __cil_tmp108 = & deviceObject;
#line 454
      __cil_tmp109 = *__cil_tmp108;
#line 454
      __cil_tmp110 = (unsigned int )__cil_tmp109;
#line 454
      __cil_tmp111 = __cil_tmp110 + 28;
#line 454
      __cil_tmp112 = & deviceObject;
#line 454
      __cil_tmp113 = *__cil_tmp112;
#line 454
      __cil_tmp114 = (unsigned int )__cil_tmp113;
#line 454
      __cil_tmp115 = __cil_tmp114 + 28;
#line 454
      mem_231 = (ULONG *)__cil_tmp115;
#line 454
      __cil_tmp116 = *mem_231;
#line 454
      mem_232 = (ULONG *)__cil_tmp111;
#line 454
      *mem_232 = __cil_tmp116 & 4294967167UL;
#line 456
      __cil_tmp117 = (unsigned int )disketteExtension;
#line 456
      __cil_tmp118 = __cil_tmp117 + 136;
#line 456
      mem_233 = (PDRIVER_OBJECT *)__cil_tmp118;
#line 456
      *mem_233 = DriverObject;
#line 459
      __cil_tmp119 = (unsigned int )disketteExtension;
#line 459
      __cil_tmp120 = __cil_tmp119 + 4;
#line 459
      mem_234 = (PDEVICE_OBJECT *)__cil_tmp120;
#line 459
      *mem_234 = PhysicalDeviceObject;
      {
#line 464
      while (1) {
        while_5_continue: /* CIL Label */ ;
        goto while_5_break;
      }
      while_5_break: /* CIL Label */ ;
      }
      {
#line 466
      __cil_tmp121 = (unsigned int )disketteExtension;
#line 466
      __cil_tmp122 = __cil_tmp121 + 8;
#line 466
      __cil_tmp123 = & deviceObject;
#line 466
      __cil_tmp124 = *__cil_tmp123;
#line 466
      mem_235 = (PDEVICE_OBJECT *)__cil_tmp122;
#line 466
      *mem_235 = IoAttachDeviceToDeviceStack(__cil_tmp124, PhysicalDeviceObject);
      }
      {
#line 472
      while (1) {
        while_6_continue: /* CIL Label */ ;
        goto while_6_break;
      }
      while_6_break: /* CIL Label */ ;
      }
      {
#line 474
      __cil_tmp125 = (unsigned int )disketteExtension;
#line 474
      __cil_tmp126 = __cil_tmp125 + 32;
#line 474
      __cil_tmp127 = (KSEMAPHORE *)__cil_tmp126;
#line 474
      KeInitializeSemaphore(__cil_tmp127, 0L, 2147483647L);
#line 478
      __cil_tmp128 = (unsigned int )disketteExtension;
#line 478
      __cil_tmp129 = __cil_tmp128 + 396;
#line 478
      mem_236 = (LONG *)__cil_tmp129;
#line 478
      *mem_236 = 1L;
#line 478
      __cil_tmp130 = 396 + 8;
#line 478
      __cil_tmp131 = (unsigned int )disketteExtension;
#line 478
      __cil_tmp132 = __cil_tmp131 + __cil_tmp130;
#line 478
      mem_237 = (ULONG *)__cil_tmp132;
#line 478
      *mem_237 = 0UL;
#line 478
      __cil_tmp133 = 396 + 12;
#line 478
      __cil_tmp134 = (unsigned int )disketteExtension;
#line 478
      __cil_tmp135 = __cil_tmp134 + __cil_tmp133;
#line 478
      __cil_tmp136 = (KEVENT *)__cil_tmp135;
#line 478
      __cil_tmp137 = (enum _EVENT_TYPE )1;
#line 478
      KeInitializeEvent(__cil_tmp136, __cil_tmp137, (unsigned char)0);
#line 480
      __cil_tmp138 = (unsigned int )disketteExtension;
#line 480
      __cil_tmp139 = __cil_tmp138 + 52;
#line 480
      __cil_tmp140 = (KSPIN_LOCK *)__cil_tmp139;
#line 480
      KeInitializeSpinLock(__cil_tmp140);
#line 482
      __cil_tmp141 = (unsigned int )disketteExtension;
#line 482
      __cil_tmp142 = __cil_tmp141 + 56;
#line 482
      mem_238 = (LONG *)__cil_tmp142;
#line 482
      *mem_238 = 1L;
#line 482
      __cil_tmp143 = 56 + 8;
#line 482
      __cil_tmp144 = (unsigned int )disketteExtension;
#line 482
      __cil_tmp145 = __cil_tmp144 + __cil_tmp143;
#line 482
      mem_239 = (ULONG *)__cil_tmp145;
#line 482
      *mem_239 = 0UL;
#line 482
      __cil_tmp146 = 56 + 12;
#line 482
      __cil_tmp147 = (unsigned int )disketteExtension;
#line 482
      __cil_tmp148 = __cil_tmp147 + __cil_tmp146;
#line 482
      __cil_tmp149 = (KEVENT *)__cil_tmp148;
#line 482
      __cil_tmp150 = (enum _EVENT_TYPE )1;
#line 482
      KeInitializeEvent(__cil_tmp149, __cil_tmp150, (unsigned char)0);
#line 484
      __cil_tmp151 = (unsigned int )disketteExtension;
#line 484
      __cil_tmp152 = __cil_tmp151 + 428;
#line 484
      mem_240 = (LONG *)__cil_tmp152;
#line 484
      *mem_240 = 1L;
#line 484
      __cil_tmp153 = 428 + 8;
#line 484
      __cil_tmp154 = (unsigned int )disketteExtension;
#line 484
      __cil_tmp155 = __cil_tmp154 + __cil_tmp153;
#line 484
      mem_241 = (ULONG *)__cil_tmp155;
#line 484
      *mem_241 = 0UL;
#line 484
      __cil_tmp156 = 428 + 12;
#line 484
      __cil_tmp157 = (unsigned int )disketteExtension;
#line 484
      __cil_tmp158 = __cil_tmp157 + __cil_tmp156;
#line 484
      __cil_tmp159 = (KEVENT *)__cil_tmp158;
#line 484
      __cil_tmp160 = (enum _EVENT_TYPE )1;
#line 484
      KeInitializeEvent(__cil_tmp159, __cil_tmp160, (unsigned char)0);
#line 486
      __cil_tmp161 = 96 + 4;
#line 486
      __cil_tmp162 = (unsigned int )disketteExtension;
#line 486
      __cil_tmp163 = __cil_tmp162 + __cil_tmp161;
#line 486
      __cil_tmp164 = (unsigned int )disketteExtension;
#line 486
      __cil_tmp165 = __cil_tmp164 + 96;
#line 486
      mem_242 = (struct _LIST_ENTRY **)__cil_tmp163;
#line 486
      *mem_242 = (LIST_ENTRY *)__cil_tmp165;
#line 486
      __cil_tmp166 = (unsigned int )disketteExtension;
#line 486
      __cil_tmp167 = __cil_tmp166 + 96;
#line 486
      __cil_tmp168 = 96 + 4;
#line 486
      __cil_tmp169 = (unsigned int )disketteExtension;
#line 486
      __cil_tmp170 = __cil_tmp169 + __cil_tmp168;
#line 486
      mem_243 = (struct _LIST_ENTRY **)__cil_tmp167;
#line 486
      mem_244 = (struct _LIST_ENTRY **)__cil_tmp170;
#line 486
      *mem_243 = *mem_244;
#line 488
      __cil_tmp171 = (unsigned int )disketteExtension;
#line 488
      __cil_tmp172 = __cil_tmp171 + 88;
#line 488
      mem_245 = (LONG *)__cil_tmp172;
#line 488
      *mem_245 = -1L;
#line 490
      __cil_tmp173 = (unsigned int )disketteExtension;
#line 490
      __cil_tmp174 = __cil_tmp173 + 12;
#line 490
      mem_246 = (BOOLEAN *)__cil_tmp174;
#line 490
      *mem_246 = (unsigned char)0;
#line 491
      __cil_tmp175 = (unsigned int )disketteExtension;
#line 491
      __cil_tmp176 = __cil_tmp175 + 13;
#line 491
      mem_247 = (BOOLEAN *)__cil_tmp176;
#line 491
      *mem_247 = (unsigned char)0;
#line 492
      __cil_tmp177 = (unsigned int )disketteExtension;
#line 492
      __cil_tmp178 = __cil_tmp177 + 14;
#line 492
      mem_248 = (BOOLEAN *)__cil_tmp178;
#line 492
      *mem_248 = (unsigned char)0;
#line 493
      __cil_tmp179 = 16 + 4;
#line 493
      __cil_tmp180 = (unsigned int )disketteExtension;
#line 493
      __cil_tmp181 = __cil_tmp180 + __cil_tmp179;
#line 493
      __cil_tmp182 = (unsigned int )disketteExtension;
#line 493
      __cil_tmp183 = __cil_tmp182 + 16;
#line 493
      mem_249 = (struct _LIST_ENTRY **)__cil_tmp181;
#line 493
      *mem_249 = (LIST_ENTRY *)__cil_tmp183;
#line 493
      __cil_tmp184 = (unsigned int )disketteExtension;
#line 493
      __cil_tmp185 = __cil_tmp184 + 16;
#line 493
      __cil_tmp186 = 16 + 4;
#line 493
      __cil_tmp187 = (unsigned int )disketteExtension;
#line 493
      __cil_tmp188 = __cil_tmp187 + __cil_tmp186;
#line 493
      mem_250 = (struct _LIST_ENTRY **)__cil_tmp185;
#line 493
      mem_251 = (struct _LIST_ENTRY **)__cil_tmp188;
#line 493
      *mem_250 = *mem_251;
#line 494
      __cil_tmp189 = (unsigned int )disketteExtension;
#line 494
      __cil_tmp190 = __cil_tmp189 + 24;
#line 494
      __cil_tmp191 = (KSPIN_LOCK *)__cil_tmp190;
#line 494
      KeInitializeSpinLock(__cil_tmp191);
#line 495
      __cil_tmp192 = (KSPIN_LOCK *)disketteExtension;
#line 495
      KeInitializeSpinLock(__cil_tmp192);
#line 497
      __cil_tmp193 = (unsigned int )disketteExtension;
#line 497
      __cil_tmp194 = __cil_tmp193 + 172;
#line 497
      mem_252 = (BOOLEAN *)__cil_tmp194;
#line 497
      *mem_252 = (unsigned char)0;
#line 498
      __cil_tmp195 = (unsigned int )disketteExtension;
#line 498
      __cil_tmp196 = __cil_tmp195 + 392;
#line 498
      mem_253 = (BOOLEAN *)__cil_tmp196;
#line 498
      *mem_253 = (unsigned char)0;
#line 499
      __cil_tmp197 = (unsigned int )disketteExtension;
#line 499
      __cil_tmp198 = __cil_tmp197 + 28;
#line 499
      __cil_tmp199 = & deviceObject;
#line 499
      mem_254 = (PDEVICE_OBJECT *)__cil_tmp198;
#line 499
      *mem_254 = *__cil_tmp199;
#line 501
      __cil_tmp200 = (unsigned int )disketteExtension;
#line 501
      __cil_tmp201 = __cil_tmp200 + 250;
#line 501
      mem_255 = (BOOLEAN *)__cil_tmp201;
#line 501
      *mem_255 = (unsigned char)0;
#line 503
      __cil_tmp202 = (unsigned int )disketteExtension;
#line 503
      __cil_tmp203 = __cil_tmp202 + 184;
#line 503
      mem_256 = (MEDIA_TYPE *)__cil_tmp203;
#line 503
      *mem_256 = (enum _MEDIA_TYPE )-1;
      }
      {
#line 505
      __cil_tmp204 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 505
      __cil_tmp205 = (unsigned int )__cil_tmp204;
#line 505
      __cil_tmp206 = __cil_tmp205 + 732;
#line 505
      mem_257 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp206;
#line 505
      __cil_tmp207 = *mem_257;
#line 505
      __cil_tmp208 = (int )__cil_tmp207;
#line 505
      if (__cil_tmp208 == 1) {
#line 505
        __cil_tmp209 = (unsigned int )disketteExtension;
#line 505
        __cil_tmp210 = __cil_tmp209 + 365;
#line 505
        mem_258 = (BOOLEAN *)__cil_tmp210;
#line 505
        *mem_258 = (unsigned char)0;
      } else {
#line 505
        __cil_tmp211 = (unsigned int )disketteExtension;
#line 505
        __cil_tmp212 = __cil_tmp211 + 365;
#line 505
        mem_259 = (BOOLEAN *)__cil_tmp212;
#line 505
        *mem_259 = (unsigned char)1;
      }
      }
    } else {

    }
  } else {

  }
#line 509
  return (ntStatus);
}
}
#line 512 "floppy.c"
NTSTATUS FlConfigCallBack(PVOID Context , PUNICODE_STRING PathName , INTERFACE_TYPE BusType ,
                          ULONG BusNumber , PKEY_VALUE_FULL_INFORMATION *BusInformation ,
                          CONFIGURATION_TYPE ControllerType , ULONG ControllerNumber ,
                          PKEY_VALUE_FULL_INFORMATION *ControllerInformation , CONFIGURATION_TYPE PeripheralType ,
                          ULONG PeripheralNumber , PKEY_VALUE_FULL_INFORMATION *PeripheralInformation ) 
{ PDISKETTE_EXTENSION disketteExtension ;
  ULONG i ;
  PCM_FULL_RESOURCE_DESCRIPTOR peripheralData ;
  PCM_PARTIAL_RESOURCE_DESCRIPTOR partial ;
  PCM_FLOPPY_DEVICE_DATA fDeviceData ;
  UCHAR driveType ;
  PDRIVE_MEDIA_CONSTANTS biosDriveMediaConstants ;
  PKEY_VALUE_FULL_INFORMATION *__cil_tmp19 ;
  PKEY_VALUE_FULL_INFORMATION __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  ULONG __cil_tmp23 ;
  PKEY_VALUE_FULL_INFORMATION *__cil_tmp24 ;
  PKEY_VALUE_FULL_INFORMATION __cil_tmp25 ;
  UCHAR *__cil_tmp26 ;
  UCHAR *__cil_tmp27 ;
  PKEY_VALUE_FULL_INFORMATION *__cil_tmp28 ;
  PKEY_VALUE_FULL_INFORMATION __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  ULONG __cil_tmp32 ;
  PKEY_VALUE_FULL_INFORMATION *__cil_tmp33 ;
  PKEY_VALUE_FULL_INFORMATION __cil_tmp34 ;
  UCHAR *__cil_tmp35 ;
  UCHAR *__cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  ULONG __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  UCHAR __cil_tmp46 ;
  int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  PCM_PARTIAL_RESOURCE_DESCRIPTOR __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  ULONG __cil_tmp53 ;
  KUSER_SHARED_DATA *__cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp57 ;
  int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  int __cil_tmp61 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp62 ;
  DRIVE_MEDIA_TYPE __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp65 ;
  USHORT __cil_tmp66 ;
  int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  unsigned int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  unsigned int __cil_tmp85 ;
  UCHAR __cil_tmp86 ;
  int __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  unsigned int __cil_tmp89 ;
  ULONG __cil_tmp90 ;
  unsigned int __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  unsigned int __cil_tmp94 ;
  unsigned int __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  unsigned int __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  unsigned int __cil_tmp100 ;
  unsigned int __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  unsigned int __cil_tmp109 ;
  unsigned int __cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  unsigned int __cil_tmp113 ;
  unsigned int __cil_tmp114 ;
  UCHAR __cil_tmp115 ;
  int __cil_tmp116 ;
  int __cil_tmp117 ;
  int __cil_tmp118 ;
  unsigned int __cil_tmp119 ;
  unsigned int __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  UCHAR __cil_tmp123 ;
  int __cil_tmp124 ;
  int __cil_tmp125 ;
  int __cil_tmp126 ;
  unsigned int __cil_tmp127 ;
  unsigned int __cil_tmp128 ;
  UCHAR __cil_tmp129 ;
  int __cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  unsigned int __cil_tmp135 ;
  unsigned int __cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  ULONG *mem_139 ;
  ULONG *mem_140 ;
  ULONG *mem_141 ;
  UCHAR *mem_142 ;
  ULONG *mem_143 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_144 ;
  UCHAR *mem_145 ;
  DRIVE_MEDIA_TYPE *mem_146 ;
  USHORT *mem_147 ;
  UCHAR *mem_148 ;
  UCHAR *mem_149 ;
  UCHAR *mem_150 ;
  UCHAR *mem_151 ;
  UCHAR *mem_152 ;
  UCHAR *mem_153 ;
  UCHAR *mem_154 ;
  UCHAR *mem_155 ;
  UCHAR *mem_156 ;
  ULONG *mem_157 ;
  UCHAR *mem_158 ;
  UCHAR *mem_159 ;
  UCHAR *mem_160 ;
  UCHAR *mem_161 ;
  UCHAR *mem_162 ;
  UCHAR *mem_163 ;
  UCHAR *mem_164 ;
  UCHAR *mem_165 ;
  UCHAR *mem_166 ;
  UCHAR *mem_167 ;
  UCHAR *mem_168 ;
  USHORT *mem_169 ;
  UCHAR *mem_170 ;
  USHORT *mem_171 ;
  UCHAR *mem_172 ;
  UCHAR *mem_173 ;
  UCHAR *mem_174 ;
  UCHAR *mem_175 ;
  UCHAR *mem_176 ;

  {
#line 577
  disketteExtension = (DISKETTE_EXTENSION *)Context;
  {
#line 596
  __cil_tmp19 = PeripheralInformation + 1;
#line 596
  __cil_tmp20 = *__cil_tmp19;
#line 596
  __cil_tmp21 = (unsigned int )__cil_tmp20;
#line 596
  __cil_tmp22 = __cil_tmp21 + 12;
#line 596
  mem_139 = (ULONG *)__cil_tmp22;
#line 596
  __cil_tmp23 = *mem_139;
#line 596
  __cil_tmp24 = PeripheralInformation + 1;
#line 596
  __cil_tmp25 = *__cil_tmp24;
#line 596
  __cil_tmp26 = (UCHAR *)__cil_tmp25;
#line 596
  __cil_tmp27 = __cil_tmp26 + __cil_tmp23;
#line 596
  if (! __cil_tmp27) {
#line 600
    return (-1073741811L);
  } else {

  }
  }
#line 604
  __cil_tmp28 = PeripheralInformation + 1;
#line 604
  __cil_tmp29 = *__cil_tmp28;
#line 604
  __cil_tmp30 = (unsigned int )__cil_tmp29;
#line 604
  __cil_tmp31 = __cil_tmp30 + 8;
#line 604
  mem_140 = (ULONG *)__cil_tmp31;
#line 604
  __cil_tmp32 = *mem_140;
#line 604
  __cil_tmp33 = PeripheralInformation + 1;
#line 604
  __cil_tmp34 = *__cil_tmp33;
#line 604
  __cil_tmp35 = (UCHAR *)__cil_tmp34;
#line 604
  __cil_tmp36 = __cil_tmp35 + __cil_tmp32;
#line 604
  peripheralData = (struct _CM_FULL_RESOURCE_DESCRIPTOR *)__cil_tmp36;
#line 619
  i = 0UL;
  {
#line 619
  while (1) {
    while_7_continue: /* CIL Label */ ;
    {
#line 619
    __cil_tmp37 = 36 + 4;
#line 619
    __cil_tmp38 = (unsigned int )peripheralData;
#line 619
    __cil_tmp39 = __cil_tmp38 + __cil_tmp37;
#line 619
    mem_141 = (ULONG *)__cil_tmp39;
#line 619
    __cil_tmp40 = *mem_141;
#line 619
    if (i < __cil_tmp40) {

    } else {
      goto while_7_break;
    }
    }
#line 621
    __cil_tmp41 = i * 16U;
#line 621
    __cil_tmp42 = 8 + __cil_tmp41;
#line 621
    __cil_tmp43 = 36 + __cil_tmp42;
#line 621
    __cil_tmp44 = (unsigned int )peripheralData;
#line 621
    __cil_tmp45 = __cil_tmp44 + __cil_tmp43;
#line 621
    partial = (CM_PARTIAL_RESOURCE_DESCRIPTOR *)__cil_tmp45;
    {
#line 624
    mem_142 = (UCHAR *)partial;
#line 624
    __cil_tmp46 = *mem_142;
#line 624
    __cil_tmp47 = (int )__cil_tmp46;
#line 624
    if (__cil_tmp47 == 5) {
#line 633
      __cil_tmp48 = (unsigned int )disketteExtension;
#line 633
      __cil_tmp49 = __cil_tmp48 + 252;
#line 633
      biosDriveMediaConstants = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp49;
#line 637
      __cil_tmp50 = partial + 1;
#line 637
      fDeviceData = (struct _CM_FLOPPY_DEVICE_DATA *)__cil_tmp50;
      {
#line 643
      __cil_tmp51 = (unsigned int )fDeviceData;
#line 643
      __cil_tmp52 = __cil_tmp51 + 12;
#line 643
      mem_143 = (ULONG *)__cil_tmp52;
#line 643
      __cil_tmp53 = *mem_143;
#line 644
      if ((int )__cil_tmp53 == 360) {
        goto switch_8_360;
      } else {
#line 646
        if ((int )__cil_tmp53 == 1200) {
          goto switch_8_1200;
        } else {
#line 647
          if ((int )__cil_tmp53 == 1185) {
            goto switch_8_1185;
          } else {
#line 648
            if ((int )__cil_tmp53 == 1423) {
              goto switch_8_1423;
            } else {
#line 649
              if ((int )__cil_tmp53 == 1440) {
                goto switch_8_1440;
              } else {
#line 650
                if ((int )__cil_tmp53 == 2880) {
                  goto switch_8_2880;
                } else {
#line 651
                  if ((int )__cil_tmp53 == 1201) {
                    goto switch_8_1201;
                  } else {
                    {
                    goto switch_8_default;
#line 643
                    if (0) {
                      switch_8_360: /* CIL Label */ 
#line 645
                      driveType = (unsigned char)0;
                      goto switch_8_break;
                      switch_8_1200: /* CIL Label */ 
#line 646
                      driveType = (unsigned char)1;
                      goto switch_8_break;
                      switch_8_1185: /* CIL Label */ 
#line 647
                      driveType = (unsigned char)1;
                      goto switch_8_break;
                      switch_8_1423: /* CIL Label */ 
#line 648
                      driveType = (unsigned char)3;
                      goto switch_8_break;
                      switch_8_1440: /* CIL Label */ 
#line 649
                      driveType = (unsigned char)3;
                      goto switch_8_break;
                      switch_8_2880: /* CIL Label */ 
#line 650
                      driveType = (unsigned char)4;
                      goto switch_8_break;
                      switch_8_1201: /* CIL Label */ ;
                      {
#line 651
                      __cil_tmp54 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 651
                      __cil_tmp55 = (unsigned int )__cil_tmp54;
#line 651
                      __cil_tmp56 = __cil_tmp55 + 732;
#line 651
                      mem_144 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp56;
#line 651
                      __cil_tmp57 = *mem_144;
#line 651
                      __cil_tmp58 = (int )__cil_tmp57;
#line 651
                      if (__cil_tmp58 == 1) {
#line 652
                        driveType = (unsigned char)5;
                        goto switch_8_break;
                      } else {

                      }
                      }
                      switch_8_default: /* CIL Label */ ;
                      {
#line 662
                      while (1) {
                        while_9_continue: /* CIL Label */ ;
                        goto while_9_break;
                      }
                      while_9_break: /* CIL Label */ ;
                      }
#line 664
                      driveType = (unsigned char)1;
                      {
#line 671
                      while (1) {
                        while_10_continue: /* CIL Label */ ;
                        goto while_10_break;
                      }
                      while_10_break: /* CIL Label */ ;
                      }
                      goto switch_8_break;
                    } else {
                      switch_8_break: /* CIL Label */ ;
                    }
                    }
                  }
                }
              }
            }
          }
        }
      }
      }
#line 677
      __cil_tmp59 = (unsigned int )disketteExtension;
#line 677
      __cil_tmp60 = __cil_tmp59 + 174;
#line 677
      mem_145 = (UCHAR *)__cil_tmp60;
#line 677
      *mem_145 = driveType;
#line 684
      __cil_tmp61 = (int )driveType;
#line 684
      __cil_tmp62 = DriveMediaLimits + __cil_tmp61;
#line 684
      mem_146 = (DRIVE_MEDIA_TYPE *)__cil_tmp62;
#line 684
      __cil_tmp63 = *mem_146;
#line 684
      __cil_tmp64 = (unsigned int )__cil_tmp63;
#line 684
      __cil_tmp65 = DriveMediaConstants + __cil_tmp64;
#line 684
      *biosDriveMediaConstants = *__cil_tmp65;
      {
#line 693
      mem_147 = (USHORT *)fDeviceData;
#line 693
      __cil_tmp66 = *mem_147;
#line 693
      __cil_tmp67 = (int )__cil_tmp66;
#line 693
      if (__cil_tmp67 >= 2) {
#line 698
        __cil_tmp68 = (unsigned int )biosDriveMediaConstants;
#line 698
        __cil_tmp69 = __cil_tmp68 + 32;
#line 698
        __cil_tmp70 = (unsigned int )fDeviceData;
#line 698
        __cil_tmp71 = __cil_tmp70 + 20;
#line 698
        mem_148 = (UCHAR *)__cil_tmp69;
#line 698
        mem_149 = (UCHAR *)__cil_tmp71;
#line 698
        *mem_148 = *mem_149;
#line 701
        __cil_tmp72 = (unsigned int )biosDriveMediaConstants;
#line 701
        __cil_tmp73 = __cil_tmp72 + 33;
#line 701
        __cil_tmp74 = (unsigned int )fDeviceData;
#line 701
        __cil_tmp75 = __cil_tmp74 + 21;
#line 701
        mem_150 = (UCHAR *)__cil_tmp73;
#line 701
        mem_151 = (UCHAR *)__cil_tmp75;
#line 701
        *mem_150 = *mem_151;
#line 704
        __cil_tmp76 = (unsigned int )biosDriveMediaConstants;
#line 704
        __cil_tmp77 = __cil_tmp76 + 34;
#line 704
        __cil_tmp78 = (unsigned int )fDeviceData;
#line 704
        __cil_tmp79 = __cil_tmp78 + 22;
#line 704
        mem_152 = (UCHAR *)__cil_tmp77;
#line 704
        mem_153 = (UCHAR *)__cil_tmp79;
#line 704
        *mem_152 = *mem_153;
#line 707
        __cil_tmp80 = (unsigned int )biosDriveMediaConstants;
#line 707
        __cil_tmp81 = __cil_tmp80 + 35;
#line 707
        __cil_tmp82 = (unsigned int )fDeviceData;
#line 707
        __cil_tmp83 = __cil_tmp82 + 23;
#line 707
        mem_154 = (UCHAR *)__cil_tmp81;
#line 707
        mem_155 = (UCHAR *)__cil_tmp83;
#line 707
        *mem_154 = *mem_155;
        {
#line 712
        __cil_tmp84 = (unsigned int )fDeviceData;
#line 712
        __cil_tmp85 = __cil_tmp84 + 24;
#line 712
        mem_156 = (UCHAR *)__cil_tmp85;
#line 712
        __cil_tmp86 = *mem_156;
#line 712
        __cil_tmp87 = (int )__cil_tmp86;
#line 712
        if (__cil_tmp87 == 0) {
#line 716
          return (0L);
        } else {

        }
        }
        {
#line 719
        __cil_tmp88 = (unsigned int )fDeviceData;
#line 719
        __cil_tmp89 = __cil_tmp88 + 12;
#line 719
        mem_157 = (ULONG *)__cil_tmp89;
#line 719
        __cil_tmp90 = *mem_157;
#line 719
        if (__cil_tmp90 == 0UL) {
#line 727
          return (0L);
        } else {

        }
        }
#line 730
        __cil_tmp91 = (unsigned int )biosDriveMediaConstants;
#line 730
        __cil_tmp92 = __cil_tmp91 + 38;
#line 730
        __cil_tmp93 = (unsigned int )fDeviceData;
#line 730
        __cil_tmp94 = __cil_tmp93 + 24;
#line 730
        mem_158 = (UCHAR *)__cil_tmp92;
#line 730
        mem_159 = (UCHAR *)__cil_tmp94;
#line 730
        *mem_158 = *mem_159;
#line 733
        __cil_tmp95 = (unsigned int )biosDriveMediaConstants;
#line 733
        __cil_tmp96 = __cil_tmp95 + 39;
#line 733
        __cil_tmp97 = (unsigned int )fDeviceData;
#line 733
        __cil_tmp98 = __cil_tmp97 + 25;
#line 733
        mem_160 = (UCHAR *)__cil_tmp96;
#line 733
        mem_161 = (UCHAR *)__cil_tmp98;
#line 733
        *mem_160 = *mem_161;
#line 736
        __cil_tmp99 = (unsigned int )biosDriveMediaConstants;
#line 736
        __cil_tmp100 = __cil_tmp99 + 40;
#line 736
        __cil_tmp101 = (unsigned int )fDeviceData;
#line 736
        __cil_tmp102 = __cil_tmp101 + 27;
#line 736
        mem_162 = (UCHAR *)__cil_tmp100;
#line 736
        mem_163 = (UCHAR *)__cil_tmp102;
#line 736
        *mem_162 = *mem_163;
#line 739
        __cil_tmp103 = (unsigned int )biosDriveMediaConstants;
#line 739
        __cil_tmp104 = __cil_tmp103 + 41;
#line 739
        __cil_tmp105 = (unsigned int )fDeviceData;
#line 739
        __cil_tmp106 = __cil_tmp105 + 28;
#line 739
        mem_164 = (UCHAR *)__cil_tmp104;
#line 739
        mem_165 = (UCHAR *)__cil_tmp106;
#line 739
        *mem_164 = *mem_165;
#line 742
        __cil_tmp107 = (unsigned int )biosDriveMediaConstants;
#line 742
        __cil_tmp108 = __cil_tmp107 + 42;
#line 742
        __cil_tmp109 = (unsigned int )fDeviceData;
#line 742
        __cil_tmp110 = __cil_tmp109 + 29;
#line 742
        mem_166 = (UCHAR *)__cil_tmp108;
#line 742
        mem_167 = (UCHAR *)__cil_tmp110;
#line 742
        *mem_166 = *mem_167;
#line 745
        __cil_tmp111 = (unsigned int )biosDriveMediaConstants;
#line 745
        __cil_tmp112 = __cil_tmp111 + 44;
#line 745
        __cil_tmp113 = (unsigned int )fDeviceData;
#line 745
        __cil_tmp114 = __cil_tmp113 + 30;
#line 745
        mem_168 = (UCHAR *)__cil_tmp114;
#line 745
        __cil_tmp115 = *mem_168;
#line 745
        __cil_tmp116 = (int )__cil_tmp115;
#line 745
        __cil_tmp117 = __cil_tmp116 * 1000;
#line 745
        __cil_tmp118 = __cil_tmp117 / 8;
#line 745
        mem_169 = (USHORT *)__cil_tmp112;
#line 745
        *mem_169 = (unsigned short )__cil_tmp118;
#line 748
        __cil_tmp119 = (unsigned int )biosDriveMediaConstants;
#line 748
        __cil_tmp120 = __cil_tmp119 + 46;
#line 748
        __cil_tmp121 = (unsigned int )fDeviceData;
#line 748
        __cil_tmp122 = __cil_tmp121 + 30;
#line 748
        mem_170 = (UCHAR *)__cil_tmp122;
#line 748
        __cil_tmp123 = *mem_170;
#line 748
        __cil_tmp124 = (int )__cil_tmp123;
#line 748
        __cil_tmp125 = __cil_tmp124 * 1000;
#line 748
        __cil_tmp126 = __cil_tmp125 / 8;
#line 748
        mem_171 = (USHORT *)__cil_tmp120;
#line 748
        *mem_171 = (unsigned short )__cil_tmp126;
        {
#line 751
        __cil_tmp127 = (unsigned int )fDeviceData;
#line 751
        __cil_tmp128 = __cil_tmp127 + 31;
#line 751
        mem_172 = (UCHAR *)__cil_tmp128;
#line 751
        __cil_tmp129 = *mem_172;
#line 751
        __cil_tmp130 = (int )__cil_tmp129;
#line 751
        if (__cil_tmp130 == 0) {
#line 755
          return (0L);
        } else {

        }
        }
#line 758
        __cil_tmp131 = (unsigned int )biosDriveMediaConstants;
#line 758
        __cil_tmp132 = __cil_tmp131 + 48;
#line 758
        __cil_tmp133 = (unsigned int )fDeviceData;
#line 758
        __cil_tmp134 = __cil_tmp133 + 31;
#line 758
        mem_173 = (UCHAR *)__cil_tmp132;
#line 758
        mem_174 = (UCHAR *)__cil_tmp134;
#line 758
        *mem_173 = *mem_174;
#line 761
        __cil_tmp135 = (unsigned int )biosDriveMediaConstants;
#line 761
        __cil_tmp136 = __cil_tmp135 + 52;
#line 761
        __cil_tmp137 = (unsigned int )fDeviceData;
#line 761
        __cil_tmp138 = __cil_tmp137 + 26;
#line 761
        mem_175 = (UCHAR *)__cil_tmp136;
#line 761
        mem_176 = (UCHAR *)__cil_tmp138;
#line 761
        *mem_175 = *mem_176;
      } else {

      }
      }
    } else {

    }
    }
#line 619
    i = i + 1UL;
  }
  while_7_break: /* CIL Label */ ;
  }
#line 767
  return (0L);
}
}
#line 770 "floppy.c"
NTSTATUS FlAcpiConfigureFloppy(PDISKETTE_EXTENSION DisketteExtension , PFDC_INFO FdcInfo ) 
{ UCHAR driveType ;
  PDRIVE_MEDIA_CONSTANTS biosDriveMediaConstants ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  BOOLEAN __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  ULONG __cil_tmp13 ;
  enum _ACPI_FDI_DEVICE_TYPE __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  int __cil_tmp17 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp18 ;
  DRIVE_MEDIA_TYPE __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  ULONG __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  ULONG __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  ULONG __cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  ULONG __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  ULONG __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  ULONG __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  ULONG __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  ULONG __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  ULONG __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  unsigned int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  ULONG __cil_tmp81 ;
  unsigned char __cil_tmp82 ;
  int __cil_tmp83 ;
  int __cil_tmp84 ;
  int __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  unsigned int __cil_tmp89 ;
  unsigned int __cil_tmp90 ;
  ULONG __cil_tmp91 ;
  unsigned short __cil_tmp92 ;
  int __cil_tmp93 ;
  int __cil_tmp94 ;
  int __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  unsigned int __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  unsigned int __cil_tmp100 ;
  ULONG __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  ULONG __cil_tmp107 ;
  BOOLEAN *mem_108 ;
  ULONG *mem_109 ;
  UCHAR *mem_110 ;
  DRIVE_MEDIA_TYPE *mem_111 ;
  ULONG *mem_112 ;
  UCHAR *mem_113 ;
  ULONG *mem_114 ;
  UCHAR *mem_115 ;
  ULONG *mem_116 ;
  UCHAR *mem_117 ;
  ULONG *mem_118 ;
  UCHAR *mem_119 ;
  ULONG *mem_120 ;
  UCHAR *mem_121 ;
  ULONG *mem_122 ;
  UCHAR *mem_123 ;
  ULONG *mem_124 ;
  UCHAR *mem_125 ;
  ULONG *mem_126 ;
  UCHAR *mem_127 ;
  ULONG *mem_128 ;
  UCHAR *mem_129 ;
  ULONG *mem_130 ;
  USHORT *mem_131 ;
  ULONG *mem_132 ;
  USHORT *mem_133 ;
  ULONG *mem_134 ;
  UCHAR *mem_135 ;
  ULONG *mem_136 ;
  UCHAR *mem_137 ;

  {
#line 789
  __cil_tmp5 = (unsigned int )DisketteExtension;
#line 789
  __cil_tmp6 = __cil_tmp5 + 252;
#line 789
  biosDriveMediaConstants = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp6;
  {
#line 792
  __cil_tmp7 = (unsigned int )FdcInfo;
#line 792
  __cil_tmp8 = __cil_tmp7 + 61;
#line 792
  mem_108 = (BOOLEAN *)__cil_tmp8;
#line 792
  __cil_tmp9 = *mem_108;
#line 792
  if (! __cil_tmp9) {
#line 794
    return (-1073741823L);
  } else {

  }
  }
  {
#line 802
  __cil_tmp10 = 64 + 4;
#line 802
  __cil_tmp11 = (unsigned int )FdcInfo;
#line 802
  __cil_tmp12 = __cil_tmp11 + __cil_tmp10;
#line 802
  mem_109 = (ULONG *)__cil_tmp12;
#line 802
  __cil_tmp13 = *mem_109;
#line 802
  __cil_tmp14 = (enum _ACPI_FDI_DEVICE_TYPE )__cil_tmp13;
#line 803
  if ((int )__cil_tmp14 == 1) {
    goto switch_11_1;
  } else {
#line 805
    if ((int )__cil_tmp14 == 2) {
      goto switch_11_2;
    } else {
#line 806
      if ((int )__cil_tmp14 == 3) {
        goto switch_11_3;
      } else {
#line 807
        if ((int )__cil_tmp14 == 4) {
          goto switch_11_4;
        } else {
#line 808
          if ((int )__cil_tmp14 == 5) {
            goto switch_11_5;
          } else {
            {
            goto switch_11_default;
#line 802
            if (0) {
              switch_11_1: /* CIL Label */ 
#line 804
              driveType = (unsigned char)0;
              goto switch_11_break;
              switch_11_2: /* CIL Label */ 
#line 805
              driveType = (unsigned char)1;
              goto switch_11_break;
              switch_11_3: /* CIL Label */ 
#line 806
              driveType = (unsigned char)2;
              goto switch_11_break;
              switch_11_4: /* CIL Label */ 
#line 807
              driveType = (unsigned char)3;
              goto switch_11_break;
              switch_11_5: /* CIL Label */ 
#line 808
              driveType = (unsigned char)4;
              goto switch_11_break;
              switch_11_default: /* CIL Label */ 
#line 810
              driveType = (unsigned char)1;
              goto switch_11_break;
            } else {
              switch_11_break: /* CIL Label */ ;
            }
            }
          }
        }
      }
    }
  }
  }
#line 814
  __cil_tmp15 = (unsigned int )DisketteExtension;
#line 814
  __cil_tmp16 = __cil_tmp15 + 174;
#line 814
  mem_110 = (UCHAR *)__cil_tmp16;
#line 814
  *mem_110 = driveType;
#line 821
  __cil_tmp17 = (int )driveType;
#line 821
  __cil_tmp18 = DriveMediaLimits + __cil_tmp17;
#line 821
  mem_111 = (DRIVE_MEDIA_TYPE *)__cil_tmp18;
#line 821
  __cil_tmp19 = *mem_111;
#line 821
  __cil_tmp20 = (unsigned int )__cil_tmp19;
#line 821
  __cil_tmp21 = DriveMediaConstants + __cil_tmp20;
#line 821
  *biosDriveMediaConstants = *__cil_tmp21;
#line 824
  __cil_tmp22 = (unsigned int )biosDriveMediaConstants;
#line 824
  __cil_tmp23 = __cil_tmp22 + 32;
#line 824
  __cil_tmp24 = 64 + 20;
#line 824
  __cil_tmp25 = (unsigned int )FdcInfo;
#line 824
  __cil_tmp26 = __cil_tmp25 + __cil_tmp24;
#line 824
  mem_112 = (ULONG *)__cil_tmp26;
#line 824
  __cil_tmp27 = *mem_112;
#line 824
  mem_113 = (UCHAR *)__cil_tmp23;
#line 824
  *mem_113 = (unsigned char )__cil_tmp27;
#line 825
  __cil_tmp28 = (unsigned int )biosDriveMediaConstants;
#line 825
  __cil_tmp29 = __cil_tmp28 + 33;
#line 825
  __cil_tmp30 = 64 + 24;
#line 825
  __cil_tmp31 = (unsigned int )FdcInfo;
#line 825
  __cil_tmp32 = __cil_tmp31 + __cil_tmp30;
#line 825
  mem_114 = (ULONG *)__cil_tmp32;
#line 825
  __cil_tmp33 = *mem_114;
#line 825
  mem_115 = (UCHAR *)__cil_tmp29;
#line 825
  *mem_115 = (unsigned char )__cil_tmp33;
#line 826
  __cil_tmp34 = (unsigned int )biosDriveMediaConstants;
#line 826
  __cil_tmp35 = __cil_tmp34 + 34;
#line 826
  __cil_tmp36 = 64 + 28;
#line 826
  __cil_tmp37 = (unsigned int )FdcInfo;
#line 826
  __cil_tmp38 = __cil_tmp37 + __cil_tmp36;
#line 826
  mem_116 = (ULONG *)__cil_tmp38;
#line 826
  __cil_tmp39 = *mem_116;
#line 826
  mem_117 = (UCHAR *)__cil_tmp35;
#line 826
  *mem_117 = (unsigned char )__cil_tmp39;
#line 827
  __cil_tmp40 = (unsigned int )biosDriveMediaConstants;
#line 827
  __cil_tmp41 = __cil_tmp40 + 35;
#line 827
  __cil_tmp42 = 64 + 32;
#line 827
  __cil_tmp43 = (unsigned int )FdcInfo;
#line 827
  __cil_tmp44 = __cil_tmp43 + __cil_tmp42;
#line 827
  mem_118 = (ULONG *)__cil_tmp44;
#line 827
  __cil_tmp45 = *mem_118;
#line 827
  mem_119 = (UCHAR *)__cil_tmp41;
#line 827
  *mem_119 = (unsigned char )__cil_tmp45;
#line 828
  __cil_tmp46 = (unsigned int )biosDriveMediaConstants;
#line 828
  __cil_tmp47 = __cil_tmp46 + 38;
#line 828
  __cil_tmp48 = 64 + 36;
#line 828
  __cil_tmp49 = (unsigned int )FdcInfo;
#line 828
  __cil_tmp50 = __cil_tmp49 + __cil_tmp48;
#line 828
  mem_120 = (ULONG *)__cil_tmp50;
#line 828
  __cil_tmp51 = *mem_120;
#line 828
  mem_121 = (UCHAR *)__cil_tmp47;
#line 828
  *mem_121 = (unsigned char )__cil_tmp51;
#line 829
  __cil_tmp52 = (unsigned int )biosDriveMediaConstants;
#line 829
  __cil_tmp53 = __cil_tmp52 + 39;
#line 829
  __cil_tmp54 = 64 + 40;
#line 829
  __cil_tmp55 = (unsigned int )FdcInfo;
#line 829
  __cil_tmp56 = __cil_tmp55 + __cil_tmp54;
#line 829
  mem_122 = (ULONG *)__cil_tmp56;
#line 829
  __cil_tmp57 = *mem_122;
#line 829
  mem_123 = (UCHAR *)__cil_tmp53;
#line 829
  *mem_123 = (unsigned char )__cil_tmp57;
#line 830
  __cil_tmp58 = (unsigned int )biosDriveMediaConstants;
#line 830
  __cil_tmp59 = __cil_tmp58 + 40;
#line 830
  __cil_tmp60 = 64 + 48;
#line 830
  __cil_tmp61 = (unsigned int )FdcInfo;
#line 830
  __cil_tmp62 = __cil_tmp61 + __cil_tmp60;
#line 830
  mem_124 = (ULONG *)__cil_tmp62;
#line 830
  __cil_tmp63 = *mem_124;
#line 830
  mem_125 = (UCHAR *)__cil_tmp59;
#line 830
  *mem_125 = (unsigned char )__cil_tmp63;
#line 831
  __cil_tmp64 = (unsigned int )biosDriveMediaConstants;
#line 831
  __cil_tmp65 = __cil_tmp64 + 41;
#line 831
  __cil_tmp66 = 64 + 52;
#line 831
  __cil_tmp67 = (unsigned int )FdcInfo;
#line 831
  __cil_tmp68 = __cil_tmp67 + __cil_tmp66;
#line 831
  mem_126 = (ULONG *)__cil_tmp68;
#line 831
  __cil_tmp69 = *mem_126;
#line 831
  mem_127 = (UCHAR *)__cil_tmp65;
#line 831
  *mem_127 = (unsigned char )__cil_tmp69;
#line 832
  __cil_tmp70 = (unsigned int )biosDriveMediaConstants;
#line 832
  __cil_tmp71 = __cil_tmp70 + 42;
#line 832
  __cil_tmp72 = 64 + 56;
#line 832
  __cil_tmp73 = (unsigned int )FdcInfo;
#line 832
  __cil_tmp74 = __cil_tmp73 + __cil_tmp72;
#line 832
  mem_128 = (ULONG *)__cil_tmp74;
#line 832
  __cil_tmp75 = *mem_128;
#line 832
  mem_129 = (UCHAR *)__cil_tmp71;
#line 832
  *mem_129 = (unsigned char )__cil_tmp75;
#line 833
  __cil_tmp76 = (unsigned int )biosDriveMediaConstants;
#line 833
  __cil_tmp77 = __cil_tmp76 + 44;
#line 833
  __cil_tmp78 = 64 + 60;
#line 833
  __cil_tmp79 = (unsigned int )FdcInfo;
#line 833
  __cil_tmp80 = __cil_tmp79 + __cil_tmp78;
#line 833
  mem_130 = (ULONG *)__cil_tmp80;
#line 833
  __cil_tmp81 = *mem_130;
#line 833
  __cil_tmp82 = (unsigned char )__cil_tmp81;
#line 833
  __cil_tmp83 = (int )__cil_tmp82;
#line 833
  __cil_tmp84 = __cil_tmp83 * 1000;
#line 833
  __cil_tmp85 = __cil_tmp84 / 8;
#line 833
  mem_131 = (USHORT *)__cil_tmp77;
#line 833
  *mem_131 = (unsigned short )__cil_tmp85;
#line 834
  __cil_tmp86 = (unsigned int )biosDriveMediaConstants;
#line 834
  __cil_tmp87 = __cil_tmp86 + 46;
#line 834
  __cil_tmp88 = 64 + 60;
#line 834
  __cil_tmp89 = (unsigned int )FdcInfo;
#line 834
  __cil_tmp90 = __cil_tmp89 + __cil_tmp88;
#line 834
  mem_132 = (ULONG *)__cil_tmp90;
#line 834
  __cil_tmp91 = *mem_132;
#line 834
  __cil_tmp92 = (unsigned short )__cil_tmp91;
#line 834
  __cil_tmp93 = (int )__cil_tmp92;
#line 834
  __cil_tmp94 = __cil_tmp93 * 1000;
#line 834
  __cil_tmp95 = __cil_tmp94 / 8;
#line 834
  mem_133 = (USHORT *)__cil_tmp87;
#line 834
  *mem_133 = (unsigned short )__cil_tmp95;
#line 835
  __cil_tmp96 = (unsigned int )biosDriveMediaConstants;
#line 835
  __cil_tmp97 = __cil_tmp96 + 48;
#line 835
  __cil_tmp98 = 64 + 8;
#line 835
  __cil_tmp99 = (unsigned int )FdcInfo;
#line 835
  __cil_tmp100 = __cil_tmp99 + __cil_tmp98;
#line 835
  mem_134 = (ULONG *)__cil_tmp100;
#line 835
  __cil_tmp101 = *mem_134;
#line 835
  mem_135 = (UCHAR *)__cil_tmp97;
#line 835
  *mem_135 = (unsigned char )__cil_tmp101;
#line 836
  __cil_tmp102 = (unsigned int )biosDriveMediaConstants;
#line 836
  __cil_tmp103 = __cil_tmp102 + 52;
#line 836
  __cil_tmp104 = 64 + 44;
#line 836
  __cil_tmp105 = (unsigned int )FdcInfo;
#line 836
  __cil_tmp106 = __cil_tmp105 + __cil_tmp104;
#line 836
  mem_136 = (ULONG *)__cil_tmp106;
#line 836
  __cil_tmp107 = *mem_136;
#line 836
  mem_137 = (UCHAR *)__cil_tmp103;
#line 836
  *mem_137 = (unsigned char )__cil_tmp107;
#line 838
  return (0L);
}
}
#line 949
void __VERIFIER_assert(int cond) {
  if (!(cond)) {
    ERROR: assert(0); goto ERROR;
  }
  return;
}
#line 841 "floppy.c"
NTSTATUS FlQueueIrpToThread(PIRP Irp , PDISKETTE_EXTENSION DisketteExtension ) 
{ NTSTATUS status ;
  HANDLE threadHandle ;
  PIO_STACK_LOCATION irpSp ;
  OBJECT_ATTRIBUTES ObjAttributes ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  FAST_MUTEX *__cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  BOOLEAN __cil_tmp17 ;
  int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  FAST_MUTEX *__cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  FAST_MUTEX *__cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  FAST_MUTEX *__cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  LONG __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  LONG __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  LONG __cil_tmp45 ;
  void *__cil_tmp46 ;
  OBJECT_ATTRIBUTES *__cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  void *__cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  void *__cil_tmp54 ;
  void *__cil_tmp55 ;
  CLIENT_ID *__cil_tmp56 ;
  void *__cil_tmp57 ;
  int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  void *__cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  FAST_MUTEX *__cil_tmp64 ;
  HANDLE *__cil_tmp65 ;
  HANDLE __cil_tmp66 ;
  void *__cil_tmp67 ;
  struct _OBJECT_TYPE *__cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  PKTHREAD *__cil_tmp71 ;
  PVOID *__cil_tmp72 ;
  void *__cil_tmp73 ;
  struct _OBJECT_HANDLE_INFORMATION *__cil_tmp74 ;
  HANDLE *__cil_tmp75 ;
  HANDLE __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  FAST_MUTEX *__cil_tmp79 ;
  int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  FAST_MUTEX *__cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  unsigned int __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  struct _IO_STACK_LOCATION *__cil_tmp89 ;
  unsigned int __cil_tmp90 ;
  unsigned int __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  unsigned int __cil_tmp94 ;
  unsigned int __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  struct _IO_STACK_LOCATION *__cil_tmp97 ;
  unsigned int __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  UCHAR __cil_tmp100 ;
  int __cil_tmp101 ;
  int __cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  LIST_ENTRY *__cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  unsigned int __cil_tmp109 ;
  LIST_ENTRY *__cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  KSPIN_LOCK *__cil_tmp113 ;
  unsigned int __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  KSEMAPHORE *__cil_tmp116 ;
  struct _IO_STACK_LOCATION **mem_117 ;
  BOOLEAN *mem_118 ;
  NTSTATUS *mem_119 ;
  ULONG_PTR *mem_120 ;
  LONG *mem_121 ;
  LONG *mem_122 ;
  LONG *mem_123 ;
  LONG *mem_124 ;
  LONG *mem_125 ;
  ULONG *mem_126 ;
  HANDLE *mem_127 ;
  ULONG *mem_128 ;
  PUNICODE_STRING *mem_129 ;
  PVOID *mem_130 ;
  PVOID *mem_131 ;
  LONG *mem_132 ;
  struct _IO_STACK_LOCATION **mem_133 ;
  struct _IO_STACK_LOCATION **mem_134 ;
  UCHAR *mem_135 ;
  UCHAR *mem_136 ;

  {
  {
#line 871
  __cil_tmp7 = 24 + 8;
#line 871
  __cil_tmp8 = 0 + __cil_tmp7;
#line 871
  __cil_tmp9 = 64 + __cil_tmp8;
#line 871
  __cil_tmp10 = (unsigned int )Irp;
#line 871
  __cil_tmp11 = __cil_tmp10 + __cil_tmp9;
#line 871
  mem_117 = (struct _IO_STACK_LOCATION **)__cil_tmp11;
#line 871
  irpSp = *mem_117;
#line 878
  __cil_tmp12 = (unsigned int )DisketteExtension;
#line 878
  __cil_tmp13 = __cil_tmp12 + 396;
#line 878
  __cil_tmp14 = (FAST_MUTEX *)__cil_tmp13;
#line 878
  ExAcquireFastMutex(__cil_tmp14);
  }
  {
#line 879
  __cil_tmp15 = (unsigned int )DisketteExtension;
#line 879
  __cil_tmp16 = __cil_tmp15 + 393;
#line 879
  mem_118 = (BOOLEAN *)__cil_tmp16;
#line 879
  __cil_tmp17 = *mem_118;
#line 879
  __cil_tmp18 = (int )__cil_tmp17;
#line 879
  if (__cil_tmp18 == 1) {
    {
#line 880
    __cil_tmp19 = (unsigned int )DisketteExtension;
#line 880
    __cil_tmp20 = __cil_tmp19 + 396;
#line 880
    __cil_tmp21 = (FAST_MUTEX *)__cil_tmp20;
#line 880
    ExReleaseFastMutex(__cil_tmp21);
    }
    {
#line 882
    while (1) {
      while_12_continue: /* CIL Label */ ;
      goto while_12_break;
    }
    while_12_break: /* CIL Label */ ;
    }
#line 884
    myStatus = -1073741101L;
#line 886
    __cil_tmp22 = (unsigned int )Irp;
#line 886
    __cil_tmp23 = __cil_tmp22 + 24;
#line 886
    mem_119 = (NTSTATUS *)__cil_tmp23;
#line 886
    *mem_119 = -1073741101L;
#line 887
    __cil_tmp24 = 24 + 4;
#line 887
    __cil_tmp25 = (unsigned int )Irp;
#line 887
    __cil_tmp26 = __cil_tmp25 + __cil_tmp24;
#line 887
    mem_120 = (ULONG_PTR *)__cil_tmp26;
#line 887
    *mem_120 = 0UL;
#line 888
    return (-1073741101L);
  } else {

  }
  }
  {
#line 890
  __cil_tmp27 = (unsigned int )DisketteExtension;
#line 890
  __cil_tmp28 = __cil_tmp27 + 396;
#line 890
  __cil_tmp29 = (FAST_MUTEX *)__cil_tmp28;
#line 890
  ExReleaseFastMutex(__cil_tmp29);
  }
  {
#line 891
  while (1) {
    while_13_continue: /* CIL Label */ ;
    goto while_13_break;
  }
  while_13_break: /* CIL Label */ ;
  }
  {
#line 891
  __cil_tmp30 = (unsigned int )DisketteExtension;
#line 891
  __cil_tmp31 = __cil_tmp30 + 56;
#line 891
  __cil_tmp32 = (FAST_MUTEX *)__cil_tmp31;
#line 891
  ExAcquireFastMutex(__cil_tmp32);
#line 893
  __cil_tmp33 = (unsigned int )DisketteExtension;
#line 893
  __cil_tmp34 = __cil_tmp33 + 88;
#line 893
  __cil_tmp35 = (unsigned int )DisketteExtension;
#line 893
  __cil_tmp36 = __cil_tmp35 + 88;
#line 893
  mem_121 = (LONG *)__cil_tmp36;
#line 893
  __cil_tmp37 = *mem_121;
#line 893
  mem_122 = (LONG *)__cil_tmp34;
#line 893
  *mem_122 = __cil_tmp37 + 1L;
  }
  {
#line 893
  __cil_tmp38 = (unsigned int )DisketteExtension;
#line 893
  __cil_tmp39 = __cil_tmp38 + 88;
#line 893
  mem_123 = (LONG *)__cil_tmp39;
#line 893
  __cil_tmp40 = *mem_123;
#line 893
  if (__cil_tmp40 == 0L) {
    {
#line 896
    __cil_tmp41 = (unsigned int )DisketteExtension;
#line 896
    __cil_tmp42 = __cil_tmp41 + 88;
#line 896
    __cil_tmp43 = (unsigned int )DisketteExtension;
#line 896
    __cil_tmp44 = __cil_tmp43 + 88;
#line 896
    mem_124 = (LONG *)__cil_tmp44;
#line 896
    __cil_tmp45 = *mem_124;
#line 896
    mem_125 = (LONG *)__cil_tmp42;
#line 896
    *mem_125 = __cil_tmp45 + 1L;
#line 898
    ExAcquireFastMutex(PagingMutex);
#line 898
    PagingReferenceCount = PagingReferenceCount + 1UL;
    }
#line 898
    if (PagingReferenceCount == 1UL) {
      {
#line 898
      __cil_tmp46 = (void *)(& DriverEntry);
#line 898
      MmResetDriverPaging(__cil_tmp46);
      }
    } else {

    }
    {
#line 898
    ExReleaseFastMutex(PagingMutex);
#line 907
    __cil_tmp47 = & ObjAttributes;
#line 907
    mem_126 = (ULONG *)__cil_tmp47;
#line 907
    *mem_126 = (unsigned long )24U;
#line 907
    __cil_tmp48 = (unsigned int )(& ObjAttributes) + 4;
#line 907
    mem_127 = (HANDLE *)__cil_tmp48;
#line 907
    *mem_127 = (void *)0;
#line 907
    __cil_tmp49 = (unsigned int )(& ObjAttributes) + 12;
#line 907
    mem_128 = (ULONG *)__cil_tmp49;
#line 907
    *mem_128 = 512UL;
#line 907
    __cil_tmp50 = (unsigned int )(& ObjAttributes) + 8;
#line 907
    __cil_tmp51 = (void *)0;
#line 907
    mem_129 = (PUNICODE_STRING *)__cil_tmp50;
#line 907
    *mem_129 = (UNICODE_STRING *)__cil_tmp51;
#line 907
    __cil_tmp52 = (unsigned int )(& ObjAttributes) + 16;
#line 907
    mem_130 = (PVOID *)__cil_tmp52;
#line 907
    *mem_130 = (void *)0;
#line 907
    __cil_tmp53 = (unsigned int )(& ObjAttributes) + 20;
#line 907
    mem_131 = (PVOID *)__cil_tmp53;
#line 907
    *mem_131 = (void *)0;
#line 909
    __cil_tmp54 = (void *)0L;
#line 909
    __cil_tmp55 = (void *)0;
#line 909
    __cil_tmp56 = (CLIENT_ID *)__cil_tmp55;
#line 909
    __cil_tmp57 = (void *)DisketteExtension;
#line 909
    status = PsCreateSystemThread(& threadHandle, 0UL, & ObjAttributes, __cil_tmp54,
                                  __cil_tmp56, & FloppyThread, __cil_tmp57);
    }
    {
#line 917
    __cil_tmp58 = status >= 0L;
#line 917
    if (! __cil_tmp58) {
      {
#line 918
      __cil_tmp59 = (unsigned int )DisketteExtension;
#line 918
      __cil_tmp60 = __cil_tmp59 + 88;
#line 918
      mem_132 = (LONG *)__cil_tmp60;
#line 918
      *mem_132 = -1L;
#line 920
      ExAcquireFastMutex(PagingMutex);
#line 920
      PagingReferenceCount = PagingReferenceCount - 1UL;
      }
#line 920
      if (PagingReferenceCount == 0UL) {
        {
#line 920
        __cil_tmp61 = (void *)(& DriverEntry);
#line 920
        MmPageEntireDriver(__cil_tmp61);
        }
      } else {

      }
      {
#line 920
      ExReleaseFastMutex(PagingMutex);
#line 922
      __cil_tmp62 = (unsigned int )DisketteExtension;
#line 922
      __cil_tmp63 = __cil_tmp62 + 56;
#line 922
      __cil_tmp64 = (FAST_MUTEX *)__cil_tmp63;
#line 922
      ExReleaseFastMutex(__cil_tmp64);
      }
#line 923
      return (status);
    } else {

    }
    }
    {
#line 926
    __cil_tmp65 = & threadHandle;
#line 926
    __cil_tmp66 = *__cil_tmp65;
#line 926
    __cil_tmp67 = (void *)0;
#line 926
    __cil_tmp68 = (struct _OBJECT_TYPE *)__cil_tmp67;
#line 926
    __cil_tmp69 = (unsigned int )DisketteExtension;
#line 926
    __cil_tmp70 = __cil_tmp69 + 92;
#line 926
    __cil_tmp71 = (PKTHREAD *)__cil_tmp70;
#line 926
    __cil_tmp72 = (PVOID *)__cil_tmp71;
#line 926
    __cil_tmp73 = (void *)0;
#line 926
    __cil_tmp74 = (struct _OBJECT_HANDLE_INFORMATION *)__cil_tmp73;
#line 926
    status = ObReferenceObjectByHandle(__cil_tmp66, 1048576UL, __cil_tmp68, (char)0,
                                       __cil_tmp72, __cil_tmp74);
#line 935
    __cil_tmp75 = & threadHandle;
#line 935
    __cil_tmp76 = *__cil_tmp75;
#line 935
    ZwClose(__cil_tmp76);
#line 937
    __cil_tmp77 = (unsigned int )DisketteExtension;
#line 937
    __cil_tmp78 = __cil_tmp77 + 56;
#line 937
    __cil_tmp79 = (FAST_MUTEX *)__cil_tmp78;
#line 937
    ExReleaseFastMutex(__cil_tmp79);
    }
    {
#line 939
    __cil_tmp80 = status >= 0L;
#line 939
    if (! __cil_tmp80) {
#line 940
      return (status);
    } else {

    }
    }
  } else {
    {
#line 944
    __cil_tmp81 = (unsigned int )DisketteExtension;
#line 944
    __cil_tmp82 = __cil_tmp81 + 56;
#line 944
    __cil_tmp83 = (FAST_MUTEX *)__cil_tmp82;
#line 944
    ExReleaseFastMutex(__cil_tmp83);
    }
  }
  }
#line 947
  __cil_tmp84 = 24 + 8;
#line 947
  __cil_tmp85 = 0 + __cil_tmp84;
#line 947
  __cil_tmp86 = 64 + __cil_tmp85;
#line 947
  __cil_tmp87 = (unsigned int )Irp;
#line 947
  __cil_tmp88 = __cil_tmp87 + __cil_tmp86;
#line 947
  mem_133 = (struct _IO_STACK_LOCATION **)__cil_tmp88;
#line 947
  __cil_tmp89 = *mem_133;
#line 947
  __cil_tmp90 = (unsigned int )__cil_tmp89;
#line 947
  __cil_tmp91 = __cil_tmp90 + 3;
#line 947
  __cil_tmp92 = 24 + 8;
#line 947
  __cil_tmp93 = 0 + __cil_tmp92;
#line 947
  __cil_tmp94 = 64 + __cil_tmp93;
#line 947
  __cil_tmp95 = (unsigned int )Irp;
#line 947
  __cil_tmp96 = __cil_tmp95 + __cil_tmp94;
#line 947
  mem_134 = (struct _IO_STACK_LOCATION **)__cil_tmp96;
#line 947
  __cil_tmp97 = *mem_134;
#line 947
  __cil_tmp98 = (unsigned int )__cil_tmp97;
#line 947
  __cil_tmp99 = __cil_tmp98 + 3;
#line 947
  mem_135 = (UCHAR *)__cil_tmp99;
#line 947
  __cil_tmp100 = *mem_135;
#line 947
  __cil_tmp101 = (int )__cil_tmp100;
#line 947
  __cil_tmp102 = __cil_tmp101 | 1;
#line 947
  mem_136 = (UCHAR *)__cil_tmp91;
#line 947
  *mem_136 = (unsigned char )__cil_tmp102;
#line 948
  if (pended == 0) {
#line 948
    pended = 1;
  } else {
    {
#line 949
    __VERIFIER_assert(0);
    }
  }
  {
#line 952
  __cil_tmp103 = (unsigned int )DisketteExtension;
#line 952
  __cil_tmp104 = __cil_tmp103 + 96;
#line 952
  __cil_tmp105 = (LIST_ENTRY *)__cil_tmp104;
#line 952
  __cil_tmp106 = 0 + 24;
#line 952
  __cil_tmp107 = 64 + __cil_tmp106;
#line 952
  __cil_tmp108 = (unsigned int )Irp;
#line 952
  __cil_tmp109 = __cil_tmp108 + __cil_tmp107;
#line 952
  __cil_tmp110 = (LIST_ENTRY *)__cil_tmp109;
#line 952
  __cil_tmp111 = (unsigned int )DisketteExtension;
#line 952
  __cil_tmp112 = __cil_tmp111 + 52;
#line 952
  __cil_tmp113 = (KSPIN_LOCK *)__cil_tmp112;
#line 952
  ExfInterlockedInsertTailList(__cil_tmp105, __cil_tmp110, __cil_tmp113);
#line 957
  __cil_tmp114 = (unsigned int )DisketteExtension;
#line 957
  __cil_tmp115 = __cil_tmp114 + 32;
#line 957
  __cil_tmp116 = (KSEMAPHORE *)__cil_tmp115;
#line 957
  KeReleaseSemaphore(__cil_tmp116, 0L, 1L, (unsigned char)0);
  }
#line 963
  return (259L);
}
}
#line 966 "floppy.c"
NTSTATUS FloppyCreateClose(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ unsigned int __cil_tmp3 ;
  unsigned int __cil_tmp4 ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  NTSTATUS *mem_8 ;
  ULONG_PTR *mem_9 ;

  {
  {
#line 999
  while (1) {
    while_14_continue: /* CIL Label */ ;
    goto while_14_break;
  }
  while_14_break: /* CIL Label */ ;
  }
  {
#line 1007
  myStatus = 0L;
#line 1009
  __cil_tmp3 = (unsigned int )Irp;
#line 1009
  __cil_tmp4 = __cil_tmp3 + 24;
#line 1009
  mem_8 = (NTSTATUS *)__cil_tmp4;
#line 1009
  *mem_8 = 0L;
#line 1010
  __cil_tmp5 = 24 + 4;
#line 1010
  __cil_tmp6 = (unsigned int )Irp;
#line 1010
  __cil_tmp7 = __cil_tmp6 + __cil_tmp5;
#line 1010
  mem_9 = (ULONG_PTR *)__cil_tmp7;
#line 1010
  *mem_9 = 1UL;
#line 1010
  IofCompleteRequest(Irp, (char)0);
  }
#line 1012
  return (0L);
}
}
#line 1015 "floppy.c"
NTSTATUS FloppyDeviceControl(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ PIO_STACK_LOCATION irpSp ;
  PDISKETTE_EXTENSION disketteExtension ;
  PDISK_GEOMETRY outputBuffer ;
  NTSTATUS ntStatus ;
  ULONG outputBufferLength ;
  UCHAR i ;
  DRIVE_MEDIA_TYPE lowestDriveMediaType ;
  DRIVE_MEDIA_TYPE highestDriveMediaType ;
  ULONG formatExParametersSize ;
  PFORMAT_EX_PARAMETERS formatExParameters ;
  NTSTATUS tmp ;
  PMOUNTDEV_NAME mountName ;
  PMOUNTDEV_UNIQUE_ID uniqueId ;
  BOOLEAN tmp___0 ;
  PMOUNTDEV_SUGGESTED_LINK_NAME suggestedName ;
  WCHAR driveLetterNameBuffer[10] ;
  RTL_QUERY_REGISTRY_TABLE queryTable[2] ;
  PWSTR valueName ;
  UNICODE_STRING driveLetterName ;
  PVOID tmp___1 ;
  int tmp___2 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  PVOID __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  FAST_MUTEX *__cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  int __cil_tmp37 ;
  int __cil_tmp38 ;
  int __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  ULONG __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  FAST_MUTEX *__cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  FAST_MUTEX *__cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  BOOLEAN __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  CHAR __cil_tmp66 ;
  int __cil_tmp67 ;
  int __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  struct _IO_STACK_LOCATION *__cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  PDEVICE_OBJECT __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  unsigned int __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  ULONG __cil_tmp87 ;
  int __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  unsigned long __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  ULONG __cil_tmp94 ;
  unsigned int __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  PVOID __cil_tmp97 ;
  unsigned int __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  USHORT __cil_tmp100 ;
  unsigned int __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  unsigned long __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  ULONG __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  unsigned int __cil_tmp109 ;
  unsigned int __cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  unsigned int __cil_tmp113 ;
  WCHAR *__cil_tmp114 ;
  void *__cil_tmp115 ;
  unsigned int __cil_tmp116 ;
  unsigned int __cil_tmp117 ;
  unsigned int __cil_tmp118 ;
  PWSTR __cil_tmp119 ;
  void const   *__cil_tmp120 ;
  USHORT __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  unsigned int __cil_tmp123 ;
  unsigned int __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  USHORT __cil_tmp126 ;
  unsigned int __cil_tmp127 ;
  unsigned int __cil_tmp128 ;
  unsigned int __cil_tmp129 ;
  unsigned int __cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  PWSTR __cil_tmp132 ;
  unsigned long __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  unsigned int __cil_tmp135 ;
  ULONG __cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  PVOID __cil_tmp139 ;
  unsigned int __cil_tmp140 ;
  unsigned int __cil_tmp141 ;
  USHORT __cil_tmp142 ;
  unsigned int __cil_tmp143 ;
  unsigned int __cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  unsigned int __cil_tmp146 ;
  unsigned int __cil_tmp147 ;
  ULONG __cil_tmp148 ;
  unsigned int __cil_tmp149 ;
  unsigned int __cil_tmp150 ;
  unsigned int __cil_tmp151 ;
  unsigned int __cil_tmp152 ;
  unsigned int __cil_tmp153 ;
  unsigned int __cil_tmp154 ;
  unsigned int __cil_tmp155 ;
  UCHAR *__cil_tmp156 ;
  void *__cil_tmp157 ;
  unsigned int __cil_tmp158 ;
  unsigned int __cil_tmp159 ;
  unsigned int __cil_tmp160 ;
  PWSTR __cil_tmp161 ;
  void const   *__cil_tmp162 ;
  USHORT __cil_tmp163 ;
  unsigned int __cil_tmp164 ;
  unsigned int __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  unsigned int __cil_tmp167 ;
  USHORT __cil_tmp168 ;
  unsigned int __cil_tmp169 ;
  unsigned int __cil_tmp170 ;
  int __cil_tmp171 ;
  int __cil_tmp172 ;
  int __cil_tmp173 ;
  int __cil_tmp174 ;
  int __cil_tmp175 ;
  int __cil_tmp176 ;
  int __cil_tmp177 ;
  int __cil_tmp178 ;
  unsigned long __cil_tmp179 ;
  unsigned int __cil_tmp180 ;
  unsigned int __cil_tmp181 ;
  unsigned int __cil_tmp182 ;
  unsigned int __cil_tmp183 ;
  ULONG __cil_tmp184 ;
  unsigned int __cil_tmp185 ;
  unsigned int __cil_tmp186 ;
  PVOID __cil_tmp187 ;
  struct _FORMAT_PARAMETERS *__cil_tmp188 ;
  int __cil_tmp189 ;
  int __cil_tmp190 ;
  int __cil_tmp191 ;
  int __cil_tmp192 ;
  int __cil_tmp193 ;
  unsigned long __cil_tmp194 ;
  unsigned int __cil_tmp195 ;
  unsigned int __cil_tmp196 ;
  unsigned int __cil_tmp197 ;
  unsigned int __cil_tmp198 ;
  ULONG __cil_tmp199 ;
  unsigned long __cil_tmp200 ;
  unsigned int __cil_tmp201 ;
  unsigned int __cil_tmp202 ;
  unsigned int __cil_tmp203 ;
  unsigned int __cil_tmp204 ;
  ULONG __cil_tmp205 ;
  unsigned int __cil_tmp206 ;
  unsigned int __cil_tmp207 ;
  PVOID __cil_tmp208 ;
  unsigned int __cil_tmp209 ;
  unsigned int __cil_tmp210 ;
  USHORT __cil_tmp211 ;
  unsigned int __cil_tmp212 ;
  unsigned int __cil_tmp213 ;
  unsigned long __cil_tmp214 ;
  FORMAT_EX_PARAMETERS *__cil_tmp215 ;
  unsigned int __cil_tmp216 ;
  unsigned int __cil_tmp217 ;
  USHORT (*__cil_tmp218)[1] ;
  long __cil_tmp219 ;
  unsigned long __cil_tmp220 ;
  unsigned int __cil_tmp221 ;
  unsigned int __cil_tmp222 ;
  unsigned int __cil_tmp223 ;
  unsigned int __cil_tmp224 ;
  ULONG __cil_tmp225 ;
  unsigned int __cil_tmp226 ;
  unsigned int __cil_tmp227 ;
  USHORT __cil_tmp228 ;
  int __cil_tmp229 ;
  unsigned int __cil_tmp230 ;
  unsigned int __cil_tmp231 ;
  USHORT __cil_tmp232 ;
  int __cil_tmp233 ;
  int __cil_tmp234 ;
  int __cil_tmp235 ;
  int __cil_tmp236 ;
  int __cil_tmp237 ;
  int __cil_tmp238 ;
  int __cil_tmp239 ;
  int __cil_tmp240 ;
  int __cil_tmp241 ;
  int __cil_tmp242 ;
  int __cil_tmp243 ;
  int __cil_tmp244 ;
  int __cil_tmp245 ;
  int __cil_tmp246 ;
  int __cil_tmp247 ;
  unsigned int __cil_tmp248 ;
  unsigned int __cil_tmp249 ;
  UCHAR __cil_tmp250 ;
  int __cil_tmp251 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp252 ;
  unsigned int __cil_tmp253 ;
  unsigned int __cil_tmp254 ;
  unsigned int __cil_tmp255 ;
  unsigned int __cil_tmp256 ;
  UCHAR __cil_tmp257 ;
  int __cil_tmp258 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp259 ;
  unsigned int __cil_tmp260 ;
  unsigned int __cil_tmp261 ;
  unsigned long __cil_tmp262 ;
  int __cil_tmp263 ;
  int __cil_tmp264 ;
  int __cil_tmp265 ;
  int __cil_tmp266 ;
  unsigned int __cil_tmp267 ;
  unsigned int __cil_tmp268 ;
  unsigned long __cil_tmp269 ;
  unsigned long __cil_tmp270 ;
  ULONG __cil_tmp271 ;
  int __cil_tmp272 ;
  int __cil_tmp273 ;
  unsigned long __cil_tmp274 ;
  unsigned long __cil_tmp275 ;
  unsigned int __cil_tmp276 ;
  unsigned int __cil_tmp277 ;
  PVOID __cil_tmp278 ;
  unsigned char __cil_tmp279 ;
  int __cil_tmp280 ;
  int __cil_tmp281 ;
  unsigned int __cil_tmp282 ;
  unsigned int __cil_tmp283 ;
  int __cil_tmp284 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp285 ;
  int __cil_tmp286 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp287 ;
  unsigned int __cil_tmp288 ;
  unsigned int __cil_tmp289 ;
  UCHAR __cil_tmp290 ;
  int __cil_tmp291 ;
  int __cil_tmp292 ;
  unsigned int __cil_tmp293 ;
  unsigned int __cil_tmp294 ;
  unsigned int __cil_tmp295 ;
  unsigned int __cil_tmp296 ;
  unsigned int __cil_tmp297 ;
  unsigned int __cil_tmp298 ;
  int __cil_tmp299 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp300 ;
  unsigned int __cil_tmp301 ;
  unsigned int __cil_tmp302 ;
  UCHAR __cil_tmp303 ;
  unsigned int __cil_tmp304 ;
  unsigned int __cil_tmp305 ;
  int __cil_tmp306 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp307 ;
  unsigned int __cil_tmp308 ;
  unsigned int __cil_tmp309 ;
  UCHAR __cil_tmp310 ;
  unsigned int __cil_tmp311 ;
  unsigned int __cil_tmp312 ;
  int __cil_tmp313 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp314 ;
  unsigned int __cil_tmp315 ;
  unsigned int __cil_tmp316 ;
  USHORT __cil_tmp317 ;
  unsigned int __cil_tmp318 ;
  unsigned int __cil_tmp319 ;
  unsigned int __cil_tmp320 ;
  unsigned long __cil_tmp321 ;
  unsigned int __cil_tmp322 ;
  unsigned int __cil_tmp323 ;
  unsigned int __cil_tmp324 ;
  ULONG_PTR __cil_tmp325 ;
  int __cil_tmp326 ;
  int __cil_tmp327 ;
  int __cil_tmp328 ;
  unsigned long __cil_tmp329 ;
  unsigned long __cil_tmp330 ;
  KUSER_SHARED_DATA *__cil_tmp331 ;
  unsigned int __cil_tmp332 ;
  unsigned int __cil_tmp333 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp334 ;
  int __cil_tmp335 ;
  unsigned int __cil_tmp336 ;
  unsigned int __cil_tmp337 ;
  ULONG __cil_tmp338 ;
  unsigned long __cil_tmp339 ;
  unsigned long __cil_tmp340 ;
  unsigned int __cil_tmp341 ;
  unsigned int __cil_tmp342 ;
  ULONG __cil_tmp343 ;
  enum _POOL_TYPE __cil_tmp344 ;
  unsigned int __cil_tmp345 ;
  unsigned long __cil_tmp346 ;
  void *__cil_tmp347 ;
  unsigned int __cil_tmp348 ;
  void *__cil_tmp349 ;
  unsigned int __cil_tmp350 ;
  unsigned int __cil_tmp351 ;
  unsigned int __cil_tmp352 ;
  PWSTR __cil_tmp353 ;
  void const   *__cil_tmp354 ;
  unsigned int __cil_tmp355 ;
  unsigned int __cil_tmp356 ;
  USHORT __cil_tmp357 ;
  unsigned int __cil_tmp358 ;
  unsigned int __cil_tmp359 ;
  unsigned int __cil_tmp360 ;
  unsigned int __cil_tmp361 ;
  unsigned int __cil_tmp362 ;
  UNICODE_STRING *__cil_tmp363 ;
  unsigned int __cil_tmp364 ;
  unsigned int __cil_tmp365 ;
  RTL_QUERY_REGISTRY_TABLE *__cil_tmp366 ;
  void *__cil_tmp367 ;
  unsigned int __cil_tmp368 ;
  unsigned int __cil_tmp369 ;
  unsigned int __cil_tmp370 ;
  unsigned int __cil_tmp371 ;
  unsigned int __cil_tmp372 ;
  unsigned int __cil_tmp373 ;
  unsigned int __cil_tmp374 ;
  unsigned int __cil_tmp375 ;
  unsigned int __cil_tmp376 ;
  unsigned int __cil_tmp377 ;
  WCHAR const   *__cil_tmp378 ;
  unsigned int __cil_tmp379 ;
  unsigned int __cil_tmp380 ;
  RTL_QUERY_REGISTRY_TABLE *__cil_tmp381 ;
  void *__cil_tmp382 ;
  void *__cil_tmp383 ;
  int __cil_tmp384 ;
  void *__cil_tmp385 ;
  UNICODE_STRING *__cil_tmp386 ;
  USHORT __cil_tmp387 ;
  int __cil_tmp388 ;
  void *__cil_tmp389 ;
  unsigned int __cil_tmp390 ;
  PWSTR __cil_tmp391 ;
  PWSTR __cil_tmp392 ;
  WCHAR __cil_tmp393 ;
  int __cil_tmp394 ;
  void *__cil_tmp395 ;
  unsigned int __cil_tmp396 ;
  PWSTR __cil_tmp397 ;
  PWSTR __cil_tmp398 ;
  WCHAR __cil_tmp399 ;
  int __cil_tmp400 ;
  void *__cil_tmp401 ;
  unsigned int __cil_tmp402 ;
  PWSTR __cil_tmp403 ;
  PWSTR __cil_tmp404 ;
  WCHAR __cil_tmp405 ;
  int __cil_tmp406 ;
  void *__cil_tmp407 ;
  unsigned int __cil_tmp408 ;
  unsigned int __cil_tmp409 ;
  PVOID __cil_tmp410 ;
  unsigned int __cil_tmp411 ;
  unsigned int __cil_tmp412 ;
  unsigned int __cil_tmp413 ;
  unsigned int __cil_tmp414 ;
  unsigned int __cil_tmp415 ;
  MOUNTDEV_SUGGESTED_LINK_NAME *__cil_tmp416 ;
  unsigned int __cil_tmp417 ;
  unsigned int __cil_tmp418 ;
  WCHAR (*__cil_tmp419)[1] ;
  long __cil_tmp420 ;
  long __cil_tmp421 ;
  unsigned int __cil_tmp422 ;
  unsigned int __cil_tmp423 ;
  unsigned int __cil_tmp424 ;
  ULONG_PTR __cil_tmp425 ;
  unsigned int __cil_tmp426 ;
  unsigned int __cil_tmp427 ;
  ULONG __cil_tmp428 ;
  unsigned int __cil_tmp429 ;
  unsigned int __cil_tmp430 ;
  unsigned int __cil_tmp431 ;
  void *__cil_tmp432 ;
  WCHAR const   *__cil_tmp433 ;
  WCHAR const   *__cil_tmp434 ;
  void *__cil_tmp435 ;
  unsigned int __cil_tmp436 ;
  unsigned int __cil_tmp437 ;
  unsigned int __cil_tmp438 ;
  unsigned int __cil_tmp439 ;
  WCHAR *__cil_tmp440 ;
  void *__cil_tmp441 ;
  void const   *__cil_tmp442 ;
  unsigned int __cil_tmp443 ;
  unsigned int __cil_tmp444 ;
  unsigned int __cil_tmp445 ;
  unsigned int __cil_tmp446 ;
  unsigned int __cil_tmp447 ;
  PWSTR __cil_tmp448 ;
  PWSTR __cil_tmp449 ;
  unsigned int __cil_tmp450 ;
  unsigned int __cil_tmp451 ;
  unsigned int __cil_tmp452 ;
  unsigned int __cil_tmp453 ;
  int __cil_tmp454 ;
  int __cil_tmp455 ;
  KUSER_SHARED_DATA *__cil_tmp456 ;
  unsigned int __cil_tmp457 ;
  unsigned int __cil_tmp458 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp459 ;
  int __cil_tmp460 ;
  unsigned long __cil_tmp461 ;
  unsigned int __cil_tmp462 ;
  unsigned int __cil_tmp463 ;
  ULONG __cil_tmp464 ;
  unsigned int __cil_tmp465 ;
  unsigned int __cil_tmp466 ;
  unsigned int __cil_tmp467 ;
  unsigned int __cil_tmp468 ;
  CHAR __cil_tmp469 ;
  int __cil_tmp470 ;
  int __cil_tmp471 ;
  unsigned int __cil_tmp472 ;
  unsigned int __cil_tmp473 ;
  unsigned int __cil_tmp474 ;
  unsigned int __cil_tmp475 ;
  unsigned int __cil_tmp476 ;
  unsigned int __cil_tmp477 ;
  unsigned int __cil_tmp478 ;
  unsigned int __cil_tmp479 ;
  unsigned int __cil_tmp480 ;
  unsigned int __cil_tmp481 ;
  struct _IO_STACK_LOCATION *__cil_tmp482 ;
  unsigned int __cil_tmp483 ;
  unsigned int __cil_tmp484 ;
  PDEVICE_OBJECT __cil_tmp485 ;
  unsigned int __cil_tmp486 ;
  unsigned int __cil_tmp487 ;
  int __cil_tmp488 ;
  PVOID *mem_489 ;
  struct _IO_STACK_LOCATION **mem_490 ;
  BOOLEAN *mem_491 ;
  ULONG *mem_492 ;
  BOOLEAN *mem_493 ;
  ULONG_PTR *mem_494 ;
  NTSTATUS *mem_495 ;
  BOOLEAN *mem_496 ;
  CHAR *mem_497 ;
  CHAR *mem_498 ;
  struct _IO_STACK_LOCATION **mem_499 ;
  struct _IO_STACK_LOCATION **mem_500 ;
  PDEVICE_OBJECT *mem_501 ;
  ULONG *mem_502 ;
  ULONG *mem_503 ;
  PVOID *mem_504 ;
  USHORT *mem_505 ;
  USHORT *mem_506 ;
  USHORT *mem_507 ;
  ULONG *mem_508 ;
  ULONG_PTR *mem_509 ;
  PWSTR *mem_510 ;
  USHORT *mem_511 ;
  USHORT *mem_512 ;
  ULONG_PTR *mem_513 ;
  PWSTR *mem_514 ;
  ULONG *mem_515 ;
  PVOID *mem_516 ;
  USHORT *mem_517 ;
  USHORT *mem_518 ;
  USHORT *mem_519 ;
  ULONG *mem_520 ;
  ULONG_PTR *mem_521 ;
  PWSTR *mem_522 ;
  USHORT *mem_523 ;
  USHORT *mem_524 ;
  ULONG_PTR *mem_525 ;
  ULONG *mem_526 ;
  PVOID *mem_527 ;
  ULONG *mem_528 ;
  ULONG *mem_529 ;
  PVOID *mem_530 ;
  USHORT *mem_531 ;
  ULONG *mem_532 ;
  USHORT *mem_533 ;
  USHORT *mem_534 ;
  UCHAR *mem_535 ;
  DRIVE_MEDIA_TYPE *mem_536 ;
  UCHAR *mem_537 ;
  DRIVE_MEDIA_TYPE *mem_538 ;
  ULONG *mem_539 ;
  PVOID *mem_540 ;
  MEDIA_TYPE *mem_541 ;
  MEDIA_TYPE *mem_542 ;
  UCHAR *mem_543 ;
  ULONG *mem_544 ;
  LONG *mem_545 ;
  UCHAR *mem_546 ;
  ULONG *mem_547 ;
  UCHAR *mem_548 ;
  ULONG *mem_549 ;
  USHORT *mem_550 ;
  ULONG *mem_551 ;
  ULONG_PTR *mem_552 ;
  ULONG_PTR *mem_553 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_554 ;
  ULONG *mem_555 ;
  ULONG *mem_556 ;
  PWSTR *mem_557 ;
  USHORT *mem_558 ;
  PWSTR *mem_559 ;
  USHORT *mem_560 ;
  USHORT *mem_561 ;
  ULONG *mem_562 ;
  PWSTR *mem_563 ;
  PVOID *mem_564 ;
  USHORT *mem_565 ;
  PWSTR *mem_566 ;
  PWSTR *mem_567 ;
  PWSTR *mem_568 ;
  PVOID *mem_569 ;
  BOOLEAN *mem_570 ;
  USHORT *mem_571 ;
  ULONG_PTR *mem_572 ;
  ULONG_PTR *mem_573 ;
  ULONG *mem_574 ;
  ULONG_PTR *mem_575 ;
  PWSTR *mem_576 ;
  WCHAR *mem_577 ;
  WCHAR *mem_578 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_579 ;
  ULONG *mem_580 ;
  CHAR *mem_581 ;
  CHAR *mem_582 ;
  struct _IO_STACK_LOCATION **mem_583 ;
  struct _IO_STACK_LOCATION **mem_584 ;
  PDEVICE_OBJECT *mem_585 ;
  NTSTATUS *mem_586 ;

  {
  {
#line 1054
  while (1) {
    while_15_continue: /* CIL Label */ ;
    goto while_15_break;
  }
  while_15_break: /* CIL Label */ ;
  }
  {
#line 1056
  __cil_tmp24 = (unsigned int )DeviceObject;
#line 1056
  __cil_tmp25 = __cil_tmp24 + 40;
#line 1056
  mem_489 = (PVOID *)__cil_tmp25;
#line 1056
  __cil_tmp26 = *mem_489;
#line 1056
  disketteExtension = (DISKETTE_EXTENSION *)__cil_tmp26;
#line 1057
  __cil_tmp27 = 24 + 8;
#line 1057
  __cil_tmp28 = 0 + __cil_tmp27;
#line 1057
  __cil_tmp29 = 64 + __cil_tmp28;
#line 1057
  __cil_tmp30 = (unsigned int )Irp;
#line 1057
  __cil_tmp31 = __cil_tmp30 + __cil_tmp29;
#line 1057
  mem_490 = (struct _IO_STACK_LOCATION **)__cil_tmp31;
#line 1057
  irpSp = *mem_490;
#line 1062
  __cil_tmp32 = (unsigned int )disketteExtension;
#line 1062
  __cil_tmp33 = __cil_tmp32 + 428;
#line 1062
  __cil_tmp34 = (FAST_MUTEX *)__cil_tmp33;
#line 1062
  ExAcquireFastMutex(__cil_tmp34);
  }
  {
#line 1063
  __cil_tmp35 = (unsigned int )disketteExtension;
#line 1063
  __cil_tmp36 = __cil_tmp35 + 14;
  {
#line 1063
  mem_491 = (BOOLEAN *)__cil_tmp36;
#line 1063
  if (*mem_491) {
    {
#line 1070
    __cil_tmp37 = 3 << 14;
#line 1070
    __cil_tmp38 = 50 << 16;
#line 1070
    __cil_tmp39 = __cil_tmp38 | __cil_tmp37;
#line 1070
    __cil_tmp40 = (unsigned long )__cil_tmp39;
#line 1070
    __cil_tmp41 = 0 + 8;
#line 1070
    __cil_tmp42 = 4 + __cil_tmp41;
#line 1070
    __cil_tmp43 = (unsigned int )irpSp;
#line 1070
    __cil_tmp44 = __cil_tmp43 + __cil_tmp42;
#line 1070
    mem_492 = (ULONG *)__cil_tmp44;
#line 1070
    __cil_tmp45 = *mem_492;
#line 1070
    if (__cil_tmp45 != __cil_tmp40) {
      {
#line 1072
      ntStatus = FloppyQueueRequest(disketteExtension, Irp);
#line 1074
      __cil_tmp46 = (unsigned int )disketteExtension;
#line 1074
      __cil_tmp47 = __cil_tmp46 + 428;
#line 1074
      __cil_tmp48 = (FAST_MUTEX *)__cil_tmp47;
#line 1074
      ExReleaseFastMutex(__cil_tmp48);
      }
#line 1075
      return (ntStatus);
    } else {

    }
    }
  } else {

  }
  }
  }
  {
#line 1078
  __cil_tmp49 = (unsigned int )disketteExtension;
#line 1078
  __cil_tmp50 = __cil_tmp49 + 428;
#line 1078
  __cil_tmp51 = (FAST_MUTEX *)__cil_tmp50;
#line 1078
  ExReleaseFastMutex(__cil_tmp51);
  }
  {
#line 1083
  __cil_tmp52 = (unsigned int )disketteExtension;
#line 1083
  __cil_tmp53 = __cil_tmp52 + 13;
  {
#line 1083
  mem_493 = (BOOLEAN *)__cil_tmp53;
#line 1083
  if (*mem_493) {
    {
#line 1085
    __cil_tmp54 = 24 + 4;
#line 1085
    __cil_tmp55 = (unsigned int )Irp;
#line 1085
    __cil_tmp56 = __cil_tmp55 + __cil_tmp54;
#line 1085
    mem_494 = (ULONG_PTR *)__cil_tmp56;
#line 1085
    *mem_494 = 0UL;
#line 1086
    __cil_tmp57 = (unsigned int )Irp;
#line 1086
    __cil_tmp58 = __cil_tmp57 + 24;
#line 1086
    mem_495 = (NTSTATUS *)__cil_tmp58;
#line 1086
    *mem_495 = -1073741738L;
#line 1087
    myStatus = -1073741738L;
#line 1088
    IofCompleteRequest(Irp, (char)0);
    }
#line 1089
    return (-1073741738L);
  } else {

  }
  }
  }
  {
#line 1095
  __cil_tmp59 = (unsigned int )disketteExtension;
#line 1095
  __cil_tmp60 = __cil_tmp59 + 12;
#line 1095
  mem_496 = (BOOLEAN *)__cil_tmp60;
#line 1095
  __cil_tmp61 = *mem_496;
#line 1095
  if (! __cil_tmp61) {
#line 1097
    if (s == 1) {
#line 1097
      s = 3;
    } else {
      {
#line 1098
      __VERIFIER_assert(0);
      }
    }
    {
#line 1099
    __cil_tmp62 = (unsigned int )Irp;
#line 1099
    __cil_tmp63 = __cil_tmp62 + 35;
#line 1099
    __cil_tmp64 = (unsigned int )Irp;
#line 1099
    __cil_tmp65 = __cil_tmp64 + 35;
#line 1099
    mem_497 = (CHAR *)__cil_tmp65;
#line 1099
    __cil_tmp66 = *mem_497;
#line 1099
    __cil_tmp67 = (int )__cil_tmp66;
#line 1099
    __cil_tmp68 = __cil_tmp67 + 1;
#line 1099
    mem_498 = (CHAR *)__cil_tmp63;
#line 1099
    *mem_498 = (char )__cil_tmp68;
#line 1099
    __cil_tmp69 = 24 + 8;
#line 1099
    __cil_tmp70 = 0 + __cil_tmp69;
#line 1099
    __cil_tmp71 = 64 + __cil_tmp70;
#line 1099
    __cil_tmp72 = (unsigned int )Irp;
#line 1099
    __cil_tmp73 = __cil_tmp72 + __cil_tmp71;
#line 1099
    __cil_tmp74 = 24 + 8;
#line 1099
    __cil_tmp75 = 0 + __cil_tmp74;
#line 1099
    __cil_tmp76 = 64 + __cil_tmp75;
#line 1099
    __cil_tmp77 = (unsigned int )Irp;
#line 1099
    __cil_tmp78 = __cil_tmp77 + __cil_tmp76;
#line 1099
    mem_499 = (struct _IO_STACK_LOCATION **)__cil_tmp78;
#line 1099
    __cil_tmp79 = *mem_499;
#line 1099
    mem_500 = (struct _IO_STACK_LOCATION **)__cil_tmp73;
#line 1099
    *mem_500 = __cil_tmp79 + 1;
#line 1100
    __cil_tmp80 = (unsigned int )disketteExtension;
#line 1100
    __cil_tmp81 = __cil_tmp80 + 8;
#line 1100
    mem_501 = (PDEVICE_OBJECT *)__cil_tmp81;
#line 1100
    __cil_tmp82 = *mem_501;
#line 1100
    tmp = IofCallDriver(__cil_tmp82, Irp);
    }
#line 1100
    return (tmp);
  } else {

  }
  }
  {
#line 1103
  __cil_tmp83 = 0 + 8;
#line 1103
  __cil_tmp84 = 4 + __cil_tmp83;
#line 1103
  __cil_tmp85 = (unsigned int )irpSp;
#line 1103
  __cil_tmp86 = __cil_tmp85 + __cil_tmp84;
#line 1103
  mem_502 = (ULONG *)__cil_tmp86;
#line 1103
  __cil_tmp87 = *mem_502;
#line 1104
  if ((int )__cil_tmp87 == (__cil_tmp90 | __cil_tmp89)) {
    goto switch_16_exp_0;
  } else {
#line 1136
    if ((int )__cil_tmp87 == 77UL << 16) {
      goto switch_16_exp_1;
    } else {
#line 1172
      if ((int )__cil_tmp87 == (__cil_tmp174 | __cil_tmp171)) {
        goto switch_16_exp_2;
      } else {
#line 1173
        if ((int )__cil_tmp87 == (__cil_tmp178 | __cil_tmp175)) {
          goto switch_16_exp_3;
        } else {
#line 1241
          if ((int )__cil_tmp87 == (__cil_tmp237 | __cil_tmp234)) {
            goto switch_16_exp_4;
          } else {
#line 1242
            if ((int )__cil_tmp87 == (__cil_tmp241 | __cil_tmp238)) {
              goto switch_16_exp_5;
            } else {
#line 1243
              if ((int )__cil_tmp87 == 7 << 16) {
                goto switch_16_exp_6;
              } else {
#line 1244
                if ((int )__cil_tmp87 == (__cil_tmp243 | __cil_tmp242)) {
                  goto switch_16_exp_7;
                } else {
#line 1272
                  if ((int )__cil_tmp87 == (__cil_tmp245 | __cil_tmp244)) {
                    goto switch_16_exp_8;
                  } else {
#line 1273
                    if ((int )__cil_tmp87 == (__cil_tmp247 | __cil_tmp246)) {
                      goto switch_16_exp_9;
                    } else {
#line 1374
                      if ((int )__cil_tmp87 == (__cil_tmp330 | __cil_tmp329)) {
                        goto switch_16_exp_10;
                      } else {
#line 1472
                        if ((int )__cil_tmp87 == (__cil_tmp455 | __cil_tmp454)) {
                          goto switch_16_exp_11;
                        } else {
                          {
                          goto switch_16_default;
#line 1103
                          if (0) {
                            switch_16_exp_0: /* CIL Label */ 
                            {
                            __cil_tmp88 = 2 << 2;
                            __cil_tmp89 = (unsigned long )__cil_tmp88;
                            __cil_tmp90 = 77UL << 16;

                            }
                            {
#line 1109
                            while (1) {
                              while_17_continue: /* CIL Label */ ;
                              goto while_17_break;
                            }
                            while_17_break: /* CIL Label */ ;
                            }
                            {
#line 1112
                            __cil_tmp91 = (unsigned long )4U;
#line 1112
                            __cil_tmp92 = (unsigned int )irpSp;
#line 1112
                            __cil_tmp93 = __cil_tmp92 + 4;
#line 1112
                            mem_503 = (ULONG *)__cil_tmp93;
#line 1112
                            __cil_tmp94 = *mem_503;
#line 1112
                            if (__cil_tmp94 < __cil_tmp91) {
#line 1115
                              ntStatus = -1073741811L;
                              goto switch_16_break;
                            } else {

                            }
                            }
#line 1119
                            __cil_tmp95 = (unsigned int )Irp;
#line 1119
                            __cil_tmp96 = __cil_tmp95 + 12;
#line 1119
                            mem_504 = (PVOID *)__cil_tmp96;
#line 1119
                            __cil_tmp97 = *mem_504;
#line 1119
                            mountName = (struct _MOUNTDEV_NAME *)__cil_tmp97;
#line 1120
                            __cil_tmp98 = (unsigned int )disketteExtension;
#line 1120
                            __cil_tmp99 = __cil_tmp98 + 368;
#line 1120
                            mem_505 = (USHORT *)mountName;
#line 1120
                            mem_506 = (USHORT *)__cil_tmp99;
#line 1120
                            *mem_505 = *mem_506;
                            {
#line 1122
                            mem_507 = (USHORT *)mountName;
#line 1122
                            __cil_tmp100 = *mem_507;
#line 1122
                            __cil_tmp101 = (unsigned int )__cil_tmp100;
#line 1122
                            __cil_tmp102 = 2U + __cil_tmp101;
#line 1122
                            __cil_tmp103 = (unsigned long )__cil_tmp102;
#line 1122
                            __cil_tmp104 = (unsigned int )irpSp;
#line 1122
                            __cil_tmp105 = __cil_tmp104 + 4;
#line 1122
                            mem_508 = (ULONG *)__cil_tmp105;
#line 1122
                            __cil_tmp106 = *mem_508;
#line 1122
                            if (__cil_tmp106 < __cil_tmp103) {
#line 1125
                              ntStatus = -2147483643L;
#line 1126
                              __cil_tmp107 = 24 + 4;
#line 1126
                              __cil_tmp108 = (unsigned int )Irp;
#line 1126
                              __cil_tmp109 = __cil_tmp108 + __cil_tmp107;
#line 1126
                              mem_509 = (ULONG_PTR *)__cil_tmp109;
#line 1126
                              *mem_509 = (unsigned long )4U;
                              goto switch_16_break;
                            } else {

                            }
                            }
                            {
#line 1131
                            __cil_tmp110 = 0 * 2U;
#line 1131
                            __cil_tmp111 = 2 + __cil_tmp110;
#line 1131
                            __cil_tmp112 = (unsigned int )mountName;
#line 1131
                            __cil_tmp113 = __cil_tmp112 + __cil_tmp111;
#line 1131
                            __cil_tmp114 = (WCHAR *)__cil_tmp113;
#line 1131
                            __cil_tmp115 = (void *)__cil_tmp114;
#line 1131
                            __cil_tmp116 = 368 + 4;
#line 1131
                            __cil_tmp117 = (unsigned int )disketteExtension;
#line 1131
                            __cil_tmp118 = __cil_tmp117 + __cil_tmp116;
#line 1131
                            mem_510 = (PWSTR *)__cil_tmp118;
#line 1131
                            __cil_tmp119 = *mem_510;
#line 1131
                            __cil_tmp120 = (void const   *)__cil_tmp119;
#line 1131
                            mem_511 = (USHORT *)mountName;
#line 1131
                            __cil_tmp121 = *mem_511;
#line 1131
                            __cil_tmp122 = (unsigned int )__cil_tmp121;
#line 1131
                            memcpy(__cil_tmp115, __cil_tmp120, __cil_tmp122);
#line 1133
                            ntStatus = 0L;
#line 1134
                            __cil_tmp123 = 24 + 4;
#line 1134
                            __cil_tmp124 = (unsigned int )Irp;
#line 1134
                            __cil_tmp125 = __cil_tmp124 + __cil_tmp123;
#line 1134
                            mem_512 = (USHORT *)mountName;
#line 1134
                            __cil_tmp126 = *mem_512;
#line 1134
                            __cil_tmp127 = (unsigned int )__cil_tmp126;
#line 1134
                            __cil_tmp128 = 2U + __cil_tmp127;
#line 1134
                            mem_513 = (ULONG_PTR *)__cil_tmp125;
#line 1134
                            *mem_513 = (unsigned long )__cil_tmp128;
                            }
                            goto switch_16_break;
                            switch_16_exp_1: /* CIL Label */ ;
                            {
#line 1142
                            while (1) {
                              while_18_continue: /* CIL Label */ ;
                              goto while_18_break;
                            }
                            while_18_break: /* CIL Label */ ;
                            }
                            {
#line 1144
                            __cil_tmp129 = 376 + 4;
#line 1144
                            __cil_tmp130 = (unsigned int )disketteExtension;
#line 1144
                            __cil_tmp131 = __cil_tmp130 + __cil_tmp129;
#line 1144
                            mem_514 = (PWSTR *)__cil_tmp131;
#line 1144
                            __cil_tmp132 = *mem_514;
#line 1144
                            if (! __cil_tmp132) {
#line 1148
                              ntStatus = -1073741811L;
                              goto switch_16_break;
                            } else {
                              {
#line 1144
                              __cil_tmp133 = (unsigned long )4U;
#line 1144
                              __cil_tmp134 = (unsigned int )irpSp;
#line 1144
                              __cil_tmp135 = __cil_tmp134 + 4;
#line 1144
                              mem_515 = (ULONG *)__cil_tmp135;
#line 1144
                              __cil_tmp136 = *mem_515;
#line 1144
                              if (__cil_tmp136 < __cil_tmp133) {
#line 1148
                                ntStatus = -1073741811L;
                                goto switch_16_break;
                              } else {

                              }
                              }
                            }
                            }
#line 1152
                            __cil_tmp137 = (unsigned int )Irp;
#line 1152
                            __cil_tmp138 = __cil_tmp137 + 12;
#line 1152
                            mem_516 = (PVOID *)__cil_tmp138;
#line 1152
                            __cil_tmp139 = *mem_516;
#line 1152
                            uniqueId = (struct _MOUNTDEV_UNIQUE_ID *)__cil_tmp139;
#line 1153
                            __cil_tmp140 = (unsigned int )disketteExtension;
#line 1153
                            __cil_tmp141 = __cil_tmp140 + 376;
#line 1153
                            mem_517 = (USHORT *)uniqueId;
#line 1153
                            mem_518 = (USHORT *)__cil_tmp141;
#line 1153
                            *mem_517 = *mem_518;
                            {
#line 1156
                            mem_519 = (USHORT *)uniqueId;
#line 1156
                            __cil_tmp142 = *mem_519;
#line 1156
                            __cil_tmp143 = (unsigned int )__cil_tmp142;
#line 1156
                            __cil_tmp144 = 2U + __cil_tmp143;
#line 1156
                            __cil_tmp145 = (unsigned long )__cil_tmp144;
#line 1156
                            __cil_tmp146 = (unsigned int )irpSp;
#line 1156
                            __cil_tmp147 = __cil_tmp146 + 4;
#line 1156
                            mem_520 = (ULONG *)__cil_tmp147;
#line 1156
                            __cil_tmp148 = *mem_520;
#line 1156
                            if (__cil_tmp148 < __cil_tmp145) {
#line 1159
                              ntStatus = -2147483643L;
#line 1160
                              __cil_tmp149 = 24 + 4;
#line 1160
                              __cil_tmp150 = (unsigned int )Irp;
#line 1160
                              __cil_tmp151 = __cil_tmp150 + __cil_tmp149;
#line 1160
                              mem_521 = (ULONG_PTR *)__cil_tmp151;
#line 1160
                              *mem_521 = (unsigned long )4U;
                              goto switch_16_break;
                            } else {

                            }
                            }
                            {
#line 1166
                            __cil_tmp152 = 0 * 1U;
#line 1166
                            __cil_tmp153 = 2 + __cil_tmp152;
#line 1166
                            __cil_tmp154 = (unsigned int )uniqueId;
#line 1166
                            __cil_tmp155 = __cil_tmp154 + __cil_tmp153;
#line 1166
                            __cil_tmp156 = (UCHAR *)__cil_tmp155;
#line 1166
                            __cil_tmp157 = (void *)__cil_tmp156;
#line 1166
                            __cil_tmp158 = 376 + 4;
#line 1166
                            __cil_tmp159 = (unsigned int )disketteExtension;
#line 1166
                            __cil_tmp160 = __cil_tmp159 + __cil_tmp158;
#line 1166
                            mem_522 = (PWSTR *)__cil_tmp160;
#line 1166
                            __cil_tmp161 = *mem_522;
#line 1166
                            __cil_tmp162 = (void const   *)__cil_tmp161;
#line 1166
                            mem_523 = (USHORT *)uniqueId;
#line 1166
                            __cil_tmp163 = *mem_523;
#line 1166
                            __cil_tmp164 = (unsigned int )__cil_tmp163;
#line 1166
                            memcpy(__cil_tmp157, __cil_tmp162, __cil_tmp164);
#line 1168
                            ntStatus = 0L;
#line 1169
                            __cil_tmp165 = 24 + 4;
#line 1169
                            __cil_tmp166 = (unsigned int )Irp;
#line 1169
                            __cil_tmp167 = __cil_tmp166 + __cil_tmp165;
#line 1169
                            mem_524 = (USHORT *)uniqueId;
#line 1169
                            __cil_tmp168 = *mem_524;
#line 1169
                            __cil_tmp169 = (unsigned int )__cil_tmp168;
#line 1169
                            __cil_tmp170 = 2U + __cil_tmp169;
#line 1169
                            mem_525 = (ULONG_PTR *)__cil_tmp167;
#line 1169
                            *mem_525 = (unsigned long )__cil_tmp170;
                            }
                            goto switch_16_break;
                            switch_16_exp_2: /* CIL Label */ 
                            {
                            __cil_tmp171 = 6 << 2;
                            __cil_tmp172 = 3 << 14;
                            __cil_tmp173 = 7 << 16;
                            __cil_tmp174 = __cil_tmp173 | __cil_tmp172;

                            }
                            switch_16_exp_3: /* CIL Label */ 
                            {
                            __cil_tmp175 = 11 << 2;
                            __cil_tmp176 = 3 << 14;
                            __cil_tmp177 = 7 << 16;
                            __cil_tmp178 = __cil_tmp177 | __cil_tmp176;

                            }
                            {
#line 1181
                            __cil_tmp179 = (unsigned long )48U;
#line 1181
                            __cil_tmp180 = 0 + 4;
#line 1181
                            __cil_tmp181 = 4 + __cil_tmp180;
#line 1181
                            __cil_tmp182 = (unsigned int )irpSp;
#line 1181
                            __cil_tmp183 = __cil_tmp182 + __cil_tmp181;
#line 1181
                            mem_526 = (ULONG *)__cil_tmp183;
#line 1181
                            __cil_tmp184 = *mem_526;
#line 1181
                            if (__cil_tmp184 < __cil_tmp179) {
                              {
#line 1187
                              while (1) {
                                while_19_continue: /* CIL Label */ ;
                                goto while_19_break;
                              }
                              while_19_break: /* CIL Label */ ;
                              }
#line 1189
                              ntStatus = -1073741811L;
                              goto switch_16_break;
                            } else {

                            }
                            }
                            {
#line 1197
                            __cil_tmp185 = (unsigned int )Irp;
#line 1197
                            __cil_tmp186 = __cil_tmp185 + 12;
#line 1197
                            mem_527 = (PVOID *)__cil_tmp186;
#line 1197
                            __cil_tmp187 = *mem_527;
#line 1197
                            __cil_tmp188 = (struct _FORMAT_PARAMETERS *)__cil_tmp187;
#line 1197
                            tmp___0 = FlCheckFormatParameters(disketteExtension, __cil_tmp188);
                            }
#line 1197
                            if (! tmp___0) {
                              {
#line 1204
                              while (1) {
                                while_20_continue: /* CIL Label */ ;
                                goto while_20_break;
                              }
                              while_20_break: /* CIL Label */ ;
                              }
#line 1206
                              ntStatus = -1073741811L;
                              goto switch_16_break;
                            } else {

                            }
                            {
#line 1214
                            __cil_tmp189 = 11 << 2;
#line 1214
                            __cil_tmp190 = 3 << 14;
#line 1214
                            __cil_tmp191 = 7 << 16;
#line 1214
                            __cil_tmp192 = __cil_tmp191 | __cil_tmp190;
#line 1214
                            __cil_tmp193 = __cil_tmp192 | __cil_tmp189;
#line 1214
                            __cil_tmp194 = (unsigned long )__cil_tmp193;
#line 1214
                            __cil_tmp195 = 0 + 8;
#line 1214
                            __cil_tmp196 = 4 + __cil_tmp195;
#line 1214
                            __cil_tmp197 = (unsigned int )irpSp;
#line 1214
                            __cil_tmp198 = __cil_tmp197 + __cil_tmp196;
#line 1214
                            mem_528 = (ULONG *)__cil_tmp198;
#line 1214
                            __cil_tmp199 = *mem_528;
#line 1214
                            if (__cil_tmp199 == __cil_tmp194) {
                              {
#line 1217
                              __cil_tmp200 = (unsigned long )56U;
#line 1217
                              __cil_tmp201 = 0 + 4;
#line 1217
                              __cil_tmp202 = 4 + __cil_tmp201;
#line 1217
                              __cil_tmp203 = (unsigned int )irpSp;
#line 1217
                              __cil_tmp204 = __cil_tmp203 + __cil_tmp202;
#line 1217
                              mem_529 = (ULONG *)__cil_tmp204;
#line 1217
                              __cil_tmp205 = *mem_529;
#line 1217
                              if (__cil_tmp205 < __cil_tmp200) {
#line 1220
                                ntStatus = -1073741811L;
                                goto switch_16_break;
                              } else {

                              }
                              }
#line 1224
                              __cil_tmp206 = (unsigned int )Irp;
#line 1224
                              __cil_tmp207 = __cil_tmp206 + 12;
#line 1224
                              mem_530 = (PVOID *)__cil_tmp207;
#line 1224
                              __cil_tmp208 = *mem_530;
#line 1224
                              formatExParameters = (struct _FORMAT_EX_PARAMETERS *)__cil_tmp208;
#line 1226
                              __cil_tmp209 = (unsigned int )formatExParameters;
#line 1226
                              __cil_tmp210 = __cil_tmp209 + 50;
#line 1226
                              mem_531 = (USHORT *)__cil_tmp210;
#line 1226
                              __cil_tmp211 = *mem_531;
#line 1226
                              __cil_tmp212 = (unsigned int )__cil_tmp211;
#line 1226
                              __cil_tmp213 = __cil_tmp212 * 2U;
#line 1226
                              __cil_tmp214 = (unsigned long )__cil_tmp213;
#line 1226
                              __cil_tmp215 = (FORMAT_EX_PARAMETERS *)0;
#line 1226
                              __cil_tmp216 = (unsigned int )__cil_tmp215;
#line 1226
                              __cil_tmp217 = __cil_tmp216 + 52;
#line 1226
                              __cil_tmp218 = (USHORT (*)[1])__cil_tmp217;
#line 1226
                              __cil_tmp219 = (long )__cil_tmp218;
#line 1226
                              __cil_tmp220 = (unsigned long )__cil_tmp219;
#line 1226
                              formatExParametersSize = __cil_tmp220 + __cil_tmp214;
                              {
#line 1230
                              __cil_tmp221 = 0 + 4;
#line 1230
                              __cil_tmp222 = 4 + __cil_tmp221;
#line 1230
                              __cil_tmp223 = (unsigned int )irpSp;
#line 1230
                              __cil_tmp224 = __cil_tmp223 + __cil_tmp222;
#line 1230
                              mem_532 = (ULONG *)__cil_tmp224;
#line 1230
                              __cil_tmp225 = *mem_532;
#line 1230
                              if (__cil_tmp225 < formatExParametersSize) {
#line 1235
                                ntStatus = -1073741811L;
                                goto switch_16_break;
                              } else {
                                {
#line 1230
                                __cil_tmp226 = (unsigned int )formatExParameters;
#line 1230
                                __cil_tmp227 = __cil_tmp226 + 48;
#line 1230
                                mem_533 = (USHORT *)__cil_tmp227;
#line 1230
                                __cil_tmp228 = *mem_533;
#line 1230
                                __cil_tmp229 = (int )__cil_tmp228;
#line 1230
                                if (__cil_tmp229 >= 256) {
#line 1235
                                  ntStatus = -1073741811L;
                                  goto switch_16_break;
                                } else {
                                  {
#line 1230
                                  __cil_tmp230 = (unsigned int )formatExParameters;
#line 1230
                                  __cil_tmp231 = __cil_tmp230 + 50;
#line 1230
                                  mem_534 = (USHORT *)__cil_tmp231;
#line 1230
                                  __cil_tmp232 = *mem_534;
#line 1230
                                  __cil_tmp233 = (int )__cil_tmp232;
#line 1230
                                  if (__cil_tmp233 >= 256) {
#line 1235
                                    ntStatus = -1073741811L;
                                    goto switch_16_break;
                                  } else {

                                  }
                                  }
                                }
                                }
                              }
                              }
                            } else {

                            }
                            }
                            switch_16_exp_4: /* CIL Label */ 
                            {
                            __cil_tmp234 = 512 << 2;
                            __cil_tmp235 = 1 << 14;
                            __cil_tmp236 = 7 << 16;
                            __cil_tmp237 = __cil_tmp236 | __cil_tmp235;

                            }
                            switch_16_exp_5: /* CIL Label */ 
                            {
                            __cil_tmp238 = 512 << 2;
                            __cil_tmp239 = 1 << 14;
                            __cil_tmp240 = 45 << 16;
                            __cil_tmp241 = __cil_tmp240 | __cil_tmp239;

                            }
                            switch_16_exp_6: /* CIL Label */ ;
                            switch_16_exp_7: /* CIL Label */ 
                            {
                            __cil_tmp242 = 9 << 2;
                            __cil_tmp243 = 7 << 16;

                            }
                            {
#line 1267
                            while (1) {
                              while_21_continue: /* CIL Label */ ;
                              goto while_21_break;
                            }
                            while_21_break: /* CIL Label */ ;
                            }
                            {
#line 1269
                            ntStatus = FlQueueIrpToThread(Irp, disketteExtension);
                            }
                            goto switch_16_break;
                            switch_16_exp_8: /* CIL Label */ 
                            {
                            __cil_tmp244 = 768 << 2;
                            __cil_tmp245 = 7 << 16;

                            }
                            switch_16_exp_9: /* CIL Label */ 
                            {
                            __cil_tmp246 = 768 << 2;
                            __cil_tmp247 = 45 << 16;

                            }
                            {
#line 1279
                            while (1) {
                              while_22_continue: /* CIL Label */ ;
                              goto while_22_break;
                            }
                            while_22_break: /* CIL Label */ ;
                            }
#line 1281
                            __cil_tmp248 = (unsigned int )disketteExtension;
#line 1281
                            __cil_tmp249 = __cil_tmp248 + 174;
#line 1281
                            mem_535 = (UCHAR *)__cil_tmp249;
#line 1281
                            __cil_tmp250 = *mem_535;
#line 1281
                            __cil_tmp251 = (int )__cil_tmp250;
#line 1281
                            __cil_tmp252 = DriveMediaLimits + __cil_tmp251;
#line 1281
                            __cil_tmp253 = (unsigned int )__cil_tmp252;
#line 1281
                            __cil_tmp254 = __cil_tmp253 + 32;
#line 1281
                            mem_536 = (DRIVE_MEDIA_TYPE *)__cil_tmp254;
#line 1281
                            lowestDriveMediaType = *mem_536;
#line 1283
                            __cil_tmp255 = (unsigned int )disketteExtension;
#line 1283
                            __cil_tmp256 = __cil_tmp255 + 174;
#line 1283
                            mem_537 = (UCHAR *)__cil_tmp256;
#line 1283
                            __cil_tmp257 = *mem_537;
#line 1283
                            __cil_tmp258 = (int )__cil_tmp257;
#line 1283
                            __cil_tmp259 = DriveMediaLimits + __cil_tmp258;
#line 1283
                            mem_538 = (DRIVE_MEDIA_TYPE *)__cil_tmp259;
#line 1283
                            highestDriveMediaType = *mem_538;
#line 1286
                            __cil_tmp260 = (unsigned int )irpSp;
#line 1286
                            __cil_tmp261 = __cil_tmp260 + 4;
#line 1286
                            mem_539 = (ULONG *)__cil_tmp261;
#line 1286
                            outputBufferLength = *mem_539;
                            {
#line 1294
                            __cil_tmp262 = (unsigned long )52U;
#line 1294
                            if (outputBufferLength < __cil_tmp262) {
                              {
#line 1299
                              while (1) {
                                while_23_continue: /* CIL Label */ ;
                                goto while_23_break;
                              }
                              while_23_break: /* CIL Label */ ;
                              }
#line 1301
                              ntStatus = -1073741789L;
                              goto switch_16_break;
                            } else {

                            }
                            }
#line 1311
                            ntStatus = 0L;
                            {
#line 1313
                            __cil_tmp263 = (int )lowestDriveMediaType;
#line 1313
                            __cil_tmp264 = (int )highestDriveMediaType;
#line 1313
                            __cil_tmp265 = __cil_tmp264 - __cil_tmp263;
#line 1313
                            __cil_tmp266 = __cil_tmp265 + 1;
#line 1313
                            __cil_tmp267 = (unsigned int )__cil_tmp266;
#line 1313
                            __cil_tmp268 = 52U * __cil_tmp267;
#line 1313
                            __cil_tmp269 = (unsigned long )__cil_tmp268;
#line 1313
                            if (outputBufferLength < __cil_tmp269) {
                              {
#line 1324
                              while (1) {
                                while_24_continue: /* CIL Label */ ;
                                goto while_24_break;
                              }
                              while_24_break: /* CIL Label */ ;
                              }
#line 1326
                              ntStatus = -2147483643L;
#line 1328
                              __cil_tmp270 = (unsigned long )52U;
#line 1328
                              __cil_tmp271 = outputBufferLength / __cil_tmp270;
#line 1328
                              __cil_tmp272 = (int )lowestDriveMediaType;
#line 1328
                              __cil_tmp273 = __cil_tmp272 - 1;
#line 1328
                              __cil_tmp274 = (unsigned long )__cil_tmp273;
#line 1328
                              __cil_tmp275 = __cil_tmp274 + __cil_tmp271;
#line 1328
                              highestDriveMediaType = (enum _DRIVE_MEDIA_TYPE )__cil_tmp275;
                            } else {

                            }
                            }
#line 1334
                            __cil_tmp276 = (unsigned int )Irp;
#line 1334
                            __cil_tmp277 = __cil_tmp276 + 12;
#line 1334
                            mem_540 = (PVOID *)__cil_tmp277;
#line 1334
                            __cil_tmp278 = *mem_540;
#line 1334
                            outputBuffer = (struct _DISK_GEOMETRY *)__cil_tmp278;
#line 1336
                            i = (unsigned char )lowestDriveMediaType;
                            {
#line 1336
                            while (1) {
                              while_25_continue: /* CIL Label */ ;
                              {
#line 1336
                              __cil_tmp279 = (unsigned char )highestDriveMediaType;
#line 1336
                              __cil_tmp280 = (int )__cil_tmp279;
#line 1336
                              __cil_tmp281 = (int )i;
#line 1336
                              if (__cil_tmp281 <= __cil_tmp280) {

                              } else {
                                goto while_25_break;
                              }
                              }
#line 1341
                              __cil_tmp282 = (unsigned int )outputBuffer;
#line 1341
                              __cil_tmp283 = __cil_tmp282 + 8;
#line 1341
                              __cil_tmp284 = (int )i;
#line 1341
                              __cil_tmp285 = DriveMediaConstants + __cil_tmp284;
#line 1341
                              mem_541 = (MEDIA_TYPE *)__cil_tmp283;
#line 1341
                              mem_542 = (MEDIA_TYPE *)__cil_tmp285;
#line 1341
                              *mem_541 = *mem_542;
#line 1342
                              __cil_tmp286 = (int )i;
#line 1342
                              __cil_tmp287 = DriveMediaConstants + __cil_tmp286;
#line 1342
                              __cil_tmp288 = (unsigned int )__cil_tmp287;
#line 1342
                              __cil_tmp289 = __cil_tmp288 + 48;
#line 1342
                              mem_543 = (UCHAR *)__cil_tmp289;
#line 1342
                              __cil_tmp290 = *mem_543;
#line 1342
                              __cil_tmp291 = (int )__cil_tmp290;
#line 1342
                              __cil_tmp292 = __cil_tmp291 + 1;
#line 1342
                              mem_544 = (ULONG *)outputBuffer;
#line 1342
                              *mem_544 = (unsigned long )__cil_tmp292;
#line 1344
                              __cil_tmp293 = 0 + 4;
#line 1344
                              __cil_tmp294 = 0 + __cil_tmp293;
#line 1344
                              __cil_tmp295 = (unsigned int )outputBuffer;
#line 1344
                              __cil_tmp296 = __cil_tmp295 + __cil_tmp294;
#line 1344
                              mem_545 = (LONG *)__cil_tmp296;
#line 1344
                              *mem_545 = 0L;
#line 1345
                              __cil_tmp297 = (unsigned int )outputBuffer;
#line 1345
                              __cil_tmp298 = __cil_tmp297 + 40;
#line 1345
                              __cil_tmp299 = (int )i;
#line 1345
                              __cil_tmp300 = DriveMediaConstants + __cil_tmp299;
#line 1345
                              __cil_tmp301 = (unsigned int )__cil_tmp300;
#line 1345
                              __cil_tmp302 = __cil_tmp301 + 51;
#line 1345
                              mem_546 = (UCHAR *)__cil_tmp302;
#line 1345
                              __cil_tmp303 = *mem_546;
#line 1345
                              mem_547 = (ULONG *)__cil_tmp298;
#line 1345
                              *mem_547 = (unsigned long )__cil_tmp303;
#line 1347
                              __cil_tmp304 = (unsigned int )outputBuffer;
#line 1347
                              __cil_tmp305 = __cil_tmp304 + 44;
#line 1347
                              __cil_tmp306 = (int )i;
#line 1347
                              __cil_tmp307 = DriveMediaConstants + __cil_tmp306;
#line 1347
                              __cil_tmp308 = (unsigned int )__cil_tmp307;
#line 1347
                              __cil_tmp309 = __cil_tmp308 + 38;
#line 1347
                              mem_548 = (UCHAR *)__cil_tmp309;
#line 1347
                              __cil_tmp310 = *mem_548;
#line 1347
                              mem_549 = (ULONG *)__cil_tmp305;
#line 1347
                              *mem_549 = (unsigned long )__cil_tmp310;
#line 1349
                              __cil_tmp311 = (unsigned int )outputBuffer;
#line 1349
                              __cil_tmp312 = __cil_tmp311 + 48;
#line 1349
                              __cil_tmp313 = (int )i;
#line 1349
                              __cil_tmp314 = DriveMediaConstants + __cil_tmp313;
#line 1349
                              __cil_tmp315 = (unsigned int )__cil_tmp314;
#line 1349
                              __cil_tmp316 = __cil_tmp315 + 36;
#line 1349
                              mem_550 = (USHORT *)__cil_tmp316;
#line 1349
                              __cil_tmp317 = *mem_550;
#line 1349
                              mem_551 = (ULONG *)__cil_tmp312;
#line 1349
                              *mem_551 = (unsigned long )__cil_tmp317;
                              {
#line 1367
                              while (1) {
                                while_26_continue: /* CIL Label */ ;
                                goto while_26_break;
                              }
                              while_26_break: /* CIL Label */ ;
                              }
#line 1368
                              outputBuffer = outputBuffer + 1;
#line 1370
                              __cil_tmp318 = 24 + 4;
#line 1370
                              __cil_tmp319 = (unsigned int )Irp;
#line 1370
                              __cil_tmp320 = __cil_tmp319 + __cil_tmp318;
#line 1370
                              __cil_tmp321 = (unsigned long )52U;
#line 1370
                              __cil_tmp322 = 24 + 4;
#line 1370
                              __cil_tmp323 = (unsigned int )Irp;
#line 1370
                              __cil_tmp324 = __cil_tmp323 + __cil_tmp322;
#line 1370
                              mem_552 = (ULONG_PTR *)__cil_tmp324;
#line 1370
                              __cil_tmp325 = *mem_552;
#line 1370
                              mem_553 = (ULONG_PTR *)__cil_tmp320;
#line 1370
                              *mem_553 = __cil_tmp325 + __cil_tmp321;
#line 1336
                              __cil_tmp326 = (int )i;
#line 1336
                              __cil_tmp327 = __cil_tmp326 + 1;
#line 1336
                              i = (unsigned char )__cil_tmp327;
                            }
                            while_25_break: /* CIL Label */ ;
                            }
                            goto switch_16_break;
                            switch_16_exp_10: /* CIL Label */ 
                            {
                            __cil_tmp328 = 3 << 2;
                            __cil_tmp329 = (unsigned long )__cil_tmp328;
                            __cil_tmp330 = 77UL << 16;

                            }
                            {
#line 1378
                            __cil_tmp331 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 1378
                            __cil_tmp332 = (unsigned int )__cil_tmp331;
#line 1378
                            __cil_tmp333 = __cil_tmp332 + 732;
#line 1378
                            mem_554 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp333;
#line 1378
                            __cil_tmp334 = *mem_554;
#line 1378
                            __cil_tmp335 = (int )__cil_tmp334;
#line 1378
                            if (__cil_tmp335 == 1) {
                              {
#line 1387
                              while (1) {
                                while_27_continue: /* CIL Label */ ;
                                goto while_27_break;
                              }
                              while_27_break: /* CIL Label */ ;
                              }
                              {
#line 1389
                              __cil_tmp336 = (unsigned int )DeviceObject;
#line 1389
                              __cil_tmp337 = __cil_tmp336 + 32;
#line 1389
                              mem_555 = (ULONG *)__cil_tmp337;
#line 1389
                              __cil_tmp338 = *mem_555;
#line 1389
                              __cil_tmp339 = __cil_tmp338 & 1UL;
#line 1389
                              if (! __cil_tmp339) {
#line 1391
                                ntStatus = -1073741275L;
                                goto switch_16_break;
                              } else {

                              }
                              }
                              {
#line 1395
                              __cil_tmp340 = (unsigned long )6U;
#line 1395
                              __cil_tmp341 = (unsigned int )irpSp;
#line 1395
                              __cil_tmp342 = __cil_tmp341 + 4;
#line 1395
                              mem_556 = (ULONG *)__cil_tmp342;
#line 1395
                              __cil_tmp343 = *mem_556;
#line 1395
                              if (__cil_tmp343 < __cil_tmp340) {
#line 1398
                                ntStatus = -1073741811L;
                                goto switch_16_break;
                              } else {

                              }
                              }
                              {
#line 1402
                              __cil_tmp344 = (enum _POOL_TYPE )1;
#line 1402
                              __cil_tmp345 = 2U * 64U;
#line 1402
                              __cil_tmp346 = (unsigned long )__cil_tmp345;
#line 1402
                              tmp___1 = ExAllocatePoolWithTag(__cil_tmp344, __cil_tmp346,
                                                              1886350406UL);
#line 1402
                              valueName = (WCHAR *)tmp___1;
                              }
#line 1404
                              if (! valueName) {
#line 1405
                                ntStatus = -1073741670L;
                                goto switch_16_break;
                              } else {

                              }
                              {
#line 1409
                              __cil_tmp347 = (void *)valueName;
#line 1409
                              __cil_tmp348 = 2U * 64U;
#line 1409
                              memset(__cil_tmp347, 0, __cil_tmp348);
#line 1412
                              __cil_tmp349 = (void *)valueName;
#line 1412
                              __cil_tmp350 = 368 + 4;
#line 1412
                              __cil_tmp351 = (unsigned int )disketteExtension;
#line 1412
                              __cil_tmp352 = __cil_tmp351 + __cil_tmp350;
#line 1412
                              mem_557 = (PWSTR *)__cil_tmp352;
#line 1412
                              __cil_tmp353 = *mem_557;
#line 1412
                              __cil_tmp354 = (void const   *)__cil_tmp353;
#line 1412
                              __cil_tmp355 = (unsigned int )disketteExtension;
#line 1412
                              __cil_tmp356 = __cil_tmp355 + 368;
#line 1412
                              mem_558 = (USHORT *)__cil_tmp356;
#line 1412
                              __cil_tmp357 = *mem_558;
#line 1412
                              __cil_tmp358 = (unsigned int )__cil_tmp357;
#line 1412
                              memcpy(__cil_tmp349, __cil_tmp354, __cil_tmp358);
#line 1414
                              __cil_tmp359 = (unsigned int )(& driveLetterName) + 4;
#line 1414
                              __cil_tmp360 = 0 * 2U;
#line 1414
                              __cil_tmp361 = (unsigned int )(driveLetterNameBuffer) + __cil_tmp360;
#line 1414
                              mem_559 = (PWSTR *)__cil_tmp359;
#line 1414
                              *mem_559 = (WCHAR *)__cil_tmp361;
#line 1415
                              __cil_tmp362 = (unsigned int )(& driveLetterName) + 2;
#line 1415
                              mem_560 = (USHORT *)__cil_tmp362;
#line 1415
                              *mem_560 = (unsigned short)20;
#line 1416
                              __cil_tmp363 = & driveLetterName;
#line 1416
                              mem_561 = (USHORT *)__cil_tmp363;
#line 1416
                              *mem_561 = (unsigned short)0;
#line 1418
                              __cil_tmp364 = 0 * 28U;
#line 1418
                              __cil_tmp365 = (unsigned int )(queryTable) + __cil_tmp364;
#line 1418
                              __cil_tmp366 = (RTL_QUERY_REGISTRY_TABLE *)__cil_tmp365;
#line 1418
                              __cil_tmp367 = (void *)__cil_tmp366;
#line 1418
                              __cil_tmp368 = 2U * 28U;
#line 1418
                              memset(__cil_tmp367, 0, __cil_tmp368);
#line 1419
                              __cil_tmp369 = 0 * 28U;
#line 1419
                              __cil_tmp370 = __cil_tmp369 + 4;
#line 1419
                              __cil_tmp371 = (unsigned int )(queryTable) + __cil_tmp370;
#line 1419
                              mem_562 = (ULONG *)__cil_tmp371;
#line 1419
                              *mem_562 = 36UL;
#line 1421
                              __cil_tmp372 = 0 * 28U;
#line 1421
                              __cil_tmp373 = __cil_tmp372 + 8;
#line 1421
                              __cil_tmp374 = (unsigned int )(queryTable) + __cil_tmp373;
#line 1421
                              mem_563 = (PWSTR *)__cil_tmp374;
#line 1421
                              *mem_563 = valueName;
#line 1422
                              __cil_tmp375 = 0 * 28U;
#line 1422
                              __cil_tmp376 = __cil_tmp375 + 12;
#line 1422
                              __cil_tmp377 = (unsigned int )(queryTable) + __cil_tmp376;
#line 1422
                              mem_564 = (PVOID *)__cil_tmp377;
#line 1422
                              *mem_564 = (void *)(& driveLetterName);
#line 1424
                              __cil_tmp378 = (WCHAR const   *)"\\\000R\000e\000g\000i\000s\000t\000r\000y\000\\\000M\000a\000c\000h\000i\000n\000e\000\\\000S\000y\000s\000t\000e\000m\000\\\000D\000I\000S\000K\000";
#line 1424
                              __cil_tmp379 = 0 * 28U;
#line 1424
                              __cil_tmp380 = (unsigned int )(queryTable) + __cil_tmp379;
#line 1424
                              __cil_tmp381 = (RTL_QUERY_REGISTRY_TABLE *)__cil_tmp380;
#line 1424
                              __cil_tmp382 = (void *)0;
#line 1424
                              __cil_tmp383 = (void *)0;
#line 1424
                              ntStatus = RtlQueryRegistryValues(0UL, __cil_tmp378,
                                                                __cil_tmp381, __cil_tmp382,
                                                                __cil_tmp383);
                              }
                              {
#line 1428
                              __cil_tmp384 = ntStatus >= 0L;
#line 1428
                              if (! __cil_tmp384) {
                                {
#line 1429
                                __cil_tmp385 = (void *)valueName;
#line 1429
                                ExFreePool(__cil_tmp385);
                                }
                                goto switch_16_break;
                              } else {

                              }
                              }
                              {
#line 1433
                              __cil_tmp386 = & driveLetterName;
#line 1433
                              mem_565 = (USHORT *)__cil_tmp386;
#line 1433
                              __cil_tmp387 = *mem_565;
#line 1433
                              __cil_tmp388 = (int )__cil_tmp387;
#line 1433
                              if (__cil_tmp388 != 4) {
                                {
#line 1438
                                ntStatus = -1073741275L;
#line 1439
                                __cil_tmp389 = (void *)valueName;
#line 1439
                                ExFreePool(__cil_tmp389);
                                }
                                goto switch_16_break;
                              } else {
                                {
#line 1433
                                __cil_tmp390 = (unsigned int )(& driveLetterName) + 4;
#line 1433
                                mem_566 = (PWSTR *)__cil_tmp390;
#line 1433
                                __cil_tmp391 = *mem_566;
#line 1433
                                __cil_tmp392 = __cil_tmp391 + 0;
#line 1433
                                __cil_tmp393 = *__cil_tmp392;
#line 1433
                                __cil_tmp394 = (int )__cil_tmp393;
#line 1433
                                if (__cil_tmp394 < 65) {
                                  {
#line 1438
                                  ntStatus = -1073741275L;
#line 1439
                                  __cil_tmp395 = (void *)valueName;
#line 1439
                                  ExFreePool(__cil_tmp395);
                                  }
                                  goto switch_16_break;
                                } else {
                                  {
#line 1433
                                  __cil_tmp396 = (unsigned int )(& driveLetterName) + 4;
#line 1433
                                  mem_567 = (PWSTR *)__cil_tmp396;
#line 1433
                                  __cil_tmp397 = *mem_567;
#line 1433
                                  __cil_tmp398 = __cil_tmp397 + 0;
#line 1433
                                  __cil_tmp399 = *__cil_tmp398;
#line 1433
                                  __cil_tmp400 = (int )__cil_tmp399;
#line 1433
                                  if (__cil_tmp400 > 90) {
                                    {
#line 1438
                                    ntStatus = -1073741275L;
#line 1439
                                    __cil_tmp401 = (void *)valueName;
#line 1439
                                    ExFreePool(__cil_tmp401);
                                    }
                                    goto switch_16_break;
                                  } else {
                                    {
#line 1433
                                    __cil_tmp402 = (unsigned int )(& driveLetterName) + 4;
#line 1433
                                    mem_568 = (PWSTR *)__cil_tmp402;
#line 1433
                                    __cil_tmp403 = *mem_568;
#line 1433
                                    __cil_tmp404 = __cil_tmp403 + 1;
#line 1433
                                    __cil_tmp405 = *__cil_tmp404;
#line 1433
                                    __cil_tmp406 = (int )__cil_tmp405;
#line 1433
                                    if (__cil_tmp406 != 58) {
                                      {
#line 1438
                                      ntStatus = -1073741275L;
#line 1439
                                      __cil_tmp407 = (void *)valueName;
#line 1439
                                      ExFreePool(__cil_tmp407);
                                      }
                                      goto switch_16_break;
                                    } else {

                                    }
                                    }
                                  }
                                  }
                                }
                                }
                              }
                              }
#line 1443
                              __cil_tmp408 = (unsigned int )Irp;
#line 1443
                              __cil_tmp409 = __cil_tmp408 + 12;
#line 1443
                              mem_569 = (PVOID *)__cil_tmp409;
#line 1443
                              __cil_tmp410 = *mem_569;
#line 1443
                              suggestedName = (struct _MOUNTDEV_SUGGESTED_LINK_NAME *)__cil_tmp410;
#line 1444
                              mem_570 = (BOOLEAN *)suggestedName;
#line 1444
                              *mem_570 = (unsigned char)1;
#line 1445
                              __cil_tmp411 = (unsigned int )suggestedName;
#line 1445
                              __cil_tmp412 = __cil_tmp411 + 2;
#line 1445
                              mem_571 = (USHORT *)__cil_tmp412;
#line 1445
                              *mem_571 = (unsigned short)28;
#line 1447
                              __cil_tmp413 = 24 + 4;
#line 1447
                              __cil_tmp414 = (unsigned int )Irp;
#line 1447
                              __cil_tmp415 = __cil_tmp414 + __cil_tmp413;
#line 1447
                              __cil_tmp416 = (MOUNTDEV_SUGGESTED_LINK_NAME *)0;
#line 1447
                              __cil_tmp417 = (unsigned int )__cil_tmp416;
#line 1447
                              __cil_tmp418 = __cil_tmp417 + 4;
#line 1447
                              __cil_tmp419 = (WCHAR (*)[1])__cil_tmp418;
#line 1447
                              __cil_tmp420 = (long )__cil_tmp419;
#line 1447
                              __cil_tmp421 = __cil_tmp420 + 28L;
#line 1447
                              mem_572 = (ULONG_PTR *)__cil_tmp415;
#line 1447
                              *mem_572 = (unsigned long )__cil_tmp421;
                              {
#line 1450
                              __cil_tmp422 = 24 + 4;
#line 1450
                              __cil_tmp423 = (unsigned int )Irp;
#line 1450
                              __cil_tmp424 = __cil_tmp423 + __cil_tmp422;
#line 1450
                              mem_573 = (ULONG_PTR *)__cil_tmp424;
#line 1450
                              __cil_tmp425 = *mem_573;
#line 1450
                              __cil_tmp426 = (unsigned int )irpSp;
#line 1450
                              __cil_tmp427 = __cil_tmp426 + 4;
#line 1450
                              mem_574 = (ULONG *)__cil_tmp427;
#line 1450
                              __cil_tmp428 = *mem_574;
#line 1450
                              if (__cil_tmp428 < __cil_tmp425) {
                                {
#line 1453
                                __cil_tmp429 = 24 + 4;
#line 1453
                                __cil_tmp430 = (unsigned int )Irp;
#line 1453
                                __cil_tmp431 = __cil_tmp430 + __cil_tmp429;
#line 1453
                                mem_575 = (ULONG_PTR *)__cil_tmp431;
#line 1453
                                *mem_575 = (unsigned long )6U;
#line 1455
                                ntStatus = -2147483643L;
#line 1456
                                __cil_tmp432 = (void *)valueName;
#line 1456
                                ExFreePool(__cil_tmp432);
                                }
                                goto switch_16_break;
                              } else {

                              }
                              }
                              {
#line 1460
                              __cil_tmp433 = (WCHAR const   *)"\\\000R\000e\000g\000i\000s\000t\000r\000y\000\\\000M\000a\000c\000h\000i\000n\000e\000\\\000S\000y\000s\000t\000e\000m\000\\\000D\000I\000S\000K\000";
#line 1460
                              __cil_tmp434 = (WCHAR const   *)valueName;
#line 1460
                              RtlDeleteRegistryValue(0UL, __cil_tmp433, __cil_tmp434);
#line 1464
                              __cil_tmp435 = (void *)valueName;
#line 1464
                              ExFreePool(__cil_tmp435);
#line 1466
                              __cil_tmp436 = 0 * 2U;
#line 1466
                              __cil_tmp437 = 4 + __cil_tmp436;
#line 1466
                              __cil_tmp438 = (unsigned int )suggestedName;
#line 1466
                              __cil_tmp439 = __cil_tmp438 + __cil_tmp437;
#line 1466
                              __cil_tmp440 = (WCHAR *)__cil_tmp439;
#line 1466
                              __cil_tmp441 = (void *)__cil_tmp440;
#line 1466
                              __cil_tmp442 = (void const   *)"\\\000D\000o\000s\000D\000e\000v\000i\000c\000e\000s\000\\\000";
#line 1466
                              memcpy(__cil_tmp441, __cil_tmp442, 24U);
#line 1467
                              __cil_tmp443 = 12 * 2U;
#line 1467
                              __cil_tmp444 = 4 + __cil_tmp443;
#line 1467
                              __cil_tmp445 = (unsigned int )suggestedName;
#line 1467
                              __cil_tmp446 = __cil_tmp445 + __cil_tmp444;
#line 1467
                              __cil_tmp447 = (unsigned int )(& driveLetterName) + 4;
#line 1467
                              mem_576 = (PWSTR *)__cil_tmp447;
#line 1467
                              __cil_tmp448 = *mem_576;
#line 1467
                              __cil_tmp449 = __cil_tmp448 + 0;
#line 1467
                              mem_577 = (WCHAR *)__cil_tmp446;
#line 1467
                              *mem_577 = *__cil_tmp449;
#line 1468
                              __cil_tmp450 = 13 * 2U;
#line 1468
                              __cil_tmp451 = 4 + __cil_tmp450;
#line 1468
                              __cil_tmp452 = (unsigned int )suggestedName;
#line 1468
                              __cil_tmp453 = __cil_tmp452 + __cil_tmp451;
#line 1468
                              mem_578 = (WCHAR *)__cil_tmp453;
#line 1468
                              *mem_578 = (unsigned short )':';
                              }
                              goto switch_16_break;
                            } else {

                            }
                            }
                            switch_16_exp_11: /* CIL Label */ 
                            {
                            __cil_tmp454 = 248 << 2;
                            __cil_tmp455 = 7 << 16;

                            }
                            {
#line 1478
                            __cil_tmp456 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 1478
                            __cil_tmp457 = (unsigned int )__cil_tmp456;
#line 1478
                            __cil_tmp458 = __cil_tmp457 + 732;
#line 1478
                            mem_579 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp458;
#line 1478
                            __cil_tmp459 = *mem_579;
#line 1478
                            __cil_tmp460 = (int )__cil_tmp459;
#line 1478
                            if (__cil_tmp460 == 1) {
                              {
#line 1482
                              while (1) {
                                while_28_continue: /* CIL Label */ ;
                                goto while_28_break;
                              }
                              while_28_break: /* CIL Label */ ;
                              }
                              {
#line 1488
                              __cil_tmp461 = (unsigned long )1U;
#line 1488
                              __cil_tmp462 = (unsigned int )irpSp;
#line 1488
                              __cil_tmp463 = __cil_tmp462 + 4;
#line 1488
                              mem_580 = (ULONG *)__cil_tmp463;
#line 1488
                              __cil_tmp464 = *mem_580;
#line 1488
                              if (__cil_tmp464 < __cil_tmp461) {
                                {
#line 1494
                                while (1) {
                                  while_29_continue: /* CIL Label */ ;
                                  goto while_29_break;
                                }
                                while_29_break: /* CIL Label */ ;
                                }
#line 1496
                                ntStatus = -1073741811L;
                                goto switch_16_break;
                              } else {

                              }
                              }
                              {
#line 1507
                              while (1) {
                                while_30_continue: /* CIL Label */ ;
                                goto while_30_break;
                              }
                              while_30_break: /* CIL Label */ ;
                              }
                              {
#line 1510
                              ntStatus = FlQueueIrpToThread(Irp, disketteExtension);
                              }
                              goto switch_16_break;
                            } else {

                            }
                            }
                            switch_16_default: /* CIL Label */ ;
#line 1533
                            if (s == 1) {
#line 1533
                              s = 3;
                            } else {
                              {
#line 1534
                              __VERIFIER_assert(0);
                              }
                            }
                            {
#line 1535
                            __cil_tmp465 = (unsigned int )Irp;
#line 1535
                            __cil_tmp466 = __cil_tmp465 + 35;
#line 1535
                            __cil_tmp467 = (unsigned int )Irp;
#line 1535
                            __cil_tmp468 = __cil_tmp467 + 35;
#line 1535
                            mem_581 = (CHAR *)__cil_tmp468;
#line 1535
                            __cil_tmp469 = *mem_581;
#line 1535
                            __cil_tmp470 = (int )__cil_tmp469;
#line 1535
                            __cil_tmp471 = __cil_tmp470 + 1;
#line 1535
                            mem_582 = (CHAR *)__cil_tmp466;
#line 1535
                            *mem_582 = (char )__cil_tmp471;
#line 1535
                            __cil_tmp472 = 24 + 8;
#line 1535
                            __cil_tmp473 = 0 + __cil_tmp472;
#line 1535
                            __cil_tmp474 = 64 + __cil_tmp473;
#line 1535
                            __cil_tmp475 = (unsigned int )Irp;
#line 1535
                            __cil_tmp476 = __cil_tmp475 + __cil_tmp474;
#line 1535
                            __cil_tmp477 = 24 + 8;
#line 1535
                            __cil_tmp478 = 0 + __cil_tmp477;
#line 1535
                            __cil_tmp479 = 64 + __cil_tmp478;
#line 1535
                            __cil_tmp480 = (unsigned int )Irp;
#line 1535
                            __cil_tmp481 = __cil_tmp480 + __cil_tmp479;
#line 1535
                            mem_583 = (struct _IO_STACK_LOCATION **)__cil_tmp481;
#line 1535
                            __cil_tmp482 = *mem_583;
#line 1535
                            mem_584 = (struct _IO_STACK_LOCATION **)__cil_tmp476;
#line 1535
                            *mem_584 = __cil_tmp482 + 1;
#line 1536
                            __cil_tmp483 = (unsigned int )disketteExtension;
#line 1536
                            __cil_tmp484 = __cil_tmp483 + 8;
#line 1536
                            mem_585 = (PDEVICE_OBJECT *)__cil_tmp484;
#line 1536
                            __cil_tmp485 = *mem_585;
#line 1536
                            ntStatus = IofCallDriver(__cil_tmp485, Irp);
                            }
#line 1537
                            return (ntStatus);
                          } else {
                            switch_16_break: /* CIL Label */ ;
                          }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  }
#line 1541
  if (ntStatus != 259L) {
#line 1543
    __cil_tmp486 = (unsigned int )Irp;
#line 1543
    __cil_tmp487 = __cil_tmp486 + 24;
#line 1543
    mem_586 = (NTSTATUS *)__cil_tmp487;
#line 1543
    *mem_586 = ntStatus;
#line 1544
    myStatus = ntStatus;
    {
#line 1546
    __cil_tmp488 = ntStatus >= 0L;
#line 1546
    if (! __cil_tmp488) {
#line 1546
      if (ntStatus == -1073741661L) {
#line 1546
        tmp___2 = 1;
      } else {
#line 1546
        if (ntStatus == -1073741643L) {
#line 1546
          tmp___2 = 1;
        } else {
#line 1546
          if (ntStatus == -1073741662L) {
#line 1546
            tmp___2 = 1;
          } else {
#line 1546
            if (ntStatus == -1073741805L) {
#line 1546
              tmp___2 = 1;
            } else {
#line 1546
              if (ntStatus == -2147483626L) {
#line 1546
                tmp___2 = 1;
              } else {
#line 1546
                if (ntStatus == -1073741804L) {
#line 1546
                  tmp___2 = 1;
                } else {
#line 1546
                  if (ntStatus == -1073741806L) {
#line 1546
                    tmp___2 = 1;
                  } else {
#line 1546
                    tmp___2 = 0;
                  }
                }
              }
            }
          }
        }
      }
#line 1546
      if ((unsigned char )tmp___2) {
        {
#line 1547
        IoSetHardErrorOrVerifyDevice(Irp, DeviceObject);
        }
      } else {

      }
    } else {

    }
    }
    {
#line 1550
    IofCompleteRequest(Irp, (char)0);
    }
  } else {

  }
#line 1553
  return (ntStatus);
}
}
#line 1556 "floppy.c"
NTSTATUS FloppyPnp(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ PIO_STACK_LOCATION irpSp ;
  PDISKETTE_EXTENSION disketteExtension ;
  NTSTATUS ntStatus ;
  KEVENT doneEvent ;
  PIO_STACK_LOCATION irpSp___0 ;
  PIO_STACK_LOCATION nextIrpSp ;
  PIO_STACK_LOCATION irpSp___1 ;
  PCONFIGURATION_INFORMATION tmp ;
  void *__cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  PVOID __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  UCHAR __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  UCHAR __cil_tmp32 ;
  int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  BOOLEAN __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  CHAR __cil_tmp41 ;
  int __cil_tmp42 ;
  int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  struct _IO_STACK_LOCATION *__cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  PDEVICE_OBJECT __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  FAST_MUTEX *__cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  FAST_MUTEX *__cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  PKTHREAD __cil_tmp68 ;
  void *__cil_tmp69 ;
  enum _KWAIT_REASON __cil_tmp70 ;
  void *__cil_tmp71 ;
  LARGE_INTEGER *__cil_tmp72 ;
  void *__cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  PKTHREAD __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  unsigned int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  PKTHREAD __cil_tmp81 ;
  void *__cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  void *__cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  unsigned int __cil_tmp89 ;
  unsigned int __cil_tmp90 ;
  unsigned int __cil_tmp91 ;
  CHAR __cil_tmp92 ;
  int __cil_tmp93 ;
  int __cil_tmp94 ;
  unsigned int __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  unsigned int __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  unsigned int __cil_tmp100 ;
  unsigned int __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  struct _IO_STACK_LOCATION *__cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  PDEVICE_OBJECT __cil_tmp108 ;
  unsigned int __cil_tmp109 ;
  unsigned int __cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  unsigned int __cil_tmp113 ;
  unsigned int __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  UCHAR __cil_tmp116 ;
  int __cil_tmp117 ;
  unsigned int __cil_tmp118 ;
  unsigned int __cil_tmp119 ;
  BOOLEAN __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  unsigned int __cil_tmp123 ;
  unsigned int __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  unsigned int __cil_tmp126 ;
  CHAR __cil_tmp127 ;
  int __cil_tmp128 ;
  int __cil_tmp129 ;
  unsigned int __cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  unsigned int __cil_tmp135 ;
  unsigned int __cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  unsigned int __cil_tmp139 ;
  struct _IO_STACK_LOCATION *__cil_tmp140 ;
  unsigned int __cil_tmp141 ;
  unsigned int __cil_tmp142 ;
  PDEVICE_OBJECT __cil_tmp143 ;
  unsigned int __cil_tmp144 ;
  unsigned int __cil_tmp145 ;
  unsigned int __cil_tmp146 ;
  unsigned int __cil_tmp147 ;
  unsigned int __cil_tmp148 ;
  unsigned int __cil_tmp149 ;
  unsigned int __cil_tmp150 ;
  unsigned int __cil_tmp151 ;
  unsigned int __cil_tmp152 ;
  unsigned int __cil_tmp153 ;
  unsigned int __cil_tmp154 ;
  unsigned int __cil_tmp155 ;
  struct _IO_STACK_LOCATION *__cil_tmp156 ;
  void *__cil_tmp157 ;
  void const   *__cil_tmp158 ;
  IO_STACK_LOCATION *__cil_tmp159 ;
  unsigned int __cil_tmp160 ;
  unsigned int __cil_tmp161 ;
  NTSTATUS (**__cil_tmp162)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
  long __cil_tmp163 ;
  unsigned int __cil_tmp164 ;
  unsigned int __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  enum _EVENT_TYPE __cil_tmp167 ;
  unsigned int __cil_tmp168 ;
  unsigned int __cil_tmp169 ;
  unsigned int __cil_tmp170 ;
  unsigned int __cil_tmp171 ;
  unsigned int __cil_tmp172 ;
  struct _IO_STACK_LOCATION *__cil_tmp173 ;
  unsigned int __cil_tmp174 ;
  unsigned int __cil_tmp175 ;
  unsigned int __cil_tmp176 ;
  unsigned int __cil_tmp177 ;
  unsigned int __cil_tmp178 ;
  unsigned int __cil_tmp179 ;
  unsigned int __cil_tmp180 ;
  unsigned int __cil_tmp181 ;
  unsigned int __cil_tmp182 ;
  unsigned int __cil_tmp183 ;
  unsigned int __cil_tmp184 ;
  unsigned int __cil_tmp185 ;
  UCHAR __cil_tmp186 ;
  int __cil_tmp187 ;
  int __cil_tmp188 ;
  unsigned int __cil_tmp189 ;
  unsigned int __cil_tmp190 ;
  unsigned int __cil_tmp191 ;
  unsigned int __cil_tmp192 ;
  UCHAR __cil_tmp193 ;
  int __cil_tmp194 ;
  int __cil_tmp195 ;
  unsigned int __cil_tmp196 ;
  unsigned int __cil_tmp197 ;
  PDEVICE_OBJECT __cil_tmp198 ;
  void *__cil_tmp199 ;
  enum _KWAIT_REASON __cil_tmp200 ;
  void *__cil_tmp201 ;
  LARGE_INTEGER *__cil_tmp202 ;
  unsigned int __cil_tmp203 ;
  unsigned int __cil_tmp204 ;
  FAST_MUTEX *__cil_tmp205 ;
  unsigned int __cil_tmp206 ;
  unsigned int __cil_tmp207 ;
  unsigned int __cil_tmp208 ;
  unsigned int __cil_tmp209 ;
  FAST_MUTEX *__cil_tmp210 ;
  unsigned int __cil_tmp211 ;
  unsigned int __cil_tmp212 ;
  unsigned int __cil_tmp213 ;
  unsigned int __cil_tmp214 ;
  unsigned int __cil_tmp215 ;
  unsigned int __cil_tmp216 ;
  unsigned int __cil_tmp217 ;
  unsigned int __cil_tmp218 ;
  unsigned int __cil_tmp219 ;
  unsigned int __cil_tmp220 ;
  unsigned int __cil_tmp221 ;
  unsigned int __cil_tmp222 ;
  unsigned int __cil_tmp223 ;
  CHAR __cil_tmp224 ;
  int __cil_tmp225 ;
  int __cil_tmp226 ;
  unsigned int __cil_tmp227 ;
  unsigned int __cil_tmp228 ;
  unsigned int __cil_tmp229 ;
  unsigned int __cil_tmp230 ;
  unsigned int __cil_tmp231 ;
  unsigned int __cil_tmp232 ;
  unsigned int __cil_tmp233 ;
  unsigned int __cil_tmp234 ;
  unsigned int __cil_tmp235 ;
  unsigned int __cil_tmp236 ;
  struct _IO_STACK_LOCATION *__cil_tmp237 ;
  unsigned int __cil_tmp238 ;
  unsigned int __cil_tmp239 ;
  PDEVICE_OBJECT __cil_tmp240 ;
  unsigned int __cil_tmp241 ;
  unsigned int __cil_tmp242 ;
  FAST_MUTEX *__cil_tmp243 ;
  unsigned int __cil_tmp244 ;
  unsigned int __cil_tmp245 ;
  unsigned int __cil_tmp246 ;
  unsigned int __cil_tmp247 ;
  FAST_MUTEX *__cil_tmp248 ;
  unsigned int __cil_tmp249 ;
  unsigned int __cil_tmp250 ;
  unsigned int __cil_tmp251 ;
  unsigned int __cil_tmp252 ;
  unsigned int __cil_tmp253 ;
  unsigned int __cil_tmp254 ;
  unsigned int __cil_tmp255 ;
  unsigned int __cil_tmp256 ;
  CHAR __cil_tmp257 ;
  int __cil_tmp258 ;
  int __cil_tmp259 ;
  unsigned int __cil_tmp260 ;
  unsigned int __cil_tmp261 ;
  unsigned int __cil_tmp262 ;
  unsigned int __cil_tmp263 ;
  unsigned int __cil_tmp264 ;
  unsigned int __cil_tmp265 ;
  unsigned int __cil_tmp266 ;
  unsigned int __cil_tmp267 ;
  unsigned int __cil_tmp268 ;
  unsigned int __cil_tmp269 ;
  struct _IO_STACK_LOCATION *__cil_tmp270 ;
  unsigned int __cil_tmp271 ;
  unsigned int __cil_tmp272 ;
  unsigned int __cil_tmp273 ;
  unsigned int __cil_tmp274 ;
  PDEVICE_OBJECT __cil_tmp275 ;
  void *__cil_tmp276 ;
  unsigned int __cil_tmp277 ;
  unsigned int __cil_tmp278 ;
  unsigned int __cil_tmp279 ;
  unsigned int __cil_tmp280 ;
  PWSTR __cil_tmp281 ;
  unsigned int __cil_tmp282 ;
  unsigned int __cil_tmp283 ;
  unsigned int __cil_tmp284 ;
  UNICODE_STRING *__cil_tmp285 ;
  unsigned int __cil_tmp286 ;
  unsigned int __cil_tmp287 ;
  UNICODE_STRING *__cil_tmp288 ;
  unsigned int __cil_tmp289 ;
  unsigned int __cil_tmp290 ;
  UNICODE_STRING *__cil_tmp291 ;
  void *__cil_tmp292 ;
  WCHAR const   *__cil_tmp293 ;
  unsigned int __cil_tmp294 ;
  unsigned int __cil_tmp295 ;
  UNICODE_STRING *__cil_tmp296 ;
  unsigned int __cil_tmp297 ;
  unsigned int __cil_tmp298 ;
  UNICODE_STRING *__cil_tmp299 ;
  void *__cil_tmp300 ;
  WCHAR const   *__cil_tmp301 ;
  unsigned int __cil_tmp302 ;
  unsigned int __cil_tmp303 ;
  USHORT __cil_tmp304 ;
  int __cil_tmp305 ;
  unsigned int __cil_tmp306 ;
  unsigned int __cil_tmp307 ;
  UNICODE_STRING *__cil_tmp308 ;
  unsigned int __cil_tmp309 ;
  unsigned int __cil_tmp310 ;
  UNICODE_STRING *__cil_tmp311 ;
  unsigned int __cil_tmp312 ;
  unsigned int __cil_tmp313 ;
  UNICODE_STRING *__cil_tmp314 ;
  void *__cil_tmp315 ;
  WCHAR const   *__cil_tmp316 ;
  unsigned int __cil_tmp317 ;
  unsigned int __cil_tmp318 ;
  PDEVICE_OBJECT __cil_tmp319 ;
  unsigned int __cil_tmp320 ;
  unsigned int __cil_tmp321 ;
  unsigned int __cil_tmp322 ;
  unsigned int __cil_tmp323 ;
  ULONG __cil_tmp324 ;
  unsigned int __cil_tmp325 ;
  unsigned int __cil_tmp326 ;
  unsigned int __cil_tmp327 ;
  unsigned int __cil_tmp328 ;
  CHAR __cil_tmp329 ;
  int __cil_tmp330 ;
  int __cil_tmp331 ;
  unsigned int __cil_tmp332 ;
  unsigned int __cil_tmp333 ;
  unsigned int __cil_tmp334 ;
  unsigned int __cil_tmp335 ;
  unsigned int __cil_tmp336 ;
  unsigned int __cil_tmp337 ;
  unsigned int __cil_tmp338 ;
  unsigned int __cil_tmp339 ;
  unsigned int __cil_tmp340 ;
  unsigned int __cil_tmp341 ;
  struct _IO_STACK_LOCATION *__cil_tmp342 ;
  unsigned int __cil_tmp343 ;
  unsigned int __cil_tmp344 ;
  PDEVICE_OBJECT __cil_tmp345 ;
  void *__cil_tmp346 ;
  PVOID *mem_347 ;
  struct _IO_STACK_LOCATION **mem_348 ;
  BOOLEAN *mem_349 ;
  ULONG_PTR *mem_350 ;
  NTSTATUS *mem_351 ;
  UCHAR *mem_352 ;
  UCHAR *mem_353 ;
  BOOLEAN *mem_354 ;
  CHAR *mem_355 ;
  CHAR *mem_356 ;
  struct _IO_STACK_LOCATION **mem_357 ;
  struct _IO_STACK_LOCATION **mem_358 ;
  PDEVICE_OBJECT *mem_359 ;
  BOOLEAN *mem_360 ;
  PKTHREAD *mem_361 ;
  PKTHREAD *mem_362 ;
  PKTHREAD *mem_363 ;
  PKTHREAD *mem_364 ;
  NTSTATUS *mem_365 ;
  CHAR *mem_366 ;
  CHAR *mem_367 ;
  struct _IO_STACK_LOCATION **mem_368 ;
  struct _IO_STACK_LOCATION **mem_369 ;
  PDEVICE_OBJECT *mem_370 ;
  NTSTATUS *mem_371 ;
  ULONG_PTR *mem_372 ;
  UCHAR *mem_373 ;
  BOOLEAN *mem_374 ;
  NTSTATUS *mem_375 ;
  CHAR *mem_376 ;
  CHAR *mem_377 ;
  struct _IO_STACK_LOCATION **mem_378 ;
  struct _IO_STACK_LOCATION **mem_379 ;
  PDEVICE_OBJECT *mem_380 ;
  NTSTATUS *mem_381 ;
  struct _IO_STACK_LOCATION **mem_382 ;
  struct _IO_STACK_LOCATION **mem_383 ;
  UCHAR *mem_384 ;
  struct _IO_STACK_LOCATION **mem_385 ;
  NTSTATUS (**mem_386)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
  PVOID *mem_387 ;
  UCHAR *mem_388 ;
  UCHAR *mem_389 ;
  UCHAR *mem_390 ;
  UCHAR *mem_391 ;
  UCHAR *mem_392 ;
  UCHAR *mem_393 ;
  PDEVICE_OBJECT *mem_394 ;
  BOOLEAN *mem_395 ;
  NTSTATUS *mem_396 ;
  ULONG_PTR *mem_397 ;
  BOOLEAN *mem_398 ;
  NTSTATUS *mem_399 ;
  CHAR *mem_400 ;
  CHAR *mem_401 ;
  struct _IO_STACK_LOCATION **mem_402 ;
  struct _IO_STACK_LOCATION **mem_403 ;
  PDEVICE_OBJECT *mem_404 ;
  BOOLEAN *mem_405 ;
  BOOLEAN *mem_406 ;
  BOOLEAN *mem_407 ;
  CHAR *mem_408 ;
  CHAR *mem_409 ;
  struct _IO_STACK_LOCATION **mem_410 ;
  struct _IO_STACK_LOCATION **mem_411 ;
  NTSTATUS *mem_412 ;
  PDEVICE_OBJECT *mem_413 ;
  PWSTR *mem_414 ;
  USHORT *mem_415 ;
  PDEVICE_OBJECT *mem_416 ;
  ULONG *mem_417 ;
  ULONG *mem_418 ;
  CHAR *mem_419 ;
  CHAR *mem_420 ;
  struct _IO_STACK_LOCATION **mem_421 ;
  struct _IO_STACK_LOCATION **mem_422 ;
  PDEVICE_OBJECT *mem_423 ;

  {
#line 1580
  ntStatus = 0L;
  {
#line 1583
  while (1) {
    while_31_continue: /* CIL Label */ ;
    goto while_31_break;
  }
  while_31_break: /* CIL Label */ ;
  }
  {
#line 1588
  ExAcquireFastMutex(PagingMutex);
#line 1588
  PagingReferenceCount = PagingReferenceCount + 1UL;
  }
#line 1588
  if (PagingReferenceCount == 1UL) {
    {
#line 1588
    __cil_tmp11 = (void *)(& DriverEntry);
#line 1588
    MmResetDriverPaging(__cil_tmp11);
    }
  } else {

  }
  {
#line 1588
  ExReleaseFastMutex(PagingMutex);
#line 1591
  __cil_tmp12 = (unsigned int )DeviceObject;
#line 1591
  __cil_tmp13 = __cil_tmp12 + 40;
#line 1591
  mem_347 = (PVOID *)__cil_tmp13;
#line 1591
  __cil_tmp14 = *mem_347;
#line 1591
  disketteExtension = (DISKETTE_EXTENSION *)__cil_tmp14;
#line 1593
  __cil_tmp15 = 24 + 8;
#line 1593
  __cil_tmp16 = 0 + __cil_tmp15;
#line 1593
  __cil_tmp17 = 64 + __cil_tmp16;
#line 1593
  __cil_tmp18 = (unsigned int )Irp;
#line 1593
  __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
#line 1593
  mem_348 = (struct _IO_STACK_LOCATION **)__cil_tmp19;
#line 1593
  irpSp = *mem_348;
  }
  {
#line 1595
  __cil_tmp20 = (unsigned int )disketteExtension;
#line 1595
  __cil_tmp21 = __cil_tmp20 + 13;
  {
#line 1595
  mem_349 = (BOOLEAN *)__cil_tmp21;
#line 1595
  if (*mem_349) {
    {
#line 1601
    __cil_tmp22 = 24 + 4;
#line 1601
    __cil_tmp23 = (unsigned int )Irp;
#line 1601
    __cil_tmp24 = __cil_tmp23 + __cil_tmp22;
#line 1601
    mem_350 = (ULONG_PTR *)__cil_tmp24;
#line 1601
    *mem_350 = 0UL;
#line 1602
    __cil_tmp25 = (unsigned int )Irp;
#line 1602
    __cil_tmp26 = __cil_tmp25 + 24;
#line 1602
    mem_351 = (NTSTATUS *)__cil_tmp26;
#line 1602
    *mem_351 = -1073741738L;
#line 1603
    myStatus = -1073741738L;
#line 1605
    IofCompleteRequest(Irp, (char)0);
    }
#line 1606
    return (-1073741738L);
  } else {

  }
  }
  }
  {
#line 1607
  __cil_tmp27 = (unsigned int )irpSp;
#line 1607
  __cil_tmp28 = __cil_tmp27 + 1;
#line 1607
  mem_352 = (UCHAR *)__cil_tmp28;
#line 1607
  __cil_tmp29 = *mem_352;
#line 1608
  if ((int )__cil_tmp29 == 0) {
    goto switch_32_0;
  } else {
#line 1613
    if ((int )__cil_tmp29 == 5) {
      goto switch_32_5;
    } else {
#line 1614
      if ((int )__cil_tmp29 == 1) {
        goto switch_32_1;
      } else {
#line 1690
        if ((int )__cil_tmp29 == 6) {
          goto switch_32_6;
        } else {
#line 1691
          if ((int )__cil_tmp29 == 3) {
            goto switch_32_3;
          } else {
#line 1779
            if ((int )__cil_tmp29 == 4) {
              goto switch_32_4;
            } else {
#line 1790
              if ((int )__cil_tmp29 == 2) {
                goto switch_32_2;
              } else {
                {
                goto switch_32_default;
#line 1607
                if (0) {
                  switch_32_0: /* CIL Label */ 
                  {
#line 1611
                  ntStatus = FloppyStartDevice(DeviceObject, Irp);
                  }
                  goto switch_32_break;
                  switch_32_5: /* CIL Label */ ;
                  switch_32_1: /* CIL Label */ ;
                  {
#line 1617
                  __cil_tmp30 = (unsigned int )irpSp;
#line 1617
                  __cil_tmp31 = __cil_tmp30 + 1;
#line 1617
                  mem_353 = (UCHAR *)__cil_tmp31;
#line 1617
                  __cil_tmp32 = *mem_353;
#line 1617
                  __cil_tmp33 = (int )__cil_tmp32;
#line 1617
                  if (__cil_tmp33 == 5) {
                    {
#line 1618
                    while (1) {
                      while_33_continue: /* CIL Label */ ;
                      goto while_33_break;
                    }
                    while_33_break: /* CIL Label */ ;
                    }
                  } else {
                    {
#line 1620
                    while (1) {
                      while_34_continue: /* CIL Label */ ;
                      goto while_34_break;
                    }
                    while_34_break: /* CIL Label */ ;
                    }
                  }
                  }
                  {
#line 1623
                  __cil_tmp34 = (unsigned int )disketteExtension;
#line 1623
                  __cil_tmp35 = __cil_tmp34 + 12;
#line 1623
                  mem_354 = (BOOLEAN *)__cil_tmp35;
#line 1623
                  __cil_tmp36 = *mem_354;
#line 1623
                  if (! __cil_tmp36) {
#line 1627
                    if (s == 1) {
#line 1627
                      s = 3;
                    } else {
                      {
#line 1627
                      __VERIFIER_assert(0);
                      }
                    }
                    {
#line 1628
                    __cil_tmp37 = (unsigned int )Irp;
#line 1628
                    __cil_tmp38 = __cil_tmp37 + 35;
#line 1628
                    __cil_tmp39 = (unsigned int )Irp;
#line 1628
                    __cil_tmp40 = __cil_tmp39 + 35;
#line 1628
                    mem_355 = (CHAR *)__cil_tmp40;
#line 1628
                    __cil_tmp41 = *mem_355;
#line 1628
                    __cil_tmp42 = (int )__cil_tmp41;
#line 1628
                    __cil_tmp43 = __cil_tmp42 + 1;
#line 1628
                    mem_356 = (CHAR *)__cil_tmp38;
#line 1628
                    *mem_356 = (char )__cil_tmp43;
#line 1628
                    __cil_tmp44 = 24 + 8;
#line 1628
                    __cil_tmp45 = 0 + __cil_tmp44;
#line 1628
                    __cil_tmp46 = 64 + __cil_tmp45;
#line 1628
                    __cil_tmp47 = (unsigned int )Irp;
#line 1628
                    __cil_tmp48 = __cil_tmp47 + __cil_tmp46;
#line 1628
                    __cil_tmp49 = 24 + 8;
#line 1628
                    __cil_tmp50 = 0 + __cil_tmp49;
#line 1628
                    __cil_tmp51 = 64 + __cil_tmp50;
#line 1628
                    __cil_tmp52 = (unsigned int )Irp;
#line 1628
                    __cil_tmp53 = __cil_tmp52 + __cil_tmp51;
#line 1628
                    mem_357 = (struct _IO_STACK_LOCATION **)__cil_tmp53;
#line 1628
                    __cil_tmp54 = *mem_357;
#line 1628
                    mem_358 = (struct _IO_STACK_LOCATION **)__cil_tmp48;
#line 1628
                    *mem_358 = __cil_tmp54 + 1;
#line 1629
                    __cil_tmp55 = (unsigned int )disketteExtension;
#line 1629
                    __cil_tmp56 = __cil_tmp55 + 8;
#line 1629
                    mem_359 = (PDEVICE_OBJECT *)__cil_tmp56;
#line 1629
                    __cil_tmp57 = *mem_359;
#line 1629
                    ntStatus = IofCallDriver(__cil_tmp57, Irp);
                    }
#line 1631
                    return (ntStatus);
                  } else {

                  }
                  }
                  {
#line 1637
                  __cil_tmp58 = (unsigned int )disketteExtension;
#line 1637
                  __cil_tmp59 = __cil_tmp58 + 428;
#line 1637
                  __cil_tmp60 = (FAST_MUTEX *)__cil_tmp59;
#line 1637
                  ExAcquireFastMutex(__cil_tmp60);
#line 1638
                  __cil_tmp61 = (unsigned int )disketteExtension;
#line 1638
                  __cil_tmp62 = __cil_tmp61 + 14;
#line 1638
                  mem_360 = (BOOLEAN *)__cil_tmp62;
#line 1638
                  *mem_360 = (unsigned char)1;
#line 1639
                  __cil_tmp63 = (unsigned int )disketteExtension;
#line 1639
                  __cil_tmp64 = __cil_tmp63 + 428;
#line 1639
                  __cil_tmp65 = (FAST_MUTEX *)__cil_tmp64;
#line 1639
                  ExReleaseFastMutex(__cil_tmp65);
#line 1646
                  ntStatus = FlQueueIrpToThread(Irp, disketteExtension);
                  }
#line 1652
                  if (ntStatus == 259L) {
                    {
#line 1656
                    __cil_tmp66 = (unsigned int )disketteExtension;
#line 1656
                    __cil_tmp67 = __cil_tmp66 + 92;
#line 1656
                    mem_361 = (PKTHREAD *)__cil_tmp67;
#line 1656
                    __cil_tmp68 = *mem_361;
#line 1656
                    __cil_tmp69 = (void *)__cil_tmp68;
#line 1656
                    __cil_tmp70 = (enum _KWAIT_REASON )0;
#line 1656
                    __cil_tmp71 = (void *)0;
#line 1656
                    __cil_tmp72 = (LARGE_INTEGER *)__cil_tmp71;
#line 1656
                    KeWaitForSingleObject(__cil_tmp69, __cil_tmp70, (char)0, (unsigned char)0,
                                          __cil_tmp72);
                    }
                    {
#line 1666
                    __cil_tmp73 = (void *)0;
#line 1666
                    __cil_tmp74 = (unsigned int )__cil_tmp73;
#line 1666
                    __cil_tmp75 = (unsigned int )disketteExtension;
#line 1666
                    __cil_tmp76 = __cil_tmp75 + 92;
#line 1666
                    mem_362 = (PKTHREAD *)__cil_tmp76;
#line 1666
                    __cil_tmp77 = *mem_362;
#line 1666
                    __cil_tmp78 = (unsigned int )__cil_tmp77;
#line 1666
                    if (__cil_tmp78 != __cil_tmp74) {
                      {
#line 1667
                      __cil_tmp79 = (unsigned int )disketteExtension;
#line 1667
                      __cil_tmp80 = __cil_tmp79 + 92;
#line 1667
                      mem_363 = (PKTHREAD *)__cil_tmp80;
#line 1667
                      __cil_tmp81 = *mem_363;
#line 1667
                      __cil_tmp82 = (void *)__cil_tmp81;
#line 1667
                      ObfDereferenceObject(__cil_tmp82);
                      }
                    } else {

                    }
                    }
#line 1670
                    __cil_tmp83 = (unsigned int )disketteExtension;
#line 1670
                    __cil_tmp84 = __cil_tmp83 + 92;
#line 1670
                    __cil_tmp85 = (void *)0;
#line 1670
                    mem_364 = (PKTHREAD *)__cil_tmp84;
#line 1670
                    *mem_364 = (struct _KTHREAD *)__cil_tmp85;
#line 1672
                    __cil_tmp86 = (unsigned int )Irp;
#line 1672
                    __cil_tmp87 = __cil_tmp86 + 24;
#line 1672
                    mem_365 = (NTSTATUS *)__cil_tmp87;
#line 1672
                    *mem_365 = 0L;
#line 1673
                    myStatus = 0L;
#line 1674
                    if (s == 1) {
#line 1673
                      s = 3;
                    } else {
                      {
#line 1673
                      __VERIFIER_assert(0);
                      }
                    }
                    {
#line 1674
                    __cil_tmp88 = (unsigned int )Irp;
#line 1674
                    __cil_tmp89 = __cil_tmp88 + 35;
#line 1674
                    __cil_tmp90 = (unsigned int )Irp;
#line 1674
                    __cil_tmp91 = __cil_tmp90 + 35;
#line 1674
                    mem_366 = (CHAR *)__cil_tmp91;
#line 1674
                    __cil_tmp92 = *mem_366;
#line 1674
                    __cil_tmp93 = (int )__cil_tmp92;
#line 1674
                    __cil_tmp94 = __cil_tmp93 + 1;
#line 1674
                    mem_367 = (CHAR *)__cil_tmp89;
#line 1674
                    *mem_367 = (char )__cil_tmp94;
#line 1674
                    __cil_tmp95 = 24 + 8;
#line 1674
                    __cil_tmp96 = 0 + __cil_tmp95;
#line 1674
                    __cil_tmp97 = 64 + __cil_tmp96;
#line 1674
                    __cil_tmp98 = (unsigned int )Irp;
#line 1674
                    __cil_tmp99 = __cil_tmp98 + __cil_tmp97;
#line 1674
                    __cil_tmp100 = 24 + 8;
#line 1674
                    __cil_tmp101 = 0 + __cil_tmp100;
#line 1674
                    __cil_tmp102 = 64 + __cil_tmp101;
#line 1674
                    __cil_tmp103 = (unsigned int )Irp;
#line 1674
                    __cil_tmp104 = __cil_tmp103 + __cil_tmp102;
#line 1674
                    mem_368 = (struct _IO_STACK_LOCATION **)__cil_tmp104;
#line 1674
                    __cil_tmp105 = *mem_368;
#line 1674
                    mem_369 = (struct _IO_STACK_LOCATION **)__cil_tmp99;
#line 1674
                    *mem_369 = __cil_tmp105 + 1;
#line 1675
                    __cil_tmp106 = (unsigned int )disketteExtension;
#line 1675
                    __cil_tmp107 = __cil_tmp106 + 8;
#line 1675
                    mem_370 = (PDEVICE_OBJECT *)__cil_tmp107;
#line 1675
                    __cil_tmp108 = *mem_370;
#line 1675
                    ntStatus = IofCallDriver(__cil_tmp108, Irp);
                    }
                  } else {
                    {
#line 1682
                    ntStatus = -1073741823L;
#line 1683
                    __cil_tmp109 = (unsigned int )Irp;
#line 1683
                    __cil_tmp110 = __cil_tmp109 + 24;
#line 1683
                    mem_371 = (NTSTATUS *)__cil_tmp110;
#line 1683
                    *mem_371 = ntStatus;
#line 1684
                    myStatus = ntStatus;
#line 1686
                    __cil_tmp111 = 24 + 4;
#line 1686
                    __cil_tmp112 = (unsigned int )Irp;
#line 1686
                    __cil_tmp113 = __cil_tmp112 + __cil_tmp111;
#line 1686
                    mem_372 = (ULONG_PTR *)__cil_tmp113;
#line 1686
                    *mem_372 = 0UL;
#line 1687
                    IofCompleteRequest(Irp, (char)0);
                    }
                  }
                  goto switch_32_break;
                  switch_32_6: /* CIL Label */ ;
                  switch_32_3: /* CIL Label */ ;
                  {
#line 1692
                  __cil_tmp114 = (unsigned int )irpSp;
#line 1692
                  __cil_tmp115 = __cil_tmp114 + 1;
#line 1692
                  mem_373 = (UCHAR *)__cil_tmp115;
#line 1692
                  __cil_tmp116 = *mem_373;
#line 1692
                  __cil_tmp117 = (int )__cil_tmp116;
#line 1692
                  if (__cil_tmp117 == 6) {
                    {
#line 1693
                    while (1) {
                      while_35_continue: /* CIL Label */ ;
                      goto while_35_break;
                    }
                    while_35_break: /* CIL Label */ ;
                    }
                  } else {
                    {
#line 1695
                    while (1) {
                      while_36_continue: /* CIL Label */ ;
                      goto while_36_break;
                    }
                    while_36_break: /* CIL Label */ ;
                    }
                  }
                  }
                  {
#line 1698
                  __cil_tmp118 = (unsigned int )disketteExtension;
#line 1698
                  __cil_tmp119 = __cil_tmp118 + 12;
#line 1698
                  mem_374 = (BOOLEAN *)__cil_tmp119;
#line 1698
                  __cil_tmp120 = *mem_374;
#line 1698
                  if (! __cil_tmp120) {
#line 1706
                    __cil_tmp121 = (unsigned int )Irp;
#line 1706
                    __cil_tmp122 = __cil_tmp121 + 24;
#line 1706
                    mem_375 = (NTSTATUS *)__cil_tmp122;
#line 1706
                    *mem_375 = 0L;
#line 1707
                    myStatus = 0L;
#line 1709
                    if (s == 1) {
#line 1707
                      s = 3;
                    } else {
                      {
#line 1707
                      __VERIFIER_assert(0);
                      }
                    }
                    {
#line 1708
                    __cil_tmp123 = (unsigned int )Irp;
#line 1708
                    __cil_tmp124 = __cil_tmp123 + 35;
#line 1708
                    __cil_tmp125 = (unsigned int )Irp;
#line 1708
                    __cil_tmp126 = __cil_tmp125 + 35;
#line 1708
                    mem_376 = (CHAR *)__cil_tmp126;
#line 1708
                    __cil_tmp127 = *mem_376;
#line 1708
                    __cil_tmp128 = (int )__cil_tmp127;
#line 1708
                    __cil_tmp129 = __cil_tmp128 + 1;
#line 1708
                    mem_377 = (CHAR *)__cil_tmp124;
#line 1708
                    *mem_377 = (char )__cil_tmp129;
#line 1708
                    __cil_tmp130 = 24 + 8;
#line 1708
                    __cil_tmp131 = 0 + __cil_tmp130;
#line 1708
                    __cil_tmp132 = 64 + __cil_tmp131;
#line 1708
                    __cil_tmp133 = (unsigned int )Irp;
#line 1708
                    __cil_tmp134 = __cil_tmp133 + __cil_tmp132;
#line 1708
                    __cil_tmp135 = 24 + 8;
#line 1708
                    __cil_tmp136 = 0 + __cil_tmp135;
#line 1708
                    __cil_tmp137 = 64 + __cil_tmp136;
#line 1708
                    __cil_tmp138 = (unsigned int )Irp;
#line 1708
                    __cil_tmp139 = __cil_tmp138 + __cil_tmp137;
#line 1708
                    mem_378 = (struct _IO_STACK_LOCATION **)__cil_tmp139;
#line 1708
                    __cil_tmp140 = *mem_378;
#line 1708
                    mem_379 = (struct _IO_STACK_LOCATION **)__cil_tmp134;
#line 1708
                    *mem_379 = __cil_tmp140 + 1;
#line 1709
                    __cil_tmp141 = (unsigned int )disketteExtension;
#line 1709
                    __cil_tmp142 = __cil_tmp141 + 8;
#line 1709
                    mem_380 = (PDEVICE_OBJECT *)__cil_tmp142;
#line 1709
                    __cil_tmp143 = *mem_380;
#line 1709
                    ntStatus = IofCallDriver(__cil_tmp143, Irp);
                    }
                  } else {
                    {
#line 1718
                    __cil_tmp144 = (unsigned int )Irp;
#line 1718
                    __cil_tmp145 = __cil_tmp144 + 24;
#line 1718
                    mem_381 = (NTSTATUS *)__cil_tmp145;
#line 1718
                    *mem_381 = 0L;
#line 1719
                    myStatus = 0L;
#line 1723
                    __cil_tmp146 = 24 + 8;
#line 1723
                    __cil_tmp147 = 0 + __cil_tmp146;
#line 1723
                    __cil_tmp148 = 64 + __cil_tmp147;
#line 1723
                    __cil_tmp149 = (unsigned int )Irp;
#line 1723
                    __cil_tmp150 = __cil_tmp149 + __cil_tmp148;
#line 1723
                    mem_382 = (struct _IO_STACK_LOCATION **)__cil_tmp150;
#line 1723
                    irpSp___0 = *mem_382;
#line 1723
                    __cil_tmp151 = 24 + 8;
#line 1723
                    __cil_tmp152 = 0 + __cil_tmp151;
#line 1723
                    __cil_tmp153 = 64 + __cil_tmp152;
#line 1723
                    __cil_tmp154 = (unsigned int )Irp;
#line 1723
                    __cil_tmp155 = __cil_tmp154 + __cil_tmp153;
#line 1723
                    mem_383 = (struct _IO_STACK_LOCATION **)__cil_tmp155;
#line 1723
                    __cil_tmp156 = *mem_383;
#line 1723
                    nextIrpSp = __cil_tmp156 - 1;
#line 1723
                    __cil_tmp157 = (void *)nextIrpSp;
#line 1723
                    __cil_tmp158 = (void const   *)irpSp___0;
#line 1723
                    __cil_tmp159 = (IO_STACK_LOCATION *)0;
#line 1723
                    __cil_tmp160 = (unsigned int )__cil_tmp159;
#line 1723
                    __cil_tmp161 = __cil_tmp160 + 112;
#line 1723
                    __cil_tmp162 = (NTSTATUS (**)(PDEVICE_OBJECT DeviceObject , PIRP Irp ,
                                                  PVOID Context ))__cil_tmp161;
#line 1723
                    __cil_tmp163 = (long )__cil_tmp162;
#line 1723
                    __cil_tmp164 = (unsigned int )__cil_tmp163;
#line 1723
                    memcpy(__cil_tmp157, __cil_tmp158, __cil_tmp164);
#line 1723
                    __cil_tmp165 = (unsigned int )nextIrpSp;
#line 1723
                    __cil_tmp166 = __cil_tmp165 + 3;
#line 1723
                    mem_384 = (UCHAR *)__cil_tmp166;
#line 1723
                    *mem_384 = (unsigned char)0;
#line 1729
                    __cil_tmp167 = (enum _EVENT_TYPE )1;
#line 1729
                    KeInitializeEvent(& doneEvent, __cil_tmp167, (unsigned char)0);
                    }
#line 1733
                    if (s != 1) {
                      {
#line 1733
                      __VERIFIER_assert(0);
                      }
                    } else {
#line 1735
                      if (compRegistered != 0) {
                        {
#line 1735
                        __VERIFIER_assert(0);
                        }
                      } else {
#line 1737
                        compRegistered = 1;
#line 1738
                        compFptr = & FloppyPnpComplete;
                      }
                    }
                    {
#line 1744
                    __cil_tmp168 = 24 + 8;
#line 1744
                    __cil_tmp169 = 0 + __cil_tmp168;
#line 1744
                    __cil_tmp170 = 64 + __cil_tmp169;
#line 1744
                    __cil_tmp171 = (unsigned int )Irp;
#line 1744
                    __cil_tmp172 = __cil_tmp171 + __cil_tmp170;
#line 1744
                    mem_385 = (struct _IO_STACK_LOCATION **)__cil_tmp172;
#line 1744
                    __cil_tmp173 = *mem_385;
#line 1744
                    irpSp___1 = __cil_tmp173 - 1;
#line 1744
                    __cil_tmp174 = (unsigned int )irpSp___1;
#line 1744
                    __cil_tmp175 = __cil_tmp174 + 112;
#line 1744
                    mem_386 = (NTSTATUS (**)(PDEVICE_OBJECT DeviceObject , PIRP Irp ,
                                             PVOID Context ))__cil_tmp175;
#line 1744
                    *mem_386 = & FloppyPnpComplete;
#line 1744
                    __cil_tmp176 = (unsigned int )irpSp___1;
#line 1744
                    __cil_tmp177 = __cil_tmp176 + 116;
#line 1744
                    mem_387 = (PVOID *)__cil_tmp177;
#line 1744
                    *mem_387 = (void *)(& doneEvent);
#line 1744
                    __cil_tmp178 = (unsigned int )irpSp___1;
#line 1744
                    __cil_tmp179 = __cil_tmp178 + 3;
#line 1744
                    mem_388 = (UCHAR *)__cil_tmp179;
#line 1744
                    *mem_388 = (unsigned char)0;
#line 1744
                    __cil_tmp180 = (unsigned int )irpSp___1;
#line 1744
                    __cil_tmp181 = __cil_tmp180 + 3;
#line 1744
                    mem_389 = (UCHAR *)__cil_tmp181;
#line 1744
                    *mem_389 = (unsigned char)64;
#line 1744
                    __cil_tmp182 = (unsigned int )irpSp___1;
#line 1744
                    __cil_tmp183 = __cil_tmp182 + 3;
#line 1744
                    __cil_tmp184 = (unsigned int )irpSp___1;
#line 1744
                    __cil_tmp185 = __cil_tmp184 + 3;
#line 1744
                    mem_390 = (UCHAR *)__cil_tmp185;
#line 1744
                    __cil_tmp186 = *mem_390;
#line 1744
                    __cil_tmp187 = (int )__cil_tmp186;
#line 1744
                    __cil_tmp188 = __cil_tmp187 | 128;
#line 1744
                    mem_391 = (UCHAR *)__cil_tmp183;
#line 1744
                    *mem_391 = (unsigned char )__cil_tmp188;
#line 1744
                    __cil_tmp189 = (unsigned int )irpSp___1;
#line 1744
                    __cil_tmp190 = __cil_tmp189 + 3;
#line 1744
                    __cil_tmp191 = (unsigned int )irpSp___1;
#line 1744
                    __cil_tmp192 = __cil_tmp191 + 3;
#line 1744
                    mem_392 = (UCHAR *)__cil_tmp192;
#line 1744
                    __cil_tmp193 = *mem_392;
#line 1744
                    __cil_tmp194 = (int )__cil_tmp193;
#line 1744
                    __cil_tmp195 = __cil_tmp194 | 32;
#line 1744
                    mem_393 = (UCHAR *)__cil_tmp190;
#line 1744
                    *mem_393 = (unsigned char )__cil_tmp195;
#line 1746
                    __cil_tmp196 = (unsigned int )disketteExtension;
#line 1746
                    __cil_tmp197 = __cil_tmp196 + 8;
#line 1746
                    mem_394 = (PDEVICE_OBJECT *)__cil_tmp197;
#line 1746
                    __cil_tmp198 = *mem_394;
#line 1746
                    ntStatus = IofCallDriver(__cil_tmp198, Irp);
                    }
#line 1748
                    if (ntStatus == 259L) {
                      {
#line 1750
                      __cil_tmp199 = (void *)(& doneEvent);
#line 1750
                      __cil_tmp200 = (enum _KWAIT_REASON )0;
#line 1750
                      __cil_tmp201 = (void *)0;
#line 1750
                      __cil_tmp202 = (LARGE_INTEGER *)__cil_tmp201;
#line 1750
                      KeWaitForSingleObject(__cil_tmp199, __cil_tmp200, (char)0, (unsigned char)0,
                                            __cil_tmp202);
#line 1757
                      ntStatus = myStatus;
                      }
                    } else {

                    }
                    {
#line 1759
                    __cil_tmp203 = (unsigned int )disketteExtension;
#line 1759
                    __cil_tmp204 = __cil_tmp203 + 428;
#line 1759
                    __cil_tmp205 = (FAST_MUTEX *)__cil_tmp204;
#line 1759
                    ExAcquireFastMutex(__cil_tmp205);
#line 1760
                    __cil_tmp206 = (unsigned int )disketteExtension;
#line 1760
                    __cil_tmp207 = __cil_tmp206 + 14;
#line 1760
                    mem_395 = (BOOLEAN *)__cil_tmp207;
#line 1760
                    *mem_395 = (unsigned char)0;
#line 1761
                    __cil_tmp208 = (unsigned int )disketteExtension;
#line 1761
                    __cil_tmp209 = __cil_tmp208 + 428;
#line 1761
                    __cil_tmp210 = (FAST_MUTEX *)__cil_tmp209;
#line 1761
                    ExReleaseFastMutex(__cil_tmp210);
#line 1766
                    FloppyProcessQueuedRequests(disketteExtension);
#line 1772
                    __cil_tmp211 = (unsigned int )Irp;
#line 1772
                    __cil_tmp212 = __cil_tmp211 + 24;
#line 1772
                    mem_396 = (NTSTATUS *)__cil_tmp212;
#line 1772
                    *mem_396 = ntStatus;
#line 1773
                    myStatus = ntStatus;
#line 1775
                    __cil_tmp213 = 24 + 4;
#line 1775
                    __cil_tmp214 = (unsigned int )Irp;
#line 1775
                    __cil_tmp215 = __cil_tmp214 + __cil_tmp213;
#line 1775
                    mem_397 = (ULONG_PTR *)__cil_tmp215;
#line 1775
                    *mem_397 = 0UL;
#line 1776
                    IofCompleteRequest(Irp, (char)0);
                    }
                  }
                  }
                  goto switch_32_break;
                  switch_32_4: /* CIL Label */ ;
                  {
#line 1780
                  while (1) {
                    while_37_continue: /* CIL Label */ ;
                    goto while_37_break;
                  }
                  while_37_break: /* CIL Label */ ;
                  }
#line 1782
                  __cil_tmp216 = (unsigned int )disketteExtension;
#line 1782
                  __cil_tmp217 = __cil_tmp216 + 12;
#line 1782
                  mem_398 = (BOOLEAN *)__cil_tmp217;
#line 1782
                  *mem_398 = (unsigned char)0;
#line 1784
                  __cil_tmp218 = (unsigned int )Irp;
#line 1784
                  __cil_tmp219 = __cil_tmp218 + 24;
#line 1784
                  mem_399 = (NTSTATUS *)__cil_tmp219;
#line 1784
                  *mem_399 = 0L;
#line 1785
                  myStatus = 0L;
#line 1786
                  if (s == 1) {
#line 1785
                    s = 3;
                  } else {
                    {
#line 1785
                    __VERIFIER_assert(0);
                    }
                  }
                  {
#line 1786
                  __cil_tmp220 = (unsigned int )Irp;
#line 1786
                  __cil_tmp221 = __cil_tmp220 + 35;
#line 1786
                  __cil_tmp222 = (unsigned int )Irp;
#line 1786
                  __cil_tmp223 = __cil_tmp222 + 35;
#line 1786
                  mem_400 = (CHAR *)__cil_tmp223;
#line 1786
                  __cil_tmp224 = *mem_400;
#line 1786
                  __cil_tmp225 = (int )__cil_tmp224;
#line 1786
                  __cil_tmp226 = __cil_tmp225 + 1;
#line 1786
                  mem_401 = (CHAR *)__cil_tmp221;
#line 1786
                  *mem_401 = (char )__cil_tmp226;
#line 1786
                  __cil_tmp227 = 24 + 8;
#line 1786
                  __cil_tmp228 = 0 + __cil_tmp227;
#line 1786
                  __cil_tmp229 = 64 + __cil_tmp228;
#line 1786
                  __cil_tmp230 = (unsigned int )Irp;
#line 1786
                  __cil_tmp231 = __cil_tmp230 + __cil_tmp229;
#line 1786
                  __cil_tmp232 = 24 + 8;
#line 1786
                  __cil_tmp233 = 0 + __cil_tmp232;
#line 1786
                  __cil_tmp234 = 64 + __cil_tmp233;
#line 1786
                  __cil_tmp235 = (unsigned int )Irp;
#line 1786
                  __cil_tmp236 = __cil_tmp235 + __cil_tmp234;
#line 1786
                  mem_402 = (struct _IO_STACK_LOCATION **)__cil_tmp236;
#line 1786
                  __cil_tmp237 = *mem_402;
#line 1786
                  mem_403 = (struct _IO_STACK_LOCATION **)__cil_tmp231;
#line 1786
                  *mem_403 = __cil_tmp237 + 1;
#line 1787
                  __cil_tmp238 = (unsigned int )disketteExtension;
#line 1787
                  __cil_tmp239 = __cil_tmp238 + 8;
#line 1787
                  mem_404 = (PDEVICE_OBJECT *)__cil_tmp239;
#line 1787
                  __cil_tmp240 = *mem_404;
#line 1787
                  ntStatus = IofCallDriver(__cil_tmp240, Irp);
                  }
                  goto switch_32_break;
                  switch_32_2: /* CIL Label */ ;
                  {
#line 1793
                  while (1) {
                    while_38_continue: /* CIL Label */ ;
                    goto while_38_break;
                  }
                  while_38_break: /* CIL Label */ ;
                  }
                  {
#line 1800
                  __cil_tmp241 = (unsigned int )disketteExtension;
#line 1800
                  __cil_tmp242 = __cil_tmp241 + 428;
#line 1800
                  __cil_tmp243 = (FAST_MUTEX *)__cil_tmp242;
#line 1800
                  ExAcquireFastMutex(__cil_tmp243);
#line 1801
                  __cil_tmp244 = (unsigned int )disketteExtension;
#line 1801
                  __cil_tmp245 = __cil_tmp244 + 14;
#line 1801
                  mem_405 = (BOOLEAN *)__cil_tmp245;
#line 1801
                  *mem_405 = (unsigned char)0;
#line 1802
                  __cil_tmp246 = (unsigned int )disketteExtension;
#line 1802
                  __cil_tmp247 = __cil_tmp246 + 428;
#line 1802
                  __cil_tmp248 = (FAST_MUTEX *)__cil_tmp247;
#line 1802
                  ExReleaseFastMutex(__cil_tmp248);
#line 1804
                  __cil_tmp249 = (unsigned int )disketteExtension;
#line 1804
                  __cil_tmp250 = __cil_tmp249 + 12;
#line 1804
                  mem_406 = (BOOLEAN *)__cil_tmp250;
#line 1804
                  *mem_406 = (unsigned char)0;
#line 1805
                  __cil_tmp251 = (unsigned int )disketteExtension;
#line 1805
                  __cil_tmp252 = __cil_tmp251 + 13;
#line 1805
                  mem_407 = (BOOLEAN *)__cil_tmp252;
#line 1805
                  *mem_407 = (unsigned char)1;
#line 1815
                  FloppyProcessQueuedRequests(disketteExtension);
                  }
#line 1820
                  if (s == 1) {
#line 1820
                    s = 3;
                  } else {
                    {
#line 1820
                    __VERIFIER_assert(0);
                    }
                  }
                  {
#line 1821
                  __cil_tmp253 = (unsigned int )Irp;
#line 1821
                  __cil_tmp254 = __cil_tmp253 + 35;
#line 1821
                  __cil_tmp255 = (unsigned int )Irp;
#line 1821
                  __cil_tmp256 = __cil_tmp255 + 35;
#line 1821
                  mem_408 = (CHAR *)__cil_tmp256;
#line 1821
                  __cil_tmp257 = *mem_408;
#line 1821
                  __cil_tmp258 = (int )__cil_tmp257;
#line 1821
                  __cil_tmp259 = __cil_tmp258 + 1;
#line 1821
                  mem_409 = (CHAR *)__cil_tmp254;
#line 1821
                  *mem_409 = (char )__cil_tmp259;
#line 1821
                  __cil_tmp260 = 24 + 8;
#line 1821
                  __cil_tmp261 = 0 + __cil_tmp260;
#line 1821
                  __cil_tmp262 = 64 + __cil_tmp261;
#line 1821
                  __cil_tmp263 = (unsigned int )Irp;
#line 1821
                  __cil_tmp264 = __cil_tmp263 + __cil_tmp262;
#line 1821
                  __cil_tmp265 = 24 + 8;
#line 1821
                  __cil_tmp266 = 0 + __cil_tmp265;
#line 1821
                  __cil_tmp267 = 64 + __cil_tmp266;
#line 1821
                  __cil_tmp268 = (unsigned int )Irp;
#line 1821
                  __cil_tmp269 = __cil_tmp268 + __cil_tmp267;
#line 1821
                  mem_410 = (struct _IO_STACK_LOCATION **)__cil_tmp269;
#line 1821
                  __cil_tmp270 = *mem_410;
#line 1821
                  mem_411 = (struct _IO_STACK_LOCATION **)__cil_tmp264;
#line 1821
                  *mem_411 = __cil_tmp270 + 1;
#line 1822
                  __cil_tmp271 = (unsigned int )Irp;
#line 1822
                  __cil_tmp272 = __cil_tmp271 + 24;
#line 1822
                  mem_412 = (NTSTATUS *)__cil_tmp272;
#line 1822
                  *mem_412 = 0L;
#line 1823
                  myStatus = 0L;
#line 1824
                  __cil_tmp273 = (unsigned int )disketteExtension;
#line 1824
                  __cil_tmp274 = __cil_tmp273 + 8;
#line 1824
                  mem_413 = (PDEVICE_OBJECT *)__cil_tmp274;
#line 1824
                  __cil_tmp275 = *mem_413;
#line 1824
                  ntStatus = IofCallDriver(__cil_tmp275, Irp);
                  }
                  {
#line 1828
                  __cil_tmp276 = (void *)0;
#line 1828
                  __cil_tmp277 = (unsigned int )__cil_tmp276;
#line 1828
                  __cil_tmp278 = 376 + 4;
#line 1828
                  __cil_tmp279 = (unsigned int )disketteExtension;
#line 1828
                  __cil_tmp280 = __cil_tmp279 + __cil_tmp278;
#line 1828
                  mem_414 = (PWSTR *)__cil_tmp280;
#line 1828
                  __cil_tmp281 = *mem_414;
#line 1828
                  __cil_tmp282 = (unsigned int )__cil_tmp281;
#line 1828
                  if (__cil_tmp282 != __cil_tmp277) {
                    {
#line 1830
                    __cil_tmp283 = (unsigned int )disketteExtension;
#line 1830
                    __cil_tmp284 = __cil_tmp283 + 376;
#line 1830
                    __cil_tmp285 = (UNICODE_STRING *)__cil_tmp284;
#line 1830
                    IoSetDeviceInterfaceState(__cil_tmp285, (unsigned char)0);
#line 1833
                    __cil_tmp286 = (unsigned int )disketteExtension;
#line 1833
                    __cil_tmp287 = __cil_tmp286 + 376;
#line 1833
                    __cil_tmp288 = (UNICODE_STRING *)__cil_tmp287;
#line 1833
                    RtlFreeUnicodeString(__cil_tmp288);
#line 1834
                    __cil_tmp289 = (unsigned int )disketteExtension;
#line 1834
                    __cil_tmp290 = __cil_tmp289 + 376;
#line 1834
                    __cil_tmp291 = (UNICODE_STRING *)__cil_tmp290;
#line 1834
                    __cil_tmp292 = (void *)0;
#line 1834
                    __cil_tmp293 = (WCHAR const   *)__cil_tmp292;
#line 1834
                    RtlInitUnicodeString(__cil_tmp291, __cil_tmp293);
                    }
                  } else {

                  }
                  }
                  {
#line 1837
                  __cil_tmp294 = (unsigned int )disketteExtension;
#line 1837
                  __cil_tmp295 = __cil_tmp294 + 368;
#line 1837
                  __cil_tmp296 = (UNICODE_STRING *)__cil_tmp295;
#line 1837
                  RtlFreeUnicodeString(__cil_tmp296);
#line 1838
                  __cil_tmp297 = (unsigned int )disketteExtension;
#line 1838
                  __cil_tmp298 = __cil_tmp297 + 368;
#line 1838
                  __cil_tmp299 = (UNICODE_STRING *)__cil_tmp298;
#line 1838
                  __cil_tmp300 = (void *)0;
#line 1838
                  __cil_tmp301 = (WCHAR const   *)__cil_tmp300;
#line 1838
                  RtlInitUnicodeString(__cil_tmp299, __cil_tmp301);
                  }
                  {
#line 1840
                  __cil_tmp302 = (unsigned int )disketteExtension;
#line 1840
                  __cil_tmp303 = __cil_tmp302 + 384;
#line 1840
                  mem_415 = (USHORT *)__cil_tmp303;
#line 1840
                  __cil_tmp304 = *mem_415;
#line 1840
                  __cil_tmp305 = (int )__cil_tmp304;
#line 1840
                  if (__cil_tmp305 != 0) {
                    {
#line 1842
                    __cil_tmp306 = (unsigned int )disketteExtension;
#line 1842
                    __cil_tmp307 = __cil_tmp306 + 384;
#line 1842
                    __cil_tmp308 = (UNICODE_STRING *)__cil_tmp307;
#line 1842
                    IoDeleteSymbolicLink(__cil_tmp308);
#line 1843
                    __cil_tmp309 = (unsigned int )disketteExtension;
#line 1843
                    __cil_tmp310 = __cil_tmp309 + 384;
#line 1843
                    __cil_tmp311 = (UNICODE_STRING *)__cil_tmp310;
#line 1843
                    RtlFreeUnicodeString(__cil_tmp311);
#line 1844
                    __cil_tmp312 = (unsigned int )disketteExtension;
#line 1844
                    __cil_tmp313 = __cil_tmp312 + 384;
#line 1844
                    __cil_tmp314 = (UNICODE_STRING *)__cil_tmp313;
#line 1844
                    __cil_tmp315 = (void *)0;
#line 1844
                    __cil_tmp316 = (WCHAR const   *)__cil_tmp315;
#line 1844
                    RtlInitUnicodeString(__cil_tmp314, __cil_tmp316);
                    }
                  } else {

                  }
                  }
                  {
#line 1850
                  __cil_tmp317 = (unsigned int )disketteExtension;
#line 1850
                  __cil_tmp318 = __cil_tmp317 + 8;
#line 1850
                  mem_416 = (PDEVICE_OBJECT *)__cil_tmp318;
#line 1850
                  __cil_tmp319 = *mem_416;
#line 1850
                  IoDetachDevice(__cil_tmp319);
#line 1855
                  IoDeleteDevice(DeviceObject);
#line 1857
                  tmp = IoGetConfigurationInformation();
#line 1857
                  __cil_tmp320 = (unsigned int )tmp;
#line 1857
                  __cil_tmp321 = __cil_tmp320 + 4;
#line 1857
                  __cil_tmp322 = (unsigned int )tmp;
#line 1857
                  __cil_tmp323 = __cil_tmp322 + 4;
#line 1857
                  mem_417 = (ULONG *)__cil_tmp323;
#line 1857
                  __cil_tmp324 = *mem_417;
#line 1857
                  mem_418 = (ULONG *)__cil_tmp321;
#line 1857
                  *mem_418 = __cil_tmp324 - 1UL;
                  }
                  goto switch_32_break;
                  switch_32_default: /* CIL Label */ ;
                  {
#line 1862
                  while (1) {
                    while_39_continue: /* CIL Label */ ;
                    goto while_39_break;
                  }
                  while_39_break: /* CIL Label */ ;
                  }
#line 1863
                  if (s == 1) {
#line 1863
                    s = 3;
                  } else {
                    {
#line 1863
                    __VERIFIER_assert(0);
                    }
                  }
                  {
#line 1864
                  __cil_tmp325 = (unsigned int )Irp;
#line 1864
                  __cil_tmp326 = __cil_tmp325 + 35;
#line 1864
                  __cil_tmp327 = (unsigned int )Irp;
#line 1864
                  __cil_tmp328 = __cil_tmp327 + 35;
#line 1864
                  mem_419 = (CHAR *)__cil_tmp328;
#line 1864
                  __cil_tmp329 = *mem_419;
#line 1864
                  __cil_tmp330 = (int )__cil_tmp329;
#line 1864
                  __cil_tmp331 = __cil_tmp330 + 1;
#line 1864
                  mem_420 = (CHAR *)__cil_tmp326;
#line 1864
                  *mem_420 = (char )__cil_tmp331;
#line 1864
                  __cil_tmp332 = 24 + 8;
#line 1864
                  __cil_tmp333 = 0 + __cil_tmp332;
#line 1864
                  __cil_tmp334 = 64 + __cil_tmp333;
#line 1864
                  __cil_tmp335 = (unsigned int )Irp;
#line 1864
                  __cil_tmp336 = __cil_tmp335 + __cil_tmp334;
#line 1864
                  __cil_tmp337 = 24 + 8;
#line 1864
                  __cil_tmp338 = 0 + __cil_tmp337;
#line 1864
                  __cil_tmp339 = 64 + __cil_tmp338;
#line 1864
                  __cil_tmp340 = (unsigned int )Irp;
#line 1864
                  __cil_tmp341 = __cil_tmp340 + __cil_tmp339;
#line 1864
                  mem_421 = (struct _IO_STACK_LOCATION **)__cil_tmp341;
#line 1864
                  __cil_tmp342 = *mem_421;
#line 1864
                  mem_422 = (struct _IO_STACK_LOCATION **)__cil_tmp336;
#line 1864
                  *mem_422 = __cil_tmp342 + 1;
#line 1865
                  __cil_tmp343 = (unsigned int )disketteExtension;
#line 1865
                  __cil_tmp344 = __cil_tmp343 + 8;
#line 1865
                  mem_423 = (PDEVICE_OBJECT *)__cil_tmp344;
#line 1865
                  __cil_tmp345 = *mem_423;
#line 1865
                  ntStatus = IofCallDriver(__cil_tmp345, Irp);
                  }
                } else {
                  switch_32_break: /* CIL Label */ ;
                }
                }
              }
            }
          }
        }
      }
    }
  }
  }
  {
#line 1871
  ExAcquireFastMutex(PagingMutex);
#line 1871
  PagingReferenceCount = PagingReferenceCount - 1UL;
  }
#line 1871
  if (PagingReferenceCount == 0UL) {
    {
#line 1871
    __cil_tmp346 = (void *)(& DriverEntry);
#line 1871
    MmPageEntireDriver(__cil_tmp346);
    }
  } else {

  }
  {
#line 1871
  ExReleaseFastMutex(PagingMutex);
  }
#line 1873
  return (ntStatus);
}
}
#line 1876 "floppy.c"
NTSTATUS FloppyStartDevice(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ NTSTATUS ntStatus ;
  NTSTATUS pnpStatus ;
  KEVENT doneEvent ;
  FDC_INFO fdcInfo ;
  CONFIGURATION_TYPE Dc ;
  CONFIGURATION_TYPE Fp ;
  PDISKETTE_EXTENSION disketteExtension ;
  PIO_STACK_LOCATION irpSp ;
  PIO_STACK_LOCATION irpSp___0 ;
  PIO_STACK_LOCATION nextIrpSp ;
  PIO_STACK_LOCATION irpSp___1 ;
  INTERFACE_TYPE InterfaceType ;
  CONFIGURATION_TYPE *__cil_tmp15 ;
  CONFIGURATION_TYPE *__cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  PVOID __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  enum _EVENT_TYPE __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  struct _IO_STACK_LOCATION *__cil_tmp36 ;
  void *__cil_tmp37 ;
  void const   *__cil_tmp38 ;
  IO_STACK_LOCATION *__cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  NTSTATUS (**__cil_tmp42)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
  long __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  struct _IO_STACK_LOCATION *__cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  UCHAR __cil_tmp65 ;
  int __cil_tmp66 ;
  int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  UCHAR __cil_tmp72 ;
  int __cil_tmp73 ;
  int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  PDEVICE_OBJECT __cil_tmp77 ;
  void *__cil_tmp78 ;
  enum _KWAIT_REASON __cil_tmp79 ;
  void *__cil_tmp80 ;
  LARGE_INTEGER *__cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  unsigned int __cil_tmp85 ;
  PDEVICE_OBJECT __cil_tmp86 ;
  int __cil_tmp87 ;
  int __cil_tmp88 ;
  int __cil_tmp89 ;
  int __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  void *__cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  unsigned int __cil_tmp94 ;
  unsigned int __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  unsigned int __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  UCHAR __cil_tmp100 ;
  int __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  ULONG __cil_tmp105 ;
  int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  UCHAR __cil_tmp109 ;
  int __cil_tmp110 ;
  int __cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  unsigned int __cil_tmp113 ;
  UCHAR __cil_tmp114 ;
  int __cil_tmp115 ;
  unsigned int __cil_tmp116 ;
  unsigned int __cil_tmp117 ;
  unsigned int __cil_tmp118 ;
  ULONG __cil_tmp119 ;
  int __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  UCHAR __cil_tmp123 ;
  int __cil_tmp124 ;
  int __cil_tmp125 ;
  int __cil_tmp126 ;
  unsigned int __cil_tmp127 ;
  unsigned int __cil_tmp128 ;
  INTERFACE_TYPE *__cil_tmp129 ;
  unsigned int __cil_tmp130 ;
  ULONG *__cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  ULONG *__cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  ULONG *__cil_tmp135 ;
  void *__cil_tmp136 ;
  int __cil_tmp137 ;
  int __cil_tmp138 ;
  KUSER_SHARED_DATA *__cil_tmp139 ;
  unsigned int __cil_tmp140 ;
  unsigned int __cil_tmp141 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp142 ;
  int __cil_tmp143 ;
  unsigned int __cil_tmp144 ;
  unsigned int __cil_tmp145 ;
  unsigned int __cil_tmp146 ;
  ULONG __cil_tmp147 ;
  unsigned int __cil_tmp148 ;
  unsigned int __cil_tmp149 ;
  unsigned int __cil_tmp150 ;
  ULONG __cil_tmp151 ;
  unsigned int __cil_tmp152 ;
  unsigned int __cil_tmp153 ;
  unsigned int __cil_tmp154 ;
  ULONG __cil_tmp155 ;
  unsigned int __cil_tmp156 ;
  unsigned int __cil_tmp157 ;
  unsigned int __cil_tmp158 ;
  ULONG __cil_tmp159 ;
  int __cil_tmp160 ;
  unsigned long __cil_tmp161 ;
  unsigned int __cil_tmp162 ;
  ULONG __cil_tmp163 ;
  unsigned long __cil_tmp164 ;
  unsigned int __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  PDEVICE_OBJECT __cil_tmp167 ;
  GUID *__cil_tmp168 ;
  GUID const   *__cil_tmp169 ;
  void *__cil_tmp170 ;
  UNICODE_STRING *__cil_tmp171 ;
  unsigned int __cil_tmp172 ;
  unsigned int __cil_tmp173 ;
  UNICODE_STRING *__cil_tmp174 ;
  unsigned int __cil_tmp175 ;
  unsigned int __cil_tmp176 ;
  UNICODE_STRING *__cil_tmp177 ;
  unsigned int __cil_tmp178 ;
  unsigned int __cil_tmp179 ;
  unsigned int __cil_tmp180 ;
  unsigned int __cil_tmp181 ;
  FAST_MUTEX *__cil_tmp182 ;
  unsigned int __cil_tmp183 ;
  unsigned int __cil_tmp184 ;
  unsigned int __cil_tmp185 ;
  unsigned int __cil_tmp186 ;
  FAST_MUTEX *__cil_tmp187 ;
  unsigned int __cil_tmp188 ;
  unsigned int __cil_tmp189 ;
  PVOID *mem_190 ;
  struct _IO_STACK_LOCATION **mem_191 ;
  struct _IO_STACK_LOCATION **mem_192 ;
  struct _IO_STACK_LOCATION **mem_193 ;
  UCHAR *mem_194 ;
  struct _IO_STACK_LOCATION **mem_195 ;
  NTSTATUS (**mem_196)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
  PVOID *mem_197 ;
  UCHAR *mem_198 ;
  UCHAR *mem_199 ;
  UCHAR *mem_200 ;
  UCHAR *mem_201 ;
  UCHAR *mem_202 ;
  UCHAR *mem_203 ;
  PDEVICE_OBJECT *mem_204 ;
  ULONG *mem_205 ;
  ULONG *mem_206 ;
  PDEVICE_OBJECT *mem_207 ;
  ULONG *mem_208 ;
  ULONG *mem_209 ;
  BOOLEAN *mem_210 ;
  BOOLEAN *mem_211 ;
  UCHAR *mem_212 ;
  ULONG *mem_213 ;
  UCHAR *mem_214 ;
  UCHAR *mem_215 ;
  UCHAR *mem_216 ;
  ULONG *mem_217 ;
  UCHAR *mem_218 ;
  UCHAR *mem_219 ;
  INTERFACE_TYPE *mem_220 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_221 ;
  ULONG *mem_222 ;
  UCHAR *mem_223 ;
  ULONG *mem_224 ;
  UCHAR *mem_225 ;
  ULONG *mem_226 ;
  UCHAR *mem_227 ;
  ULONG *mem_228 ;
  ULONG *mem_229 ;
  UCHAR *mem_230 ;
  PDEVICE_OBJECT *mem_231 ;
  BOOLEAN *mem_232 ;
  BOOLEAN *mem_233 ;
  NTSTATUS *mem_234 ;

  {
#line 1887
  __cil_tmp15 = & Dc;
#line 1887
  *__cil_tmp15 = (enum _CONFIGURATION_TYPE )13;
#line 1888
  __cil_tmp16 = & Fp;
#line 1888
  *__cil_tmp16 = (enum _CONFIGURATION_TYPE )26;
#line 1890
  __cil_tmp17 = (unsigned int )DeviceObject;
#line 1890
  __cil_tmp18 = __cil_tmp17 + 40;
#line 1890
  mem_190 = (PVOID *)__cil_tmp18;
#line 1890
  __cil_tmp19 = *mem_190;
#line 1890
  disketteExtension = (DISKETTE_EXTENSION *)__cil_tmp19;
#line 1891
  __cil_tmp20 = 24 + 8;
#line 1891
  __cil_tmp21 = 0 + __cil_tmp20;
#line 1891
  __cil_tmp22 = 64 + __cil_tmp21;
#line 1891
  __cil_tmp23 = (unsigned int )Irp;
#line 1891
  __cil_tmp24 = __cil_tmp23 + __cil_tmp22;
#line 1891
  mem_191 = (struct _IO_STACK_LOCATION **)__cil_tmp24;
#line 1891
  irpSp = *mem_191;
  {
#line 1893
  while (1) {
    while_40_continue: /* CIL Label */ ;
    goto while_40_break;
  }
  while_40_break: /* CIL Label */ ;
  }
  {
#line 1894
  while (1) {
    while_41_continue: /* CIL Label */ ;
    goto while_41_break;
  }
  while_41_break: /* CIL Label */ ;
  }
  {
#line 1895
  while (1) {
    while_42_continue: /* CIL Label */ ;
    goto while_42_break;
  }
  while_42_break: /* CIL Label */ ;
  }
  {
#line 1900
  __cil_tmp25 = (enum _EVENT_TYPE )0;
#line 1900
  KeInitializeEvent(& doneEvent, __cil_tmp25, (unsigned char)0);
#line 1902
  __cil_tmp26 = 24 + 8;
#line 1902
  __cil_tmp27 = 0 + __cil_tmp26;
#line 1902
  __cil_tmp28 = 64 + __cil_tmp27;
#line 1902
  __cil_tmp29 = (unsigned int )Irp;
#line 1902
  __cil_tmp30 = __cil_tmp29 + __cil_tmp28;
#line 1902
  mem_192 = (struct _IO_STACK_LOCATION **)__cil_tmp30;
#line 1902
  irpSp___0 = *mem_192;
#line 1902
  __cil_tmp31 = 24 + 8;
#line 1902
  __cil_tmp32 = 0 + __cil_tmp31;
#line 1902
  __cil_tmp33 = 64 + __cil_tmp32;
#line 1902
  __cil_tmp34 = (unsigned int )Irp;
#line 1902
  __cil_tmp35 = __cil_tmp34 + __cil_tmp33;
#line 1902
  mem_193 = (struct _IO_STACK_LOCATION **)__cil_tmp35;
#line 1902
  __cil_tmp36 = *mem_193;
#line 1902
  nextIrpSp = __cil_tmp36 - 1;
#line 1902
  __cil_tmp37 = (void *)nextIrpSp;
#line 1902
  __cil_tmp38 = (void const   *)irpSp___0;
#line 1902
  __cil_tmp39 = (IO_STACK_LOCATION *)0;
#line 1902
  __cil_tmp40 = (unsigned int )__cil_tmp39;
#line 1902
  __cil_tmp41 = __cil_tmp40 + 112;
#line 1902
  __cil_tmp42 = (NTSTATUS (**)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ))__cil_tmp41;
#line 1902
  __cil_tmp43 = (long )__cil_tmp42;
#line 1902
  __cil_tmp44 = (unsigned int )__cil_tmp43;
#line 1902
  memcpy(__cil_tmp37, __cil_tmp38, __cil_tmp44);
#line 1902
  __cil_tmp45 = (unsigned int )nextIrpSp;
#line 1902
  __cil_tmp46 = __cil_tmp45 + 3;
#line 1902
  mem_194 = (UCHAR *)__cil_tmp46;
#line 1902
  *mem_194 = (unsigned char)0;
  }
#line 1904
  if (s != 1) {
    {
#line 1904
    __VERIFIER_assert(0);
    }
  } else {
#line 1906
    if (compRegistered != 0) {
      {
#line 1906
      __VERIFIER_assert(0);
      }
    } else {
#line 1908
      compRegistered = 1;
#line 1909
      compFptr = & FloppyPnpComplete;
    }
  }
  {
#line 1915
  __cil_tmp47 = 24 + 8;
#line 1915
  __cil_tmp48 = 0 + __cil_tmp47;
#line 1915
  __cil_tmp49 = 64 + __cil_tmp48;
#line 1915
  __cil_tmp50 = (unsigned int )Irp;
#line 1915
  __cil_tmp51 = __cil_tmp50 + __cil_tmp49;
#line 1915
  mem_195 = (struct _IO_STACK_LOCATION **)__cil_tmp51;
#line 1915
  __cil_tmp52 = *mem_195;
#line 1915
  irpSp___1 = __cil_tmp52 - 1;
#line 1915
  __cil_tmp53 = (unsigned int )irpSp___1;
#line 1915
  __cil_tmp54 = __cil_tmp53 + 112;
#line 1915
  mem_196 = (NTSTATUS (**)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ))__cil_tmp54;
#line 1915
  *mem_196 = & FloppyPnpComplete;
#line 1915
  __cil_tmp55 = (unsigned int )irpSp___1;
#line 1915
  __cil_tmp56 = __cil_tmp55 + 116;
#line 1915
  mem_197 = (PVOID *)__cil_tmp56;
#line 1915
  *mem_197 = (void *)(& doneEvent);
#line 1915
  __cil_tmp57 = (unsigned int )irpSp___1;
#line 1915
  __cil_tmp58 = __cil_tmp57 + 3;
#line 1915
  mem_198 = (UCHAR *)__cil_tmp58;
#line 1915
  *mem_198 = (unsigned char)0;
#line 1915
  __cil_tmp59 = (unsigned int )irpSp___1;
#line 1915
  __cil_tmp60 = __cil_tmp59 + 3;
#line 1915
  mem_199 = (UCHAR *)__cil_tmp60;
#line 1915
  *mem_199 = (unsigned char)64;
#line 1915
  __cil_tmp61 = (unsigned int )irpSp___1;
#line 1915
  __cil_tmp62 = __cil_tmp61 + 3;
#line 1915
  __cil_tmp63 = (unsigned int )irpSp___1;
#line 1915
  __cil_tmp64 = __cil_tmp63 + 3;
#line 1915
  mem_200 = (UCHAR *)__cil_tmp64;
#line 1915
  __cil_tmp65 = *mem_200;
#line 1915
  __cil_tmp66 = (int )__cil_tmp65;
#line 1915
  __cil_tmp67 = __cil_tmp66 | 128;
#line 1915
  mem_201 = (UCHAR *)__cil_tmp62;
#line 1915
  *mem_201 = (unsigned char )__cil_tmp67;
#line 1915
  __cil_tmp68 = (unsigned int )irpSp___1;
#line 1915
  __cil_tmp69 = __cil_tmp68 + 3;
#line 1915
  __cil_tmp70 = (unsigned int )irpSp___1;
#line 1915
  __cil_tmp71 = __cil_tmp70 + 3;
#line 1915
  mem_202 = (UCHAR *)__cil_tmp71;
#line 1915
  __cil_tmp72 = *mem_202;
#line 1915
  __cil_tmp73 = (int )__cil_tmp72;
#line 1915
  __cil_tmp74 = __cil_tmp73 | 32;
#line 1915
  mem_203 = (UCHAR *)__cil_tmp69;
#line 1915
  *mem_203 = (unsigned char )__cil_tmp74;
#line 1917
  __cil_tmp75 = (unsigned int )disketteExtension;
#line 1917
  __cil_tmp76 = __cil_tmp75 + 8;
#line 1917
  mem_204 = (PDEVICE_OBJECT *)__cil_tmp76;
#line 1917
  __cil_tmp77 = *mem_204;
#line 1917
  ntStatus = IofCallDriver(__cil_tmp77, Irp);
  }
#line 1919
  if (ntStatus == 259L) {
    {
#line 1921
    __cil_tmp78 = (void *)(& doneEvent);
#line 1921
    __cil_tmp79 = (enum _KWAIT_REASON )0;
#line 1921
    __cil_tmp80 = (void *)0;
#line 1921
    __cil_tmp81 = (LARGE_INTEGER *)__cil_tmp80;
#line 1921
    ntStatus = KeWaitForSingleObject(__cil_tmp78, __cil_tmp79, (char)0, (unsigned char)0,
                                     __cil_tmp81);
#line 1930
    ntStatus = myStatus;
    }
  } else {

  }
  {
#line 1932
  __cil_tmp82 = (unsigned int )(& fdcInfo) + 128;
#line 1932
  mem_205 = (ULONG *)__cil_tmp82;
#line 1932
  *mem_205 = 0UL;
#line 1933
  __cil_tmp83 = (unsigned int )(& fdcInfo) + 132;
#line 1933
  mem_206 = (ULONG *)__cil_tmp83;
#line 1933
  *mem_206 = 0UL;
#line 1935
  __cil_tmp84 = (unsigned int )disketteExtension;
#line 1935
  __cil_tmp85 = __cil_tmp84 + 8;
#line 1935
  mem_207 = (PDEVICE_OBJECT *)__cil_tmp85;
#line 1935
  __cil_tmp86 = *mem_207;
#line 1935
  __cil_tmp87 = 770 << 2;
#line 1935
  __cil_tmp88 = 7 << 16;
#line 1935
  __cil_tmp89 = __cil_tmp88 | __cil_tmp87;
#line 1935
  __cil_tmp90 = __cil_tmp89 | 3;
#line 1935
  __cil_tmp91 = (unsigned long )__cil_tmp90;
#line 1935
  __cil_tmp92 = (void *)(& fdcInfo);
#line 1935
  ntStatus = FlFdcDeviceIo(__cil_tmp86, __cil_tmp91, __cil_tmp92);
  }
#line 1939
  if (ntStatus >= 0L) {
#line 1941
    __cil_tmp93 = (unsigned int )disketteExtension;
#line 1941
    __cil_tmp94 = __cil_tmp93 + 108;
#line 1941
    __cil_tmp95 = (unsigned int )(& fdcInfo) + 56;
#line 1941
    mem_208 = (ULONG *)__cil_tmp94;
#line 1941
    mem_209 = (ULONG *)__cil_tmp95;
#line 1941
    *mem_208 = *mem_209;
    {
#line 1943
    __cil_tmp96 = (unsigned int )(& fdcInfo) + 60;
    {
#line 1943
    mem_210 = (BOOLEAN *)__cil_tmp96;
#line 1943
    if (*mem_210) {
      {
#line 1943
      __cil_tmp97 = (unsigned int )(& fdcInfo) + 61;
      {
#line 1943
      mem_211 = (BOOLEAN *)__cil_tmp97;
#line 1943
      if (*mem_211) {
        {
#line 1946
        ntStatus = FlAcpiConfigureFloppy(disketteExtension, & fdcInfo);
        }
        {
#line 1948
        __cil_tmp98 = (unsigned int )disketteExtension;
#line 1948
        __cil_tmp99 = __cil_tmp98 + 174;
#line 1948
        mem_212 = (UCHAR *)__cil_tmp99;
#line 1948
        __cil_tmp100 = *mem_212;
#line 1948
        __cil_tmp101 = (int )__cil_tmp100;
#line 1948
        if (__cil_tmp101 == 4) {
#line 1950
          __cil_tmp102 = (unsigned int )disketteExtension;
#line 1950
          __cil_tmp103 = __cil_tmp102 + 364;
#line 1950
          __cil_tmp104 = (unsigned int )(& fdcInfo) + 48;
#line 1950
          mem_213 = (ULONG *)__cil_tmp104;
#line 1950
          __cil_tmp105 = *mem_213;
#line 1950
          __cil_tmp106 = 1 << __cil_tmp105;
#line 1950
          __cil_tmp107 = (unsigned int )disketteExtension;
#line 1950
          __cil_tmp108 = __cil_tmp107 + 364;
#line 1950
          mem_214 = (UCHAR *)__cil_tmp108;
#line 1950
          __cil_tmp109 = *mem_214;
#line 1950
          __cil_tmp110 = (int )__cil_tmp109;
#line 1950
          __cil_tmp111 = __cil_tmp110 | __cil_tmp106;
#line 1950
          mem_215 = (UCHAR *)__cil_tmp103;
#line 1950
          *mem_215 = (unsigned char )__cil_tmp111;
        } else {

        }
        }
      } else {
        goto _L;
      }
      }
      }
    } else {
      _L: 
      {
#line 1957
      __cil_tmp112 = (unsigned int )disketteExtension;
#line 1957
      __cil_tmp113 = __cil_tmp112 + 174;
#line 1957
      mem_216 = (UCHAR *)__cil_tmp113;
#line 1957
      __cil_tmp114 = *mem_216;
#line 1957
      __cil_tmp115 = (int )__cil_tmp114;
#line 1957
      if (__cil_tmp115 == 4) {
#line 1959
        __cil_tmp116 = (unsigned int )disketteExtension;
#line 1959
        __cil_tmp117 = __cil_tmp116 + 364;
#line 1959
        __cil_tmp118 = (unsigned int )(& fdcInfo) + 48;
#line 1959
        mem_217 = (ULONG *)__cil_tmp118;
#line 1959
        __cil_tmp119 = *mem_217;
#line 1959
        __cil_tmp120 = 1 << __cil_tmp119;
#line 1959
        __cil_tmp121 = (unsigned int )disketteExtension;
#line 1959
        __cil_tmp122 = __cil_tmp121 + 364;
#line 1959
        mem_218 = (UCHAR *)__cil_tmp122;
#line 1959
        __cil_tmp123 = *mem_218;
#line 1959
        __cil_tmp124 = (int )__cil_tmp123;
#line 1959
        __cil_tmp125 = __cil_tmp124 | __cil_tmp120;
#line 1959
        mem_219 = (UCHAR *)__cil_tmp117;
#line 1959
        *mem_219 = (unsigned char )__cil_tmp125;
      } else {

      }
      }
#line 1966
      InterfaceType = (enum _INTERFACE_TYPE )0;
      {
#line 1966
      while (1) {
        while_43_continue: /* CIL Label */ ;
        {
#line 1966
        __cil_tmp126 = (int )InterfaceType;
#line 1966
        if (__cil_tmp126 < 16) {

        } else {
          goto while_43_break;
        }
        }
        {
#line 1970
        __cil_tmp127 = (unsigned int )(& fdcInfo) + 8;
#line 1970
        mem_220 = (INTERFACE_TYPE *)__cil_tmp127;
#line 1970
        *mem_220 = InterfaceType;
#line 1971
        __cil_tmp128 = (unsigned int )(& fdcInfo) + 8;
#line 1971
        __cil_tmp129 = (INTERFACE_TYPE *)__cil_tmp128;
#line 1971
        __cil_tmp130 = (unsigned int )(& fdcInfo) + 40;
#line 1971
        __cil_tmp131 = (ULONG *)__cil_tmp130;
#line 1971
        __cil_tmp132 = (unsigned int )(& fdcInfo) + 44;
#line 1971
        __cil_tmp133 = (ULONG *)__cil_tmp132;
#line 1971
        __cil_tmp134 = (unsigned int )(& fdcInfo) + 48;
#line 1971
        __cil_tmp135 = (ULONG *)__cil_tmp134;
#line 1971
        __cil_tmp136 = (void *)disketteExtension;
#line 1971
        ntStatus = IoQueryDeviceDescription(__cil_tmp129, __cil_tmp131, & Dc, __cil_tmp133,
                                            & Fp, __cil_tmp135, & FlConfigCallBack,
                                            __cil_tmp136);
        }
#line 1980
        if (ntStatus >= 0L) {
          {
#line 1985
          while (1) {
            while_44_continue: /* CIL Label */ ;
            goto while_44_break;
          }
          while_44_break: /* CIL Label */ ;
          }
          goto while_43_break;
        } else {

        }
#line 1966
        __cil_tmp137 = (int )InterfaceType;
#line 1966
        __cil_tmp138 = __cil_tmp137 + 1;
#line 1966
        InterfaceType = (enum _INTERFACE_TYPE )__cil_tmp138;
      }
      while_43_break: /* CIL Label */ ;
      }
    }
    }
    }
#line 1991
    if (ntStatus >= 0L) {
      {
#line 1993
      __cil_tmp139 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 1993
      __cil_tmp140 = (unsigned int )__cil_tmp139;
#line 1993
      __cil_tmp141 = __cil_tmp140 + 732;
#line 1993
      mem_221 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp141;
#line 1993
      __cil_tmp142 = *mem_221;
#line 1993
      __cil_tmp143 = (int )__cil_tmp142;
#line 1993
      if (__cil_tmp143 == 1) {
#line 1994
        __cil_tmp144 = (unsigned int )disketteExtension;
#line 1994
        __cil_tmp145 = __cil_tmp144 + 248;
#line 1994
        __cil_tmp146 = (unsigned int )(& fdcInfo) + 52;
#line 1994
        mem_222 = (ULONG *)__cil_tmp146;
#line 1994
        __cil_tmp147 = *mem_222;
#line 1994
        mem_223 = (UCHAR *)__cil_tmp145;
#line 1994
        *mem_223 = (unsigned char )__cil_tmp147;
#line 1995
        __cil_tmp148 = (unsigned int )disketteExtension;
#line 1995
        __cil_tmp149 = __cil_tmp148 + 249;
#line 1995
        __cil_tmp150 = (unsigned int )(& fdcInfo) + 52;
#line 1995
        mem_224 = (ULONG *)__cil_tmp150;
#line 1995
        __cil_tmp151 = *mem_224;
#line 1995
        mem_225 = (UCHAR *)__cil_tmp149;
#line 1995
        *mem_225 = (unsigned char )__cil_tmp151;
      } else {
#line 1997
        __cil_tmp152 = (unsigned int )disketteExtension;
#line 1997
        __cil_tmp153 = __cil_tmp152 + 248;
#line 1997
        __cil_tmp154 = (unsigned int )(& fdcInfo) + 48;
#line 1997
        mem_226 = (ULONG *)__cil_tmp154;
#line 1997
        __cil_tmp155 = *mem_226;
#line 1997
        mem_227 = (UCHAR *)__cil_tmp153;
#line 1997
        *mem_227 = (unsigned char )__cil_tmp155;
#line 1998
        __cil_tmp156 = (unsigned int )disketteExtension;
#line 1998
        __cil_tmp157 = __cil_tmp156 + 249;
#line 1998
        __cil_tmp158 = (unsigned int )(& fdcInfo) + 48;
#line 1998
        mem_228 = (ULONG *)__cil_tmp158;
#line 1998
        __cil_tmp159 = *mem_228;
#line 1998
        __cil_tmp160 = 16 << __cil_tmp159;
#line 1998
        __cil_tmp161 = (unsigned long )__cil_tmp160;
#line 1998
        __cil_tmp162 = (unsigned int )(& fdcInfo) + 48;
#line 1998
        mem_229 = (ULONG *)__cil_tmp162;
#line 1998
        __cil_tmp163 = *mem_229;
#line 1998
        __cil_tmp164 = __cil_tmp163 | __cil_tmp161;
#line 1998
        mem_230 = (UCHAR *)__cil_tmp157;
#line 1998
        *mem_230 = (unsigned char )__cil_tmp164;
      }
      }
      {
#line 2002
      __cil_tmp165 = (unsigned int )disketteExtension;
#line 2002
      __cil_tmp166 = __cil_tmp165 + 4;
#line 2002
      mem_231 = (PDEVICE_OBJECT *)__cil_tmp166;
#line 2002
      __cil_tmp167 = *mem_231;
#line 2002
      __cil_tmp168 = (GUID *)(& MOUNTDEV_MOUNTED_DEVICE_GUID);
#line 2002
      __cil_tmp169 = (GUID const   *)__cil_tmp168;
#line 2002
      __cil_tmp170 = (void *)0;
#line 2002
      __cil_tmp171 = (UNICODE_STRING *)__cil_tmp170;
#line 2002
      __cil_tmp172 = (unsigned int )disketteExtension;
#line 2002
      __cil_tmp173 = __cil_tmp172 + 376;
#line 2002
      __cil_tmp174 = (UNICODE_STRING *)__cil_tmp173;
#line 2002
      pnpStatus = IoRegisterDeviceInterface(__cil_tmp167, __cil_tmp169, __cil_tmp171,
                                            __cil_tmp174);
      }
#line 2007
      if (pnpStatus >= 0L) {
        {
#line 2009
        __cil_tmp175 = (unsigned int )disketteExtension;
#line 2009
        __cil_tmp176 = __cil_tmp175 + 376;
#line 2009
        __cil_tmp177 = (UNICODE_STRING *)__cil_tmp176;
#line 2009
        pnpStatus = IoSetDeviceInterfaceState(__cil_tmp177, (unsigned char)1);
        }
      } else {

      }
      {
#line 2013
      __cil_tmp178 = (unsigned int )disketteExtension;
#line 2013
      __cil_tmp179 = __cil_tmp178 + 12;
#line 2013
      mem_232 = (BOOLEAN *)__cil_tmp179;
#line 2013
      *mem_232 = (unsigned char)1;
#line 2015
      __cil_tmp180 = (unsigned int )disketteExtension;
#line 2015
      __cil_tmp181 = __cil_tmp180 + 428;
#line 2015
      __cil_tmp182 = (FAST_MUTEX *)__cil_tmp181;
#line 2015
      ExAcquireFastMutex(__cil_tmp182);
#line 2016
      __cil_tmp183 = (unsigned int )disketteExtension;
#line 2016
      __cil_tmp184 = __cil_tmp183 + 14;
#line 2016
      mem_233 = (BOOLEAN *)__cil_tmp184;
#line 2016
      *mem_233 = (unsigned char)0;
#line 2017
      __cil_tmp185 = (unsigned int )disketteExtension;
#line 2017
      __cil_tmp186 = __cil_tmp185 + 428;
#line 2017
      __cil_tmp187 = (FAST_MUTEX *)__cil_tmp186;
#line 2017
      ExReleaseFastMutex(__cil_tmp187);
#line 2019
      FloppyProcessQueuedRequests(disketteExtension);
      }
    } else {

    }
  } else {

  }
  {
#line 2023
  __cil_tmp188 = (unsigned int )Irp;
#line 2023
  __cil_tmp189 = __cil_tmp188 + 24;
#line 2023
  mem_234 = (NTSTATUS *)__cil_tmp189;
#line 2023
  *mem_234 = ntStatus;
#line 2024
  myStatus = ntStatus;
#line 2025
  IofCompleteRequest(Irp, (char)0);
  }
#line 2026
  return (ntStatus);
}
}
#line 2029 "floppy.c"
NTSTATUS FloppyPnpComplete(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) 
{ struct _KEVENT *__cil_tmp4 ;

  {
  {
#line 2043
  __cil_tmp4 = (struct _KEVENT *)Context;
#line 2043
  KeSetEvent(__cil_tmp4, 1L, (unsigned char)0);
  }
#line 2047
  return (-1073741802L);
}
}
#line 2050 "floppy.c"
NTSTATUS FloppyPower(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ PDISKETTE_EXTENSION disketteExtension ;
  NTSTATUS ntStatus ;
  PIO_STACK_LOCATION irpSp ;
  POWER_STATE_TYPE type ;
  POWER_STATE state ;
  BOOLEAN WaitForCompletion ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  PVOID __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  UCHAR __cil_tmp27 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  FAST_MUTEX *__cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  LONG __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  FAST_MUTEX *__cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  FAST_MUTEX *__cil_tmp46 ;
  int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  FAST_MUTEX *__cil_tmp50 ;
  int __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  FAST_MUTEX *__cil_tmp58 ;
  void *__cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  PKTHREAD __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  PKTHREAD __cil_tmp68 ;
  void *__cil_tmp69 ;
  enum _KWAIT_REASON __cil_tmp70 ;
  void *__cil_tmp71 ;
  LARGE_INTEGER *__cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  CHAR __cil_tmp77 ;
  int __cil_tmp78 ;
  int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  unsigned int __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  unsigned int __cil_tmp89 ;
  struct _IO_STACK_LOCATION *__cil_tmp90 ;
  unsigned int __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  PDEVICE_OBJECT __cil_tmp93 ;
  PVOID *mem_94 ;
  struct _IO_STACK_LOCATION **mem_95 ;
  POWER_STATE_TYPE *mem_96 ;
  POWER_STATE *mem_97 ;
  UCHAR *mem_98 ;
  LONG *mem_99 ;
  ULONG_PTR *mem_100 ;
  NTSTATUS *mem_101 ;
  BOOLEAN *mem_102 ;
  BOOLEAN *mem_103 ;
  PKTHREAD *mem_104 ;
  PKTHREAD *mem_105 ;
  CHAR *mem_106 ;
  CHAR *mem_107 ;
  struct _IO_STACK_LOCATION **mem_108 ;
  struct _IO_STACK_LOCATION **mem_109 ;
  PDEVICE_OBJECT *mem_110 ;

  {
#line 2071
  ntStatus = myStatus;
#line 2075
  WaitForCompletion = (unsigned char)1;
  {
#line 2077
  while (1) {
    while_45_continue: /* CIL Label */ ;
    goto while_45_break;
  }
  while_45_break: /* CIL Label */ ;
  }
#line 2079
  __cil_tmp9 = (unsigned int )DeviceObject;
#line 2079
  __cil_tmp10 = __cil_tmp9 + 40;
#line 2079
  mem_94 = (PVOID *)__cil_tmp10;
#line 2079
  __cil_tmp11 = *mem_94;
#line 2079
  disketteExtension = (DISKETTE_EXTENSION *)__cil_tmp11;
#line 2080
  __cil_tmp12 = 24 + 8;
#line 2080
  __cil_tmp13 = 0 + __cil_tmp12;
#line 2080
  __cil_tmp14 = 64 + __cil_tmp13;
#line 2080
  __cil_tmp15 = (unsigned int )Irp;
#line 2080
  __cil_tmp16 = __cil_tmp15 + __cil_tmp14;
#line 2080
  mem_95 = (struct _IO_STACK_LOCATION **)__cil_tmp16;
#line 2080
  irpSp = *mem_95;
#line 2082
  __cil_tmp17 = 0 + 4;
#line 2082
  __cil_tmp18 = 4 + __cil_tmp17;
#line 2082
  __cil_tmp19 = (unsigned int )irpSp;
#line 2082
  __cil_tmp20 = __cil_tmp19 + __cil_tmp18;
#line 2082
  mem_96 = (POWER_STATE_TYPE *)__cil_tmp20;
#line 2082
  type = *mem_96;
#line 2083
  __cil_tmp21 = 0 + 36;
#line 2083
  __cil_tmp22 = 4 + __cil_tmp21;
#line 2083
  __cil_tmp23 = (unsigned int )irpSp;
#line 2083
  __cil_tmp24 = __cil_tmp23 + __cil_tmp22;
#line 2083
  mem_97 = (POWER_STATE *)__cil_tmp24;
#line 2083
  state = *mem_97;
  {
#line 2085
  __cil_tmp25 = (unsigned int )irpSp;
#line 2085
  __cil_tmp26 = __cil_tmp25 + 1;
#line 2085
  mem_98 = (UCHAR *)__cil_tmp26;
#line 2085
  __cil_tmp27 = *mem_98;
#line 2086
  if ((int )__cil_tmp27 == 3) {
    goto switch_46_3;
  } else {
#line 2124
    if ((int )__cil_tmp27 == 2) {
      goto switch_46_2;
    } else {
      {
      goto switch_46_default;
#line 2085
      if (0) {
        switch_46_3: /* CIL Label */ ;
        {
#line 2090
        while (1) {
          while_47_continue: /* CIL Label */ ;
          goto while_47_break;
        }
        while_47_break: /* CIL Label */ ;
        }
        {
#line 2092
        __cil_tmp28 = (int )type;
#line 2092
        if (__cil_tmp28 == 0) {
          {
#line 2092
          __cil_tmp29 = (int )state.SystemState;
#line 2092
          if (__cil_tmp29 > 5) {
#line 2097
            ntStatus = 0L;
            goto switch_46_break;
          } else {

          }
          }
        } else {

        }
        }
        {
#line 2107
        __cil_tmp30 = (unsigned int )disketteExtension;
#line 2107
        __cil_tmp31 = __cil_tmp30 + 56;
#line 2107
        __cil_tmp32 = (FAST_MUTEX *)__cil_tmp31;
#line 2107
        ExAcquireFastMutex(__cil_tmp32);
        }
        {
#line 2108
        __cil_tmp33 = (unsigned int )disketteExtension;
#line 2108
        __cil_tmp34 = __cil_tmp33 + 88;
#line 2108
        mem_99 = (LONG *)__cil_tmp34;
#line 2108
        __cil_tmp35 = *mem_99;
#line 2108
        if (__cil_tmp35 >= 0L) {
          {
#line 2109
          __cil_tmp36 = (unsigned int )disketteExtension;
#line 2109
          __cil_tmp37 = __cil_tmp36 + 56;
#line 2109
          __cil_tmp38 = (FAST_MUTEX *)__cil_tmp37;
#line 2109
          ExReleaseFastMutex(__cil_tmp38);
          }
          {
#line 2111
          while (1) {
            while_48_continue: /* CIL Label */ ;
            goto while_48_break;
          }
          while_48_break: /* CIL Label */ ;
          }
          {
#line 2113
          PoStartNextPowerIrp(Irp);
#line 2114
          __cil_tmp39 = 24 + 4;
#line 2114
          __cil_tmp40 = (unsigned int )Irp;
#line 2114
          __cil_tmp41 = __cil_tmp40 + __cil_tmp39;
#line 2114
          mem_100 = (ULONG_PTR *)__cil_tmp41;
#line 2114
          *mem_100 = 0UL;
#line 2115
          __cil_tmp42 = (unsigned int )Irp;
#line 2115
          __cil_tmp43 = __cil_tmp42 + 24;
#line 2115
          mem_101 = (NTSTATUS *)__cil_tmp43;
#line 2115
          *mem_101 = -2147483631L;
#line 2116
          myStatus = -2147483631L;
#line 2117
          IofCompleteRequest(Irp, (char)0);
          }
#line 2118
          return (-2147483631L);
        } else {

        }
        }
        {
#line 2120
        __cil_tmp44 = (unsigned int )disketteExtension;
#line 2120
        __cil_tmp45 = __cil_tmp44 + 56;
#line 2120
        __cil_tmp46 = (FAST_MUTEX *)__cil_tmp45;
#line 2120
        ExReleaseFastMutex(__cil_tmp46);
#line 2122
        ntStatus = 0L;
        }
        goto switch_46_break;
        switch_46_2: /* CIL Label */ ;
        {
#line 2131
        __cil_tmp47 = (int )type;
#line 2131
        if (__cil_tmp47 == 0) {
          {
#line 2132
          __cil_tmp48 = (unsigned int )disketteExtension;
#line 2132
          __cil_tmp49 = __cil_tmp48 + 396;
#line 2132
          __cil_tmp50 = (FAST_MUTEX *)__cil_tmp49;
#line 2132
          ExAcquireFastMutex(__cil_tmp50);
          }
          {
#line 2133
          __cil_tmp51 = (int )state.SystemState;
#line 2133
          if (__cil_tmp51 == 1) {
            {
#line 2134
            while (1) {
              while_49_continue: /* CIL Label */ ;
              goto while_49_break;
            }
            while_49_break: /* CIL Label */ ;
            }
#line 2135
            __cil_tmp52 = (unsigned int )disketteExtension;
#line 2135
            __cil_tmp53 = __cil_tmp52 + 393;
#line 2135
            mem_102 = (BOOLEAN *)__cil_tmp53;
#line 2135
            *mem_102 = (unsigned char)0;
#line 2136
            WaitForCompletion = (unsigned char)0;
          } else {
            {
#line 2138
            while (1) {
              while_50_continue: /* CIL Label */ ;
              goto while_50_break;
            }
            while_50_break: /* CIL Label */ ;
            }
#line 2139
            WaitForCompletion = (unsigned char)1;
#line 2140
            __cil_tmp54 = (unsigned int )disketteExtension;
#line 2140
            __cil_tmp55 = __cil_tmp54 + 393;
#line 2140
            mem_103 = (BOOLEAN *)__cil_tmp55;
#line 2140
            *mem_103 = (unsigned char)1;
          }
          }
          {
#line 2142
          __cil_tmp56 = (unsigned int )disketteExtension;
#line 2142
          __cil_tmp57 = __cil_tmp56 + 396;
#line 2142
          __cil_tmp58 = (FAST_MUTEX *)__cil_tmp57;
#line 2142
          ExReleaseFastMutex(__cil_tmp58);
          }
          {
#line 2147
          __cil_tmp59 = (void *)0;
#line 2147
          __cil_tmp60 = (unsigned int )__cil_tmp59;
#line 2147
          __cil_tmp61 = (unsigned int )disketteExtension;
#line 2147
          __cil_tmp62 = __cil_tmp61 + 92;
#line 2147
          mem_104 = (PKTHREAD *)__cil_tmp62;
#line 2147
          __cil_tmp63 = *mem_104;
#line 2147
          __cil_tmp64 = (unsigned int )__cil_tmp63;
#line 2147
          if (__cil_tmp64 != __cil_tmp60) {
            {
#line 2147
            __cil_tmp65 = (int )WaitForCompletion;
#line 2147
            if (__cil_tmp65 == 1) {
              {
#line 2149
              __cil_tmp66 = (unsigned int )disketteExtension;
#line 2149
              __cil_tmp67 = __cil_tmp66 + 92;
#line 2149
              mem_105 = (PKTHREAD *)__cil_tmp67;
#line 2149
              __cil_tmp68 = *mem_105;
#line 2149
              __cil_tmp69 = (void *)__cil_tmp68;
#line 2149
              __cil_tmp70 = (enum _KWAIT_REASON )0;
#line 2149
              __cil_tmp71 = (void *)0;
#line 2149
              __cil_tmp72 = (LARGE_INTEGER *)__cil_tmp71;
#line 2149
              KeWaitForSingleObject(__cil_tmp69, __cil_tmp70, (char)0, (unsigned char)0,
                                    __cil_tmp72);
              }
            } else {

            }
            }
          } else {

          }
          }
        } else {

        }
        }
        {
#line 2157
        while (1) {
          while_51_continue: /* CIL Label */ ;
          goto while_51_break;
        }
        while_51_break: /* CIL Label */ ;
        }
#line 2158
        ntStatus = 0L;
        goto switch_46_break;
        switch_46_default: /* CIL Label */ ;
        goto switch_46_break;
      } else {
        switch_46_break: /* CIL Label */ ;
      }
      }
    }
  }
  }
  {
#line 2168
  PoStartNextPowerIrp(Irp);
  }
#line 2169
  if (s == 1) {
#line 2169
    s = 3;
  } else {
    {
#line 2169
    __VERIFIER_assert(0);
    }
  }
  {
#line 2170
  __cil_tmp73 = (unsigned int )Irp;
#line 2170
  __cil_tmp74 = __cil_tmp73 + 35;
#line 2170
  __cil_tmp75 = (unsigned int )Irp;
#line 2170
  __cil_tmp76 = __cil_tmp75 + 35;
#line 2170
  mem_106 = (CHAR *)__cil_tmp76;
#line 2170
  __cil_tmp77 = *mem_106;
#line 2170
  __cil_tmp78 = (int )__cil_tmp77;
#line 2170
  __cil_tmp79 = __cil_tmp78 + 1;
#line 2170
  mem_107 = (CHAR *)__cil_tmp74;
#line 2170
  *mem_107 = (char )__cil_tmp79;
#line 2170
  __cil_tmp80 = 24 + 8;
#line 2170
  __cil_tmp81 = 0 + __cil_tmp80;
#line 2170
  __cil_tmp82 = 64 + __cil_tmp81;
#line 2170
  __cil_tmp83 = (unsigned int )Irp;
#line 2170
  __cil_tmp84 = __cil_tmp83 + __cil_tmp82;
#line 2170
  __cil_tmp85 = 24 + 8;
#line 2170
  __cil_tmp86 = 0 + __cil_tmp85;
#line 2170
  __cil_tmp87 = 64 + __cil_tmp86;
#line 2170
  __cil_tmp88 = (unsigned int )Irp;
#line 2170
  __cil_tmp89 = __cil_tmp88 + __cil_tmp87;
#line 2170
  mem_108 = (struct _IO_STACK_LOCATION **)__cil_tmp89;
#line 2170
  __cil_tmp90 = *mem_108;
#line 2170
  mem_109 = (struct _IO_STACK_LOCATION **)__cil_tmp84;
#line 2170
  *mem_109 = __cil_tmp90 + 1;
#line 2171
  __cil_tmp91 = (unsigned int )disketteExtension;
#line 2171
  __cil_tmp92 = __cil_tmp91 + 8;
#line 2171
  mem_110 = (PDEVICE_OBJECT *)__cil_tmp92;
#line 2171
  __cil_tmp93 = *mem_110;
#line 2171
  ntStatus = PoCallDriver(__cil_tmp93, Irp);
  }
#line 2173
  return (ntStatus);
}
}
#line 2176 "floppy.c"
NTSTATUS FloppyReadWrite(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ PIO_STACK_LOCATION irpSp ;
  NTSTATUS ntStatus ;
  PDISKETTE_EXTENSION disketteExtension ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  PVOID __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  FAST_MUTEX *__cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  FAST_MUTEX *__cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  FAST_MUTEX *__cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  BOOLEAN __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  MEDIA_TYPE __cil_tmp39 ;
  int __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  ULONG __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  ULONG __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  ULONG __cil_tmp51 ;
  ULONG __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  ULONG __cil_tmp55 ;
  ULONG __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  ULONG __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  PVOID *mem_70 ;
  struct _IO_STACK_LOCATION **mem_71 ;
  BOOLEAN *mem_72 ;
  BOOLEAN *mem_73 ;
  BOOLEAN *mem_74 ;
  BOOLEAN *mem_75 ;
  ULONG_PTR *mem_76 ;
  NTSTATUS *mem_77 ;
  MEDIA_TYPE *mem_78 ;
  ULONG *mem_79 ;
  ULONG *mem_80 ;
  ULONG *mem_81 ;
  ULONG *mem_82 ;
  ULONG *mem_83 ;
  ULONG *mem_84 ;
  ULONG_PTR *mem_85 ;
  NTSTATUS *mem_86 ;
  NTSTATUS *mem_87 ;

  {
  {
#line 2208
  while (1) {
    while_52_continue: /* CIL Label */ ;
    goto while_52_break;
  }
  while_52_break: /* CIL Label */ ;
  }
  {
#line 2210
  __cil_tmp6 = (unsigned int )DeviceObject;
#line 2210
  __cil_tmp7 = __cil_tmp6 + 40;
#line 2210
  mem_70 = (PVOID *)__cil_tmp7;
#line 2210
  __cil_tmp8 = *mem_70;
#line 2210
  disketteExtension = (DISKETTE_EXTENSION *)__cil_tmp8;
#line 2212
  __cil_tmp9 = 24 + 8;
#line 2212
  __cil_tmp10 = 0 + __cil_tmp9;
#line 2212
  __cil_tmp11 = 64 + __cil_tmp10;
#line 2212
  __cil_tmp12 = (unsigned int )Irp;
#line 2212
  __cil_tmp13 = __cil_tmp12 + __cil_tmp11;
#line 2212
  mem_71 = (struct _IO_STACK_LOCATION **)__cil_tmp13;
#line 2212
  irpSp = *mem_71;
#line 2218
  __cil_tmp14 = (unsigned int )disketteExtension;
#line 2218
  __cil_tmp15 = __cil_tmp14 + 428;
#line 2218
  __cil_tmp16 = (FAST_MUTEX *)__cil_tmp15;
#line 2218
  ExAcquireFastMutex(__cil_tmp16);
  }
  {
#line 2219
  __cil_tmp17 = (unsigned int )disketteExtension;
#line 2219
  __cil_tmp18 = __cil_tmp17 + 14;
  {
#line 2219
  mem_72 = (BOOLEAN *)__cil_tmp18;
#line 2219
  if (*mem_72) {
    {
#line 2221
    ntStatus = FloppyQueueRequest(disketteExtension, Irp);
#line 2223
    __cil_tmp19 = (unsigned int )disketteExtension;
#line 2223
    __cil_tmp20 = __cil_tmp19 + 428;
#line 2223
    __cil_tmp21 = (FAST_MUTEX *)__cil_tmp20;
#line 2223
    ExReleaseFastMutex(__cil_tmp21);
    }
#line 2224
    return (ntStatus);
  } else {

  }
  }
  }
  {
#line 2226
  __cil_tmp22 = (unsigned int )disketteExtension;
#line 2226
  __cil_tmp23 = __cil_tmp22 + 428;
#line 2226
  __cil_tmp24 = (FAST_MUTEX *)__cil_tmp23;
#line 2226
  ExReleaseFastMutex(__cil_tmp24);
  }
  {
#line 2232
  __cil_tmp25 = (unsigned int )disketteExtension;
#line 2232
  __cil_tmp26 = __cil_tmp25 + 13;
  {
#line 2232
  mem_73 = (BOOLEAN *)__cil_tmp26;
#line 2232
  if (*mem_73) {
    goto _L;
  } else {
    {
#line 2232
    __cil_tmp27 = (unsigned int )disketteExtension;
#line 2232
    __cil_tmp28 = __cil_tmp27 + 12;
#line 2232
    mem_74 = (BOOLEAN *)__cil_tmp28;
#line 2232
    __cil_tmp29 = *mem_74;
#line 2232
    if (! __cil_tmp29) {
      _L: 
      {
#line 2234
      __cil_tmp30 = (unsigned int )disketteExtension;
#line 2234
      __cil_tmp31 = __cil_tmp30 + 13;
      {
#line 2234
      mem_75 = (BOOLEAN *)__cil_tmp31;
#line 2234
      if (*mem_75) {
#line 2235
        ntStatus = -1073741738L;
      } else {
#line 2237
        ntStatus = -1073741823L;
      }
      }
      }
      {
#line 2239
      __cil_tmp32 = 24 + 4;
#line 2239
      __cil_tmp33 = (unsigned int )Irp;
#line 2239
      __cil_tmp34 = __cil_tmp33 + __cil_tmp32;
#line 2239
      mem_76 = (ULONG_PTR *)__cil_tmp34;
#line 2239
      *mem_76 = 0UL;
#line 2240
      __cil_tmp35 = (unsigned int )Irp;
#line 2240
      __cil_tmp36 = __cil_tmp35 + 24;
#line 2240
      mem_77 = (NTSTATUS *)__cil_tmp36;
#line 2240
      *mem_77 = ntStatus;
#line 2241
      myStatus = ntStatus;
#line 2242
      IofCompleteRequest(Irp, (char)0);
      }
#line 2243
      return (ntStatus);
    } else {

    }
    }
  }
  }
  }
  {
#line 2245
  __cil_tmp37 = (unsigned int )disketteExtension;
#line 2245
  __cil_tmp38 = __cil_tmp37 + 184;
#line 2245
  mem_78 = (MEDIA_TYPE *)__cil_tmp38;
#line 2245
  __cil_tmp39 = *mem_78;
#line 2245
  __cil_tmp40 = (int )__cil_tmp39;
#line 2245
  if (__cil_tmp40 > 0) {
    {
#line 2245
    __cil_tmp41 = (unsigned int )disketteExtension;
#line 2245
    __cil_tmp42 = __cil_tmp41 + 180;
#line 2245
    mem_79 = (ULONG *)__cil_tmp42;
#line 2245
    __cil_tmp43 = *mem_79;
#line 2245
    __cil_tmp44 = (unsigned int )irpSp;
#line 2245
    __cil_tmp45 = __cil_tmp44 + 4;
#line 2245
    mem_80 = (ULONG *)__cil_tmp45;
#line 2245
    __cil_tmp46 = *mem_80;
#line 2245
    __cil_tmp47 = 0 + 8;
#line 2245
    __cil_tmp48 = 4 + __cil_tmp47;
#line 2245
    __cil_tmp49 = (unsigned int )irpSp;
#line 2245
    __cil_tmp50 = __cil_tmp49 + __cil_tmp48;
#line 2245
    mem_81 = (ULONG *)__cil_tmp50;
#line 2245
    __cil_tmp51 = *mem_81;
#line 2245
    __cil_tmp52 = __cil_tmp51 + __cil_tmp46;
#line 2245
    if (__cil_tmp52 > __cil_tmp43) {
      goto _L___1;
    } else {
      {
#line 2245
      __cil_tmp53 = (unsigned int )disketteExtension;
#line 2245
      __cil_tmp54 = __cil_tmp53 + 176;
#line 2245
      mem_82 = (ULONG *)__cil_tmp54;
#line 2245
      __cil_tmp55 = *mem_82;
#line 2245
      __cil_tmp56 = __cil_tmp55 - 1UL;
#line 2245
      __cil_tmp57 = (unsigned int )irpSp;
#line 2245
      __cil_tmp58 = __cil_tmp57 + 4;
#line 2245
      mem_83 = (ULONG *)__cil_tmp58;
#line 2245
      __cil_tmp59 = *mem_83;
#line 2245
      __cil_tmp60 = __cil_tmp59 & __cil_tmp56;
#line 2245
      if (__cil_tmp60 != 0UL) {
        _L___1: 
        {
#line 2252
        while (1) {
          while_53_continue: /* CIL Label */ ;
          goto while_53_break;
        }
        while_53_break: /* CIL Label */ ;
        }
        {
#line 2261
        while (1) {
          while_54_continue: /* CIL Label */ ;
          goto while_54_break;
        }
        while_54_break: /* CIL Label */ ;
        }
#line 2263
        ntStatus = -1073741811L;
      } else {
        goto _L___0;
      }
      }
    }
    }
  } else {
    _L___0: 
    {
#line 2272
    __cil_tmp61 = (unsigned int )irpSp;
#line 2272
    __cil_tmp62 = __cil_tmp61 + 4;
    {
#line 2272
    mem_84 = (ULONG *)__cil_tmp62;
#line 2272
    if (*mem_84) {
      {
#line 2279
      while (1) {
        while_55_continue: /* CIL Label */ ;
        goto while_55_break;
      }
      while_55_break: /* CIL Label */ ;
      }
      {
#line 2281
      ntStatus = FlQueueIrpToThread(Irp, disketteExtension);
      }
    } else {
#line 2288
      __cil_tmp63 = 24 + 4;
#line 2288
      __cil_tmp64 = (unsigned int )Irp;
#line 2288
      __cil_tmp65 = __cil_tmp64 + __cil_tmp63;
#line 2288
      mem_85 = (ULONG_PTR *)__cil_tmp65;
#line 2288
      *mem_85 = 0UL;
#line 2289
      __cil_tmp66 = (unsigned int )Irp;
#line 2289
      __cil_tmp67 = __cil_tmp66 + 24;
#line 2289
      mem_86 = (NTSTATUS *)__cil_tmp67;
#line 2289
      *mem_86 = 0L;
#line 2290
      myStatus = 0L;
      {
#line 2291
      while (1) {
        while_56_continue: /* CIL Label */ ;
        goto while_56_break;
      }
      while_56_break: /* CIL Label */ ;
      }
      {
#line 2292
      IofCompleteRequest(Irp, (char)0);
      }
#line 2293
      return (0L);
    }
    }
    }
  }
  }
#line 2297
  if (ntStatus != 259L) {
#line 2298
    __cil_tmp68 = (unsigned int )Irp;
#line 2298
    __cil_tmp69 = __cil_tmp68 + 24;
#line 2298
    mem_87 = (NTSTATUS *)__cil_tmp69;
#line 2298
    *mem_87 = ntStatus;
#line 2299
    myStatus = ntStatus;
    {
#line 2301
    while (1) {
      while_57_continue: /* CIL Label */ ;
      goto while_57_break;
    }
    while_57_break: /* CIL Label */ ;
    }
    {
#line 2302
    IofCompleteRequest(Irp, (char)0);
    }
  } else {

  }
#line 2305
  return (ntStatus);
}
}
#line 2308 "floppy.c"
NTSTATUS FlInterpretError(UCHAR StatusRegister1 , UCHAR StatusRegister2 ) 
{ int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;

  {
  {
#line 2335
  __cil_tmp3 = (int )StatusRegister1;
#line 2335
  if (__cil_tmp3 & 32) {
    goto _L;
  } else {
    {
#line 2335
    __cil_tmp4 = (int )StatusRegister2;
#line 2335
    if (__cil_tmp4 & 32) {
      _L: 
      {
#line 2341
      while (1) {
        while_58_continue: /* CIL Label */ ;
        goto while_58_break;
      }
      while_58_break: /* CIL Label */ ;
      }
#line 2342
      return (-1073741761L);
    } else {

    }
    }
  }
  }
  {
#line 2345
  __cil_tmp5 = (int )StatusRegister1;
#line 2345
  if (__cil_tmp5 & 16) {
    {
#line 2350
    while (1) {
      while_59_continue: /* CIL Label */ ;
      goto while_59_break;
    }
    while_59_break: /* CIL Label */ ;
    }
#line 2351
    return (-1073741764L);
  } else {

  }
  }
  {
#line 2354
  __cil_tmp6 = (int )StatusRegister1;
#line 2354
  if (__cil_tmp6 & 4) {
    goto _L___0;
  } else {
    {
#line 2354
    __cil_tmp7 = (int )StatusRegister1;
#line 2354
    if (__cil_tmp7 & 128) {
      _L___0: 
      {
#line 2360
      while (1) {
        while_60_continue: /* CIL Label */ ;
        goto while_60_break;
      }
      while_60_break: /* CIL Label */ ;
      }
#line 2361
      return (-1073741803L);
    } else {

    }
    }
  }
  }
  {
#line 2364
  __cil_tmp8 = (int )StatusRegister2;
#line 2364
  if (__cil_tmp8 & 1) {
    goto _L___1;
  } else {
    {
#line 2364
    __cil_tmp9 = (int )StatusRegister2;
#line 2364
    if (__cil_tmp9 & 2) {
      goto _L___1;
    } else {
      {
#line 2364
      __cil_tmp10 = (int )StatusRegister2;
#line 2364
      if (__cil_tmp10 & 64) {
        _L___1: 
        {
#line 2371
        while (1) {
          while_61_continue: /* CIL Label */ ;
          goto while_61_break;
        }
        while_61_break: /* CIL Label */ ;
        }
#line 2372
        return (-1073741668L);
      } else {

      }
      }
    }
    }
  }
  }
  {
#line 2375
  __cil_tmp11 = (int )StatusRegister1;
#line 2375
  if (__cil_tmp11 & 2) {
    {
#line 2380
    while (1) {
      while_62_continue: /* CIL Label */ ;
      goto while_62_break;
    }
    while_62_break: /* CIL Label */ ;
    }
#line 2381
    return (-1073741662L);
  } else {

  }
  }
  {
#line 2384
  __cil_tmp12 = (int )StatusRegister1;
#line 2384
  if (__cil_tmp12 & 1) {
    {
#line 2389
    while (1) {
      while_63_continue: /* CIL Label */ ;
      goto while_63_break;
    }
    while_63_break: /* CIL Label */ ;
    }
#line 2390
    return (-1073741467L);
  } else {

  }
  }
  {
#line 2394
  __cil_tmp13 = (int )StatusRegister2;
#line 2394
  if (__cil_tmp13 & 16) {
    {
#line 2399
    while (1) {
      while_64_continue: /* CIL Label */ ;
      goto while_64_break;
    }
    while_64_break: /* CIL Label */ ;
    }
#line 2400
    return (-1073741466L);
  } else {

  }
  }
  {
#line 2412
  while (1) {
    while_65_continue: /* CIL Label */ ;
    goto while_65_break;
  }
  while_65_break: /* CIL Label */ ;
  }
#line 2413
  return (-1073741465L);
}
}
#line 2416 "floppy.c"
void FlFinishOperation(PIRP Irp , PDISKETTE_EXTENSION DisketteExtension ) 
{ NTSTATUS ntStatus ;
  int tmp ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  UCHAR __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  UCHAR __cil_tmp16 ;
  int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  FAST_MUTEX *__cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  LONG __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  FAST_MUTEX *__cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  LIST_ENTRY *__cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  LIST_ENTRY *__cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  KSPIN_LOCK *__cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  PDEVICE_OBJECT __cil_tmp47 ;
  BOOLEAN *mem_48 ;
  UCHAR *mem_49 ;
  UCHAR *mem_50 ;
  UCHAR *mem_51 ;
  MEDIA_TYPE *mem_52 ;
  LONG *mem_53 ;
  LONG *mem_54 ;
  UCHAR *mem_55 ;
  PDEVICE_OBJECT *mem_56 ;

  {
  {
#line 2454
  while (1) {
    while_66_continue: /* CIL Label */ ;
    goto while_66_break;
  }
  while_66_break: /* CIL Label */ ;
  }
#line 2461
  if (myStatus != 0L) {
    {
#line 2461
    __cil_tmp5 = (unsigned int )DisketteExtension;
#line 2461
    __cil_tmp6 = __cil_tmp5 + 104;
    {
#line 2461
    mem_48 = (BOOLEAN *)__cil_tmp6;
#line 2461
    if (*mem_48) {
#line 2464
      __cil_tmp7 = (unsigned int )DisketteExtension;
#line 2464
      __cil_tmp8 = __cil_tmp7 + 105;
#line 2464
      __cil_tmp9 = (unsigned int )DisketteExtension;
#line 2464
      __cil_tmp10 = __cil_tmp9 + 105;
#line 2464
      mem_49 = (UCHAR *)__cil_tmp10;
#line 2464
      __cil_tmp11 = *mem_49;
#line 2464
      __cil_tmp12 = (int )__cil_tmp11;
#line 2464
      __cil_tmp13 = __cil_tmp12 + 1;
#line 2464
      mem_50 = (UCHAR *)__cil_tmp8;
#line 2464
      *mem_50 = (unsigned char )__cil_tmp13;
      {
#line 2465
      __cil_tmp14 = (unsigned int )DisketteExtension;
#line 2465
      __cil_tmp15 = __cil_tmp14 + 105;
#line 2465
      mem_51 = (UCHAR *)__cil_tmp15;
#line 2465
      __cil_tmp16 = *mem_51;
#line 2465
      __cil_tmp17 = (int )__cil_tmp16;
#line 2465
      if (__cil_tmp17 < 2) {
        {
#line 2475
        ntStatus = FlInitializeControllerHardware(DisketteExtension);
        }
#line 2477
        if (ntStatus >= 0L) {
          {
#line 2482
          while (1) {
            while_67_continue: /* CIL Label */ ;
            goto while_67_break;
          }
          while_67_break: /* CIL Label */ ;
          }
#line 2490
          __cil_tmp18 = (unsigned int )DisketteExtension;
#line 2490
          __cil_tmp19 = __cil_tmp18 + 184;
#line 2490
          mem_52 = (MEDIA_TYPE *)__cil_tmp19;
#line 2490
          *mem_52 = (enum _MEDIA_TYPE )-1;
          {
#line 2496
          while (1) {
            while_68_continue: /* CIL Label */ ;
            goto while_68_break;
          }
          while_68_break: /* CIL Label */ ;
          }
          {
#line 2498
          __cil_tmp20 = (unsigned int )DisketteExtension;
#line 2498
          __cil_tmp21 = __cil_tmp20 + 56;
#line 2498
          __cil_tmp22 = (FAST_MUTEX *)__cil_tmp21;
#line 2498
          ExAcquireFastMutex(__cil_tmp22);
#line 2500
          __cil_tmp23 = (unsigned int )DisketteExtension;
#line 2500
          __cil_tmp24 = __cil_tmp23 + 88;
#line 2500
          __cil_tmp25 = (unsigned int )DisketteExtension;
#line 2500
          __cil_tmp26 = __cil_tmp25 + 88;
#line 2500
          mem_53 = (LONG *)__cil_tmp26;
#line 2500
          __cil_tmp27 = *mem_53;
#line 2500
          mem_54 = (LONG *)__cil_tmp24;
#line 2500
          *mem_54 = __cil_tmp27 + 1L;
#line 2501
          __cil_tmp28 = (unsigned int )DisketteExtension;
#line 2501
          __cil_tmp29 = __cil_tmp28 + 56;
#line 2501
          __cil_tmp30 = (FAST_MUTEX *)__cil_tmp29;
#line 2501
          ExReleaseFastMutex(__cil_tmp30);
#line 2503
          __cil_tmp31 = (unsigned int )DisketteExtension;
#line 2503
          __cil_tmp32 = __cil_tmp31 + 96;
#line 2503
          __cil_tmp33 = (LIST_ENTRY *)__cil_tmp32;
#line 2503
          __cil_tmp34 = 0 + 24;
#line 2503
          __cil_tmp35 = 64 + __cil_tmp34;
#line 2503
          __cil_tmp36 = (unsigned int )Irp;
#line 2503
          __cil_tmp37 = __cil_tmp36 + __cil_tmp35;
#line 2503
          __cil_tmp38 = (LIST_ENTRY *)__cil_tmp37;
#line 2503
          __cil_tmp39 = (unsigned int )DisketteExtension;
#line 2503
          __cil_tmp40 = __cil_tmp39 + 52;
#line 2503
          __cil_tmp41 = (KSPIN_LOCK *)__cil_tmp40;
#line 2503
          ExfInterlockedInsertHeadList(__cil_tmp33, __cil_tmp38, __cil_tmp41);
          }
        } else {

        }
        {
#line 2514
        while (1) {
          while_69_continue: /* CIL Label */ ;
          goto while_69_break;
        }
        while_69_break: /* CIL Label */ ;
        }
      } else {

      }
      }
    } else {

    }
    }
    }
  } else {

  }
#line 2524
  __cil_tmp42 = (unsigned int )DisketteExtension;
#line 2524
  __cil_tmp43 = __cil_tmp42 + 105;
#line 2524
  mem_55 = (UCHAR *)__cil_tmp43;
#line 2524
  *mem_55 = (unsigned char)0;
  {
#line 2541
  __cil_tmp44 = myStatus >= 0L;
#line 2541
  if (! __cil_tmp44) {
#line 2541
    if (myStatus == -1073741661L) {
#line 2541
      tmp = 1;
    } else {
#line 2541
      if (myStatus == -1073741643L) {
#line 2541
        tmp = 1;
      } else {
#line 2541
        if (myStatus == -1073741662L) {
#line 2541
          tmp = 1;
        } else {
#line 2541
          if (myStatus == -1073741805L) {
#line 2541
            tmp = 1;
          } else {
#line 2541
            if (myStatus == -2147483626L) {
#line 2541
              tmp = 1;
            } else {
#line 2541
              if (myStatus == -1073741804L) {
#line 2541
                tmp = 1;
              } else {
#line 2541
                if (myStatus == -1073741806L) {
#line 2541
                  tmp = 1;
                } else {
#line 2541
                  tmp = 0;
                }
              }
            }
          }
        }
      }
    }
#line 2541
    if ((unsigned char )tmp) {
      {
#line 2535
      __cil_tmp45 = (unsigned int )DisketteExtension;
#line 2535
      __cil_tmp46 = __cil_tmp45 + 28;
#line 2535
      mem_56 = (PDEVICE_OBJECT *)__cil_tmp46;
#line 2535
      __cil_tmp47 = *mem_56;
#line 2535
      IoSetHardErrorOrVerifyDevice(Irp, __cil_tmp47);
      }
    } else {

    }
  } else {

  }
  }
#line 2549
  if (myStatus != 0L) {
#line 2549
    if (myStatus != -2147483626L) {
#line 2549
      if (myStatus != -1073741805L) {
        {
#line 2551
        while (1) {
          while_70_continue: /* CIL Label */ ;
          goto while_70_break;
        }
        while_70_break: /* CIL Label */ ;
        }
      } else {
        goto _L___0;
      }
    } else {
      goto _L___0;
    }
  } else {
    _L___0: 
    {
#line 2558
    while (1) {
      while_71_continue: /* CIL Label */ ;
      goto while_71_break;
    }
    while_71_break: /* CIL Label */ ;
    }
  }
  {
#line 2564
  while (1) {
    while_72_continue: /* CIL Label */ ;
    goto while_72_break;
  }
  while_72_break: /* CIL Label */ ;
  }
  {
#line 2569
  while (1) {
    while_73_continue: /* CIL Label */ ;
    goto while_73_break;
  }
  while_73_break: /* CIL Label */ ;
  }
  {
#line 2579
  IofCompleteRequest(Irp, (char)1);
  }
#line 2582
  return;
}
}
#line 2582 "floppy.c"
NTSTATUS FlStartDrive(PDISKETTE_EXTENSION DisketteExtension , PIRP Irp , BOOLEAN WriteOperation ,
                      BOOLEAN SetUpMedia , BOOLEAN IgnoreChange ) 
{ LARGE_INTEGER delay ;
  BOOLEAN motorStarted ;
  UCHAR driveStatus ;
  NTSTATUS ntStatus ;
  FDC_ENABLE_PARMS fdcEnableParms ;
  FDC_DISK_CHANGE_PARMS fdcDiskChangeParms ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  UCHAR __cil_tmp14 ;
  int __cil_tmp15 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp16 ;
  DRIVE_MEDIA_TYPE __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  MEDIA_TYPE __cil_tmp24 ;
  int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  MEDIA_TYPE __cil_tmp31 ;
  int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp35 ;
  FDC_ENABLE_PARMS *__cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  PDEVICE_OBJECT __cil_tmp49 ;
  int __cil_tmp50 ;
  int __cil_tmp51 ;
  int __cil_tmp52 ;
  int __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  void *__cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  PDEVICE_OBJECT __cil_tmp62 ;
  int __cil_tmp63 ;
  int __cil_tmp64 ;
  int __cil_tmp65 ;
  int __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  void *__cil_tmp68 ;
  FDC_DISK_CHANGE_PARMS *__cil_tmp69 ;
  int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  UCHAR __cil_tmp73 ;
  int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  UCHAR __cil_tmp77 ;
  int __cil_tmp78 ;
  int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  PDEVICE_OBJECT __cil_tmp84 ;
  unsigned int __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  PVPB __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  unsigned int __cil_tmp89 ;
  USHORT __cil_tmp90 ;
  int __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  PDEVICE_OBJECT __cil_tmp94 ;
  unsigned int __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  PDEVICE_OBJECT __cil_tmp97 ;
  unsigned int __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  unsigned int __cil_tmp100 ;
  unsigned int __cil_tmp101 ;
  PDEVICE_OBJECT __cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  ULONG __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  UCHAR __cil_tmp108 ;
  int __cil_tmp109 ;
  KUSER_SHARED_DATA *__cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp113 ;
  int __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  unsigned int __cil_tmp116 ;
  unsigned int __cil_tmp117 ;
  unsigned int __cil_tmp118 ;
  unsigned int __cil_tmp119 ;
  unsigned int __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  unsigned int __cil_tmp123 ;
  unsigned int __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  unsigned int __cil_tmp126 ;
  unsigned int __cil_tmp127 ;
  unsigned int __cil_tmp128 ;
  UCHAR *__cil_tmp129 ;
  unsigned int __cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  UCHAR *__cil_tmp134 ;
  void *__cil_tmp135 ;
  struct _MDL *__cil_tmp136 ;
  int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  unsigned int __cil_tmp139 ;
  unsigned int __cil_tmp140 ;
  unsigned int __cil_tmp141 ;
  UCHAR __cil_tmp142 ;
  int __cil_tmp143 ;
  int __cil_tmp144 ;
  unsigned int __cil_tmp145 ;
  unsigned int __cil_tmp146 ;
  PDEVICE_OBJECT __cil_tmp147 ;
  unsigned int __cil_tmp148 ;
  unsigned int __cil_tmp149 ;
  PVPB __cil_tmp150 ;
  unsigned int __cil_tmp151 ;
  unsigned int __cil_tmp152 ;
  USHORT __cil_tmp153 ;
  int __cil_tmp154 ;
  unsigned int __cil_tmp155 ;
  unsigned int __cil_tmp156 ;
  PDEVICE_OBJECT __cil_tmp157 ;
  unsigned int __cil_tmp158 ;
  unsigned int __cil_tmp159 ;
  unsigned int __cil_tmp160 ;
  unsigned int __cil_tmp161 ;
  PDEVICE_OBJECT __cil_tmp162 ;
  unsigned int __cil_tmp163 ;
  unsigned int __cil_tmp164 ;
  ULONG __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  unsigned int __cil_tmp167 ;
  unsigned int __cil_tmp168 ;
  unsigned int __cil_tmp169 ;
  unsigned int __cil_tmp170 ;
  unsigned int __cil_tmp171 ;
  unsigned int __cil_tmp172 ;
  unsigned int __cil_tmp173 ;
  unsigned int __cil_tmp174 ;
  unsigned int __cil_tmp175 ;
  unsigned int __cil_tmp176 ;
  unsigned int __cil_tmp177 ;
  unsigned int __cil_tmp178 ;
  unsigned int __cil_tmp179 ;
  unsigned int __cil_tmp180 ;
  unsigned int __cil_tmp181 ;
  unsigned int __cil_tmp182 ;
  unsigned int __cil_tmp183 ;
  UCHAR *__cil_tmp184 ;
  unsigned int __cil_tmp185 ;
  unsigned int __cil_tmp186 ;
  unsigned int __cil_tmp187 ;
  unsigned int __cil_tmp188 ;
  UCHAR *__cil_tmp189 ;
  void *__cil_tmp190 ;
  struct _MDL *__cil_tmp191 ;
  int __cil_tmp192 ;
  unsigned int __cil_tmp193 ;
  unsigned int __cil_tmp194 ;
  unsigned int __cil_tmp195 ;
  unsigned int __cil_tmp196 ;
  UCHAR __cil_tmp197 ;
  int __cil_tmp198 ;
  int __cil_tmp199 ;
  unsigned int __cil_tmp200 ;
  unsigned int __cil_tmp201 ;
  unsigned int __cil_tmp202 ;
  unsigned int __cil_tmp203 ;
  UCHAR __cil_tmp204 ;
  int __cil_tmp205 ;
  unsigned int __cil_tmp206 ;
  unsigned int __cil_tmp207 ;
  unsigned int __cil_tmp208 ;
  unsigned int __cil_tmp209 ;
  unsigned int __cil_tmp210 ;
  unsigned int __cil_tmp211 ;
  unsigned int __cil_tmp212 ;
  unsigned int __cil_tmp213 ;
  unsigned int __cil_tmp214 ;
  unsigned int __cil_tmp215 ;
  unsigned int __cil_tmp216 ;
  unsigned int __cil_tmp217 ;
  unsigned int __cil_tmp218 ;
  unsigned int __cil_tmp219 ;
  unsigned int __cil_tmp220 ;
  unsigned int __cil_tmp221 ;
  LARGE_INTEGER *__cil_tmp222 ;
  unsigned int __cil_tmp223 ;
  unsigned int __cil_tmp224 ;
  unsigned int __cil_tmp225 ;
  unsigned int __cil_tmp226 ;
  unsigned int __cil_tmp227 ;
  unsigned int __cil_tmp228 ;
  UCHAR *__cil_tmp229 ;
  unsigned int __cil_tmp230 ;
  unsigned int __cil_tmp231 ;
  unsigned int __cil_tmp232 ;
  unsigned int __cil_tmp233 ;
  UCHAR *__cil_tmp234 ;
  void *__cil_tmp235 ;
  struct _MDL *__cil_tmp236 ;
  LARGE_INTEGER *__cil_tmp237 ;
  unsigned int __cil_tmp238 ;
  unsigned int __cil_tmp239 ;
  int __cil_tmp240 ;
  unsigned int __cil_tmp241 ;
  unsigned int __cil_tmp242 ;
  unsigned int __cil_tmp243 ;
  unsigned int __cil_tmp244 ;
  UCHAR __cil_tmp245 ;
  int __cil_tmp246 ;
  int __cil_tmp247 ;
  unsigned int __cil_tmp248 ;
  unsigned int __cil_tmp249 ;
  unsigned int __cil_tmp250 ;
  unsigned int __cil_tmp251 ;
  UCHAR __cil_tmp252 ;
  int __cil_tmp253 ;
  unsigned int __cil_tmp254 ;
  unsigned int __cil_tmp255 ;
  KUSER_SHARED_DATA *__cil_tmp256 ;
  unsigned int __cil_tmp257 ;
  unsigned int __cil_tmp258 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp259 ;
  int __cil_tmp260 ;
  unsigned int __cil_tmp261 ;
  unsigned int __cil_tmp262 ;
  unsigned int __cil_tmp263 ;
  unsigned int __cil_tmp264 ;
  unsigned int __cil_tmp265 ;
  unsigned int __cil_tmp266 ;
  unsigned int __cil_tmp267 ;
  unsigned int __cil_tmp268 ;
  unsigned int __cil_tmp269 ;
  unsigned int __cil_tmp270 ;
  unsigned int __cil_tmp271 ;
  unsigned int __cil_tmp272 ;
  unsigned int __cil_tmp273 ;
  unsigned int __cil_tmp274 ;
  UCHAR *__cil_tmp275 ;
  unsigned int __cil_tmp276 ;
  unsigned int __cil_tmp277 ;
  unsigned int __cil_tmp278 ;
  unsigned int __cil_tmp279 ;
  UCHAR *__cil_tmp280 ;
  void *__cil_tmp281 ;
  struct _MDL *__cil_tmp282 ;
  int __cil_tmp283 ;
  unsigned int __cil_tmp284 ;
  unsigned int __cil_tmp285 ;
  unsigned int __cil_tmp286 ;
  unsigned int __cil_tmp287 ;
  UCHAR __cil_tmp288 ;
  int __cil_tmp289 ;
  unsigned int __cil_tmp290 ;
  unsigned int __cil_tmp291 ;
  PDEVICE_OBJECT __cil_tmp292 ;
  int __cil_tmp293 ;
  int __cil_tmp294 ;
  int __cil_tmp295 ;
  int __cil_tmp296 ;
  unsigned long __cil_tmp297 ;
  void *__cil_tmp298 ;
  FDC_DISK_CHANGE_PARMS *__cil_tmp299 ;
  int __cil_tmp300 ;
  int __cil_tmp301 ;
  unsigned int __cil_tmp302 ;
  unsigned int __cil_tmp303 ;
  PDEVICE_OBJECT __cil_tmp304 ;
  unsigned int __cil_tmp305 ;
  unsigned int __cil_tmp306 ;
  PVPB __cil_tmp307 ;
  unsigned int __cil_tmp308 ;
  unsigned int __cil_tmp309 ;
  USHORT __cil_tmp310 ;
  int __cil_tmp311 ;
  unsigned int __cil_tmp312 ;
  unsigned int __cil_tmp313 ;
  PDEVICE_OBJECT __cil_tmp314 ;
  unsigned int __cil_tmp315 ;
  unsigned int __cil_tmp316 ;
  unsigned int __cil_tmp317 ;
  unsigned int __cil_tmp318 ;
  PDEVICE_OBJECT __cil_tmp319 ;
  unsigned int __cil_tmp320 ;
  unsigned int __cil_tmp321 ;
  ULONG __cil_tmp322 ;
  int __cil_tmp323 ;
  unsigned int __cil_tmp324 ;
  unsigned int __cil_tmp325 ;
  PDEVICE_OBJECT __cil_tmp326 ;
  unsigned int __cil_tmp327 ;
  unsigned int __cil_tmp328 ;
  PVPB __cil_tmp329 ;
  unsigned int __cil_tmp330 ;
  unsigned int __cil_tmp331 ;
  USHORT __cil_tmp332 ;
  int __cil_tmp333 ;
  KUSER_SHARED_DATA *__cil_tmp334 ;
  unsigned int __cil_tmp335 ;
  unsigned int __cil_tmp336 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp337 ;
  int __cil_tmp338 ;
  unsigned int __cil_tmp339 ;
  unsigned int __cil_tmp340 ;
  MEDIA_TYPE __cil_tmp341 ;
  int __cil_tmp342 ;
  unsigned int __cil_tmp343 ;
  unsigned int __cil_tmp344 ;
  MEDIA_TYPE __cil_tmp345 ;
  int __cil_tmp346 ;
  unsigned int __cil_tmp347 ;
  unsigned int __cil_tmp348 ;
  DRIVE_MEDIA_TYPE __cil_tmp349 ;
  int __cil_tmp350 ;
  unsigned int __cil_tmp351 ;
  unsigned int __cil_tmp352 ;
  DRIVE_MEDIA_TYPE __cil_tmp353 ;
  int __cil_tmp354 ;
  int __cil_tmp355 ;
  unsigned int __cil_tmp356 ;
  unsigned int __cil_tmp357 ;
  unsigned int __cil_tmp358 ;
  unsigned int __cil_tmp359 ;
  unsigned int __cil_tmp360 ;
  unsigned int __cil_tmp361 ;
  unsigned int __cil_tmp362 ;
  unsigned int __cil_tmp363 ;
  unsigned int __cil_tmp364 ;
  unsigned int __cil_tmp365 ;
  unsigned int __cil_tmp366 ;
  unsigned int __cil_tmp367 ;
  unsigned int __cil_tmp368 ;
  unsigned int __cil_tmp369 ;
  UCHAR *__cil_tmp370 ;
  unsigned int __cil_tmp371 ;
  unsigned int __cil_tmp372 ;
  unsigned int __cil_tmp373 ;
  unsigned int __cil_tmp374 ;
  UCHAR *__cil_tmp375 ;
  void *__cil_tmp376 ;
  struct _MDL *__cil_tmp377 ;
  int __cil_tmp378 ;
  KUSER_SHARED_DATA *__cil_tmp379 ;
  unsigned int __cil_tmp380 ;
  unsigned int __cil_tmp381 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp382 ;
  int __cil_tmp383 ;
  unsigned int __cil_tmp384 ;
  unsigned int __cil_tmp385 ;
  unsigned int __cil_tmp386 ;
  unsigned int __cil_tmp387 ;
  UCHAR __cil_tmp388 ;
  int __cil_tmp389 ;
  int __cil_tmp390 ;
  unsigned int __cil_tmp391 ;
  unsigned int __cil_tmp392 ;
  unsigned int __cil_tmp393 ;
  unsigned int __cil_tmp394 ;
  UCHAR __cil_tmp395 ;
  int __cil_tmp396 ;
  UCHAR *mem_397 ;
  DRIVE_MEDIA_TYPE *mem_398 ;
  DRIVE_MEDIA_CONSTANTS *mem_399 ;
  MEDIA_TYPE *mem_400 ;
  DRIVE_MEDIA_CONSTANTS *mem_401 ;
  MEDIA_TYPE *mem_402 ;
  DRIVE_MEDIA_CONSTANTS *mem_403 ;
  UCHAR *mem_404 ;
  UCHAR *mem_405 ;
  USHORT *mem_406 ;
  USHORT *mem_407 ;
  USHORT *mem_408 ;
  USHORT *mem_409 ;
  PDEVICE_OBJECT *mem_410 ;
  BOOLEAN *mem_411 ;
  UCHAR *mem_412 ;
  UCHAR *mem_413 ;
  PDEVICE_OBJECT *mem_414 ;
  UCHAR *mem_415 ;
  UCHAR *mem_416 ;
  UCHAR *mem_417 ;
  MEDIA_TYPE *mem_418 ;
  PDEVICE_OBJECT *mem_419 ;
  PVPB *mem_420 ;
  USHORT *mem_421 ;
  PDEVICE_OBJECT *mem_422 ;
  PDEVICE_OBJECT *mem_423 ;
  PDEVICE_OBJECT *mem_424 ;
  ULONG *mem_425 ;
  ULONG *mem_426 ;
  UCHAR *mem_427 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_428 ;
  UCHAR *mem_429 ;
  UCHAR *mem_430 ;
  UCHAR *mem_431 ;
  UCHAR *mem_432 ;
  PDEVICE_OBJECT *mem_433 ;
  PVPB *mem_434 ;
  USHORT *mem_435 ;
  PDEVICE_OBJECT *mem_436 ;
  PDEVICE_OBJECT *mem_437 ;
  ULONG *mem_438 ;
  ULONG *mem_439 ;
  UCHAR *mem_440 ;
  UCHAR *mem_441 ;
  UCHAR *mem_442 ;
  UCHAR *mem_443 ;
  UCHAR *mem_444 ;
  UCHAR *mem_445 ;
  BOOLEAN *mem_446 ;
  UCHAR *mem_447 ;
  UCHAR *mem_448 ;
  UCHAR *mem_449 ;
  UCHAR *mem_450 ;
  ULONG *mem_451 ;
  LONG *mem_452 ;
  ULONG *mem_453 ;
  LONG *mem_454 ;
  UCHAR *mem_455 ;
  UCHAR *mem_456 ;
  BOOLEAN *mem_457 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_458 ;
  UCHAR *mem_459 ;
  UCHAR *mem_460 ;
  UCHAR *mem_461 ;
  UCHAR *mem_462 ;
  PDEVICE_OBJECT *mem_463 ;
  UCHAR *mem_464 ;
  PDEVICE_OBJECT *mem_465 ;
  PVPB *mem_466 ;
  USHORT *mem_467 ;
  PDEVICE_OBJECT *mem_468 ;
  PDEVICE_OBJECT *mem_469 ;
  ULONG *mem_470 ;
  ULONG *mem_471 ;
  PDEVICE_OBJECT *mem_472 ;
  PVPB *mem_473 ;
  USHORT *mem_474 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_475 ;
  MEDIA_TYPE *mem_476 ;
  MEDIA_TYPE *mem_477 ;
  DRIVE_MEDIA_TYPE *mem_478 ;
  DRIVE_MEDIA_TYPE *mem_479 ;
  UCHAR *mem_480 ;
  UCHAR *mem_481 ;
  UCHAR *mem_482 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_483 ;
  UCHAR *mem_484 ;
  UCHAR *mem_485 ;

  {
#line 2630
  ntStatus = 0L;
  {
#line 2637
  while (1) {
    while_74_continue: /* CIL Label */ ;
    goto while_74_break;
  }
  while_74_break: /* CIL Label */ ;
  }
#line 2654
  __cil_tmp12 = (unsigned int )DisketteExtension;
#line 2654
  __cil_tmp13 = __cil_tmp12 + 174;
#line 2654
  mem_397 = (UCHAR *)__cil_tmp13;
#line 2654
  __cil_tmp14 = *mem_397;
#line 2654
  __cil_tmp15 = (int )__cil_tmp14;
#line 2654
  __cil_tmp16 = DriveMediaLimits + __cil_tmp15;
#line 2654
  mem_398 = (DRIVE_MEDIA_TYPE *)__cil_tmp16;
#line 2654
  __cil_tmp17 = *mem_398;
#line 2654
  __cil_tmp18 = (unsigned int )__cil_tmp17;
#line 2654
  __cil_tmp19 = DriveMediaConstants + __cil_tmp18;
#line 2654
  __cil_tmp20 = (unsigned int )DisketteExtension;
#line 2654
  __cil_tmp21 = __cil_tmp20 + 252;
#line 2654
  mem_399 = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp21;
#line 2654
  *__cil_tmp19 = *mem_399;
  {
#line 2657
  __cil_tmp22 = (unsigned int )DisketteExtension;
#line 2657
  __cil_tmp23 = __cil_tmp22 + 184;
#line 2657
  mem_400 = (MEDIA_TYPE *)__cil_tmp23;
#line 2657
  __cil_tmp24 = *mem_400;
#line 2657
  __cil_tmp25 = (int )__cil_tmp24;
#line 2657
  if (__cil_tmp25 == -1) {
#line 2659
    __cil_tmp26 = (unsigned int )DisketteExtension;
#line 2659
    __cil_tmp27 = __cil_tmp26 + 308;
#line 2659
    __cil_tmp28 = DriveMediaConstants + 0;
#line 2659
    mem_401 = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp27;
#line 2659
    *mem_401 = *__cil_tmp28;
  } else {
    {
#line 2657
    __cil_tmp29 = (unsigned int )DisketteExtension;
#line 2657
    __cil_tmp30 = __cil_tmp29 + 184;
#line 2657
    mem_402 = (MEDIA_TYPE *)__cil_tmp30;
#line 2657
    __cil_tmp31 = *mem_402;
#line 2657
    __cil_tmp32 = (int )__cil_tmp31;
#line 2657
    if (__cil_tmp32 == 0) {
#line 2659
      __cil_tmp33 = (unsigned int )DisketteExtension;
#line 2659
      __cil_tmp34 = __cil_tmp33 + 308;
#line 2659
      __cil_tmp35 = DriveMediaConstants + 0;
#line 2659
      mem_403 = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp34;
#line 2659
      *mem_403 = *__cil_tmp35;
    } else {

    }
    }
  }
  }
#line 2669
  __cil_tmp36 = & fdcEnableParms;
#line 2669
  __cil_tmp37 = (unsigned int )DisketteExtension;
#line 2669
  __cil_tmp38 = __cil_tmp37 + 249;
#line 2669
  mem_404 = (UCHAR *)__cil_tmp36;
#line 2669
  mem_405 = (UCHAR *)__cil_tmp38;
#line 2669
  *mem_404 = *mem_405;
#line 2670
  if (WriteOperation) {
#line 2671
    __cil_tmp39 = (unsigned int )(& fdcEnableParms) + 2;
#line 2671
    __cil_tmp40 = 308 + 46;
#line 2671
    __cil_tmp41 = (unsigned int )DisketteExtension;
#line 2671
    __cil_tmp42 = __cil_tmp41 + __cil_tmp40;
#line 2671
    mem_406 = (USHORT *)__cil_tmp39;
#line 2671
    mem_407 = (USHORT *)__cil_tmp42;
#line 2671
    *mem_406 = *mem_407;
  } else {
#line 2674
    __cil_tmp43 = (unsigned int )(& fdcEnableParms) + 2;
#line 2674
    __cil_tmp44 = 308 + 44;
#line 2674
    __cil_tmp45 = (unsigned int )DisketteExtension;
#line 2674
    __cil_tmp46 = __cil_tmp45 + __cil_tmp44;
#line 2674
    mem_408 = (USHORT *)__cil_tmp43;
#line 2674
    mem_409 = (USHORT *)__cil_tmp46;
#line 2674
    *mem_408 = *mem_409;
  }
  {
#line 2678
  __cil_tmp47 = (unsigned int )DisketteExtension;
#line 2678
  __cil_tmp48 = __cil_tmp47 + 8;
#line 2678
  mem_410 = (PDEVICE_OBJECT *)__cil_tmp48;
#line 2678
  __cil_tmp49 = *mem_410;
#line 2678
  __cil_tmp50 = 774 << 2;
#line 2678
  __cil_tmp51 = 7 << 16;
#line 2678
  __cil_tmp52 = __cil_tmp51 | __cil_tmp50;
#line 2678
  __cil_tmp53 = __cil_tmp52 | 3;
#line 2678
  __cil_tmp54 = (unsigned long )__cil_tmp53;
#line 2678
  __cil_tmp55 = (void *)(& fdcEnableParms);
#line 2678
  ntStatus = FlFdcDeviceIo(__cil_tmp49, __cil_tmp54, __cil_tmp55);
#line 2682
  __cil_tmp56 = (unsigned int )(& fdcEnableParms) + 4;
#line 2682
  mem_411 = (BOOLEAN *)__cil_tmp56;
#line 2682
  motorStarted = *mem_411;
  }
#line 2684
  if (ntStatus >= 0L) {
    {
#line 2686
    __cil_tmp57 = (unsigned int )(& fdcDiskChangeParms) + 1;
#line 2686
    __cil_tmp58 = (unsigned int )DisketteExtension;
#line 2686
    __cil_tmp59 = __cil_tmp58 + 249;
#line 2686
    mem_412 = (UCHAR *)__cil_tmp57;
#line 2686
    mem_413 = (UCHAR *)__cil_tmp59;
#line 2686
    *mem_412 = *mem_413;
#line 2688
    __cil_tmp60 = (unsigned int )DisketteExtension;
#line 2688
    __cil_tmp61 = __cil_tmp60 + 8;
#line 2688
    mem_414 = (PDEVICE_OBJECT *)__cil_tmp61;
#line 2688
    __cil_tmp62 = *mem_414;
#line 2688
    __cil_tmp63 = 776 << 2;
#line 2688
    __cil_tmp64 = 7 << 16;
#line 2688
    __cil_tmp65 = __cil_tmp64 | __cil_tmp63;
#line 2688
    __cil_tmp66 = __cil_tmp65 | 3;
#line 2688
    __cil_tmp67 = (unsigned long )__cil_tmp66;
#line 2688
    __cil_tmp68 = (void *)(& fdcDiskChangeParms);
#line 2688
    ntStatus = FlFdcDeviceIo(__cil_tmp62, __cil_tmp67, __cil_tmp68);
#line 2692
    __cil_tmp69 = & fdcDiskChangeParms;
#line 2692
    mem_415 = (UCHAR *)__cil_tmp69;
#line 2692
    driveStatus = *mem_415;
    }
  } else {

  }
  {
#line 2695
  __cil_tmp70 = ntStatus >= 0L;
#line 2695
  if (! __cil_tmp70) {
#line 2696
    return (ntStatus);
  } else {

  }
  }
  {
#line 2708
  __cil_tmp71 = (unsigned int )DisketteExtension;
#line 2708
  __cil_tmp72 = __cil_tmp71 + 174;
#line 2708
  mem_416 = (UCHAR *)__cil_tmp72;
#line 2708
  __cil_tmp73 = *mem_416;
#line 2708
  __cil_tmp74 = (int )__cil_tmp73;
#line 2708
  if (__cil_tmp74 == 0) {
#line 2708
    if (motorStarted) {
      goto _L___1;
    } else {
      goto _L___3;
    }
  } else {
    _L___3: 
    {
#line 2708
    __cil_tmp75 = (unsigned int )DisketteExtension;
#line 2708
    __cil_tmp76 = __cil_tmp75 + 174;
#line 2708
    mem_417 = (UCHAR *)__cil_tmp76;
#line 2708
    __cil_tmp77 = *mem_417;
#line 2708
    __cil_tmp78 = (int )__cil_tmp77;
#line 2708
    if (__cil_tmp78 != 0) {
      {
#line 2708
      __cil_tmp79 = (int )driveStatus;
#line 2708
      if (__cil_tmp79 & 128) {
        _L___1: 
        {
#line 2716
        while (1) {
          while_75_continue: /* CIL Label */ ;
          goto while_75_break;
        }
        while_75_break: /* CIL Label */ ;
        }
#line 2718
        __cil_tmp80 = (unsigned int )DisketteExtension;
#line 2718
        __cil_tmp81 = __cil_tmp80 + 184;
#line 2718
        mem_418 = (MEDIA_TYPE *)__cil_tmp81;
#line 2718
        *mem_418 = (enum _MEDIA_TYPE )-1;
        {
#line 2725
        __cil_tmp82 = (unsigned int )DisketteExtension;
#line 2725
        __cil_tmp83 = __cil_tmp82 + 28;
#line 2725
        mem_419 = (PDEVICE_OBJECT *)__cil_tmp83;
#line 2725
        __cil_tmp84 = *mem_419;
#line 2725
        __cil_tmp85 = (unsigned int )__cil_tmp84;
#line 2725
        __cil_tmp86 = __cil_tmp85 + 36;
#line 2725
        mem_420 = (PVPB *)__cil_tmp86;
#line 2725
        __cil_tmp87 = *mem_420;
#line 2725
        __cil_tmp88 = (unsigned int )__cil_tmp87;
#line 2725
        __cil_tmp89 = __cil_tmp88 + 4;
#line 2725
        mem_421 = (USHORT *)__cil_tmp89;
#line 2725
        __cil_tmp90 = *mem_421;
#line 2725
        __cil_tmp91 = (int )__cil_tmp90;
#line 2725
        if (__cil_tmp91 & 1) {
#line 2727
          if (Irp) {
            {
#line 2728
            __cil_tmp92 = (unsigned int )DisketteExtension;
#line 2728
            __cil_tmp93 = __cil_tmp92 + 28;
#line 2728
            mem_422 = (PDEVICE_OBJECT *)__cil_tmp93;
#line 2728
            __cil_tmp94 = *mem_422;
#line 2728
            IoSetHardErrorOrVerifyDevice(Irp, __cil_tmp94);
            }
          } else {

          }
#line 2731
          __cil_tmp95 = (unsigned int )DisketteExtension;
#line 2731
          __cil_tmp96 = __cil_tmp95 + 28;
#line 2731
          mem_423 = (PDEVICE_OBJECT *)__cil_tmp96;
#line 2731
          __cil_tmp97 = *mem_423;
#line 2731
          __cil_tmp98 = (unsigned int )__cil_tmp97;
#line 2731
          __cil_tmp99 = __cil_tmp98 + 28;
#line 2731
          __cil_tmp100 = (unsigned int )DisketteExtension;
#line 2731
          __cil_tmp101 = __cil_tmp100 + 28;
#line 2731
          mem_424 = (PDEVICE_OBJECT *)__cil_tmp101;
#line 2731
          __cil_tmp102 = *mem_424;
#line 2731
          __cil_tmp103 = (unsigned int )__cil_tmp102;
#line 2731
          __cil_tmp104 = __cil_tmp103 + 28;
#line 2731
          mem_425 = (ULONG *)__cil_tmp104;
#line 2731
          __cil_tmp105 = *mem_425;
#line 2731
          mem_426 = (ULONG *)__cil_tmp99;
#line 2731
          *mem_426 = __cil_tmp105 | 2UL;
        } else {

        }
        }
        {
#line 2741
        __cil_tmp106 = (unsigned int )DisketteExtension;
#line 2741
        __cil_tmp107 = __cil_tmp106 + 174;
#line 2741
        mem_427 = (UCHAR *)__cil_tmp107;
#line 2741
        __cil_tmp108 = *mem_427;
#line 2741
        __cil_tmp109 = (int )__cil_tmp108;
#line 2741
        if (__cil_tmp109 != 0) {
          {
#line 2743
          __cil_tmp110 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 2743
          __cil_tmp111 = (unsigned int )__cil_tmp110;
#line 2743
          __cil_tmp112 = __cil_tmp111 + 732;
#line 2743
          mem_428 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp112;
#line 2743
          __cil_tmp113 = *mem_428;
#line 2743
          __cil_tmp114 = (int )__cil_tmp113;
#line 2743
          if (__cil_tmp114 == 1) {
            {
#line 2749
            __cil_tmp115 = 0 * 1U;
#line 2749
            __cil_tmp116 = 112 + __cil_tmp115;
#line 2749
            __cil_tmp117 = (unsigned int )DisketteExtension;
#line 2749
            __cil_tmp118 = __cil_tmp117 + __cil_tmp116;
#line 2749
            mem_429 = (UCHAR *)__cil_tmp118;
#line 2749
            *mem_429 = (unsigned char)14;
#line 2750
            __cil_tmp119 = 1 * 1U;
#line 2750
            __cil_tmp120 = 112 + __cil_tmp119;
#line 2750
            __cil_tmp121 = (unsigned int )DisketteExtension;
#line 2750
            __cil_tmp122 = __cil_tmp121 + __cil_tmp120;
#line 2750
            __cil_tmp123 = (unsigned int )DisketteExtension;
#line 2750
            __cil_tmp124 = __cil_tmp123 + 248;
#line 2750
            mem_430 = (UCHAR *)__cil_tmp122;
#line 2750
            mem_431 = (UCHAR *)__cil_tmp124;
#line 2750
            *mem_430 = *mem_431;
#line 2752
            __cil_tmp125 = 0 * 1U;
#line 2752
            __cil_tmp126 = 112 + __cil_tmp125;
#line 2752
            __cil_tmp127 = (unsigned int )DisketteExtension;
#line 2752
            __cil_tmp128 = __cil_tmp127 + __cil_tmp126;
#line 2752
            __cil_tmp129 = (UCHAR *)__cil_tmp128;
#line 2752
            __cil_tmp130 = 0 * 1U;
#line 2752
            __cil_tmp131 = 112 + __cil_tmp130;
#line 2752
            __cil_tmp132 = (unsigned int )DisketteExtension;
#line 2752
            __cil_tmp133 = __cil_tmp132 + __cil_tmp131;
#line 2752
            __cil_tmp134 = (UCHAR *)__cil_tmp133;
#line 2752
            __cil_tmp135 = (void *)0;
#line 2752
            __cil_tmp136 = (struct _MDL *)__cil_tmp135;
#line 2752
            ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp129, __cil_tmp134,
                                      __cil_tmp136, 0UL, 0UL);
            }
            {
#line 2759
            __cil_tmp137 = ntStatus >= 0L;
#line 2759
            if (! __cil_tmp137) {
              {
#line 2764
              while (1) {
                while_76_continue: /* CIL Label */ ;
                goto while_76_break;
              }
              while_76_break: /* CIL Label */ ;
              }
#line 2766
              return (ntStatus);
            } else {

            }
            }
            {
#line 2769
            __cil_tmp138 = 0 * 1U;
#line 2769
            __cil_tmp139 = 112 + __cil_tmp138;
#line 2769
            __cil_tmp140 = (unsigned int )DisketteExtension;
#line 2769
            __cil_tmp141 = __cil_tmp140 + __cil_tmp139;
#line 2769
            mem_432 = (UCHAR *)__cil_tmp141;
#line 2769
            __cil_tmp142 = *mem_432;
#line 2769
            __cil_tmp143 = (int )__cil_tmp142;
#line 2769
            if (__cil_tmp143 & 32) {
#line 2771
              driveStatus = (unsigned char)127;
            } else {
#line 2775
              driveStatus = (unsigned char)128;
            }
            }
            {
#line 2778
            __cil_tmp144 = (int )driveStatus;
#line 2778
            if (__cil_tmp144 & 128) {
              {
#line 2788
              while (1) {
                while_77_continue: /* CIL Label */ ;
                goto while_77_break;
              }
              while_77_break: /* CIL Label */ ;
              }
              {
#line 2795
              __cil_tmp145 = (unsigned int )DisketteExtension;
#line 2795
              __cil_tmp146 = __cil_tmp145 + 28;
#line 2795
              mem_433 = (PDEVICE_OBJECT *)__cil_tmp146;
#line 2795
              __cil_tmp147 = *mem_433;
#line 2795
              __cil_tmp148 = (unsigned int )__cil_tmp147;
#line 2795
              __cil_tmp149 = __cil_tmp148 + 36;
#line 2795
              mem_434 = (PVPB *)__cil_tmp149;
#line 2795
              __cil_tmp150 = *mem_434;
#line 2795
              __cil_tmp151 = (unsigned int )__cil_tmp150;
#line 2795
              __cil_tmp152 = __cil_tmp151 + 4;
#line 2795
              mem_435 = (USHORT *)__cil_tmp152;
#line 2795
              __cil_tmp153 = *mem_435;
#line 2795
              __cil_tmp154 = (int )__cil_tmp153;
#line 2795
              if (__cil_tmp154 & 1) {
#line 2797
                __cil_tmp155 = (unsigned int )DisketteExtension;
#line 2797
                __cil_tmp156 = __cil_tmp155 + 28;
#line 2797
                mem_436 = (PDEVICE_OBJECT *)__cil_tmp156;
#line 2797
                __cil_tmp157 = *mem_436;
#line 2797
                __cil_tmp158 = (unsigned int )__cil_tmp157;
#line 2797
                __cil_tmp159 = __cil_tmp158 + 28;
#line 2797
                __cil_tmp160 = (unsigned int )DisketteExtension;
#line 2797
                __cil_tmp161 = __cil_tmp160 + 28;
#line 2797
                mem_437 = (PDEVICE_OBJECT *)__cil_tmp161;
#line 2797
                __cil_tmp162 = *mem_437;
#line 2797
                __cil_tmp163 = (unsigned int )__cil_tmp162;
#line 2797
                __cil_tmp164 = __cil_tmp163 + 28;
#line 2797
                mem_438 = (ULONG *)__cil_tmp164;
#line 2797
                __cil_tmp165 = *mem_438;
#line 2797
                mem_439 = (ULONG *)__cil_tmp159;
#line 2797
                *mem_439 = __cil_tmp165 & 4294967293UL;
              } else {

              }
              }
#line 2801
              return (-1073741805L);
            } else {

            }
            }
          } else {

          }
          }
          {
#line 2815
          __cil_tmp166 = 0 * 1U;
#line 2815
          __cil_tmp167 = 112 + __cil_tmp166;
#line 2815
          __cil_tmp168 = (unsigned int )DisketteExtension;
#line 2815
          __cil_tmp169 = __cil_tmp168 + __cil_tmp167;
#line 2815
          mem_440 = (UCHAR *)__cil_tmp169;
#line 2815
          *mem_440 = (unsigned char)16;
#line 2816
          __cil_tmp170 = 1 * 1U;
#line 2816
          __cil_tmp171 = 112 + __cil_tmp170;
#line 2816
          __cil_tmp172 = (unsigned int )DisketteExtension;
#line 2816
          __cil_tmp173 = __cil_tmp172 + __cil_tmp171;
#line 2816
          __cil_tmp174 = (unsigned int )DisketteExtension;
#line 2816
          __cil_tmp175 = __cil_tmp174 + 248;
#line 2816
          mem_441 = (UCHAR *)__cil_tmp173;
#line 2816
          mem_442 = (UCHAR *)__cil_tmp175;
#line 2816
          *mem_441 = *mem_442;
#line 2817
          __cil_tmp176 = 2 * 1U;
#line 2817
          __cil_tmp177 = 112 + __cil_tmp176;
#line 2817
          __cil_tmp178 = (unsigned int )DisketteExtension;
#line 2817
          __cil_tmp179 = __cil_tmp178 + __cil_tmp177;
#line 2817
          mem_443 = (UCHAR *)__cil_tmp179;
#line 2817
          *mem_443 = (unsigned char)1;
#line 2819
          __cil_tmp180 = 0 * 1U;
#line 2819
          __cil_tmp181 = 112 + __cil_tmp180;
#line 2819
          __cil_tmp182 = (unsigned int )DisketteExtension;
#line 2819
          __cil_tmp183 = __cil_tmp182 + __cil_tmp181;
#line 2819
          __cil_tmp184 = (UCHAR *)__cil_tmp183;
#line 2819
          __cil_tmp185 = 0 * 1U;
#line 2819
          __cil_tmp186 = 112 + __cil_tmp185;
#line 2819
          __cil_tmp187 = (unsigned int )DisketteExtension;
#line 2819
          __cil_tmp188 = __cil_tmp187 + __cil_tmp186;
#line 2819
          __cil_tmp189 = (UCHAR *)__cil_tmp188;
#line 2819
          __cil_tmp190 = (void *)0;
#line 2819
          __cil_tmp191 = (struct _MDL *)__cil_tmp190;
#line 2819
          ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp184, __cil_tmp189,
                                    __cil_tmp191, 0UL, 0UL);
          }
          {
#line 2826
          __cil_tmp192 = ntStatus >= 0L;
#line 2826
          if (! __cil_tmp192) {
            {
#line 2829
            while (1) {
              while_78_continue: /* CIL Label */ ;
              goto while_78_break;
            }
            while_78_break: /* CIL Label */ ;
            }
#line 2831
            return (ntStatus);
          } else {
            {
#line 2835
            __cil_tmp193 = 0 * 1U;
#line 2835
            __cil_tmp194 = 112 + __cil_tmp193;
#line 2835
            __cil_tmp195 = (unsigned int )DisketteExtension;
#line 2835
            __cil_tmp196 = __cil_tmp195 + __cil_tmp194;
#line 2835
            mem_444 = (UCHAR *)__cil_tmp196;
#line 2835
            __cil_tmp197 = *mem_444;
#line 2835
            __cil_tmp198 = (int )__cil_tmp197;
#line 2835
            __cil_tmp199 = __cil_tmp198 & 32;
#line 2835
            if (! __cil_tmp199) {
              goto _L;
            } else {
              {
#line 2835
              __cil_tmp200 = 1 * 1U;
#line 2835
              __cil_tmp201 = 112 + __cil_tmp200;
#line 2835
              __cil_tmp202 = (unsigned int )DisketteExtension;
#line 2835
              __cil_tmp203 = __cil_tmp202 + __cil_tmp201;
#line 2835
              mem_445 = (UCHAR *)__cil_tmp203;
#line 2835
              __cil_tmp204 = *mem_445;
#line 2835
              __cil_tmp205 = (int )__cil_tmp204;
#line 2835
              if (__cil_tmp205 != 1) {
                _L: 
                {
#line 2841
                while (1) {
                  while_79_continue: /* CIL Label */ ;
                  goto while_79_break;
                }
                while_79_break: /* CIL Label */ ;
                }
#line 2843
                __cil_tmp206 = (unsigned int )DisketteExtension;
#line 2843
                __cil_tmp207 = __cil_tmp206 + 104;
#line 2843
                mem_446 = (BOOLEAN *)__cil_tmp207;
#line 2843
                *mem_446 = (unsigned char)1;
#line 2845
                return (-1073741464L);
              } else {

              }
              }
            }
            }
          }
          }
          {
#line 2853
          __cil_tmp208 = 0 * 1U;
#line 2853
          __cil_tmp209 = 112 + __cil_tmp208;
#line 2853
          __cil_tmp210 = (unsigned int )DisketteExtension;
#line 2853
          __cil_tmp211 = __cil_tmp210 + __cil_tmp209;
#line 2853
          mem_447 = (UCHAR *)__cil_tmp211;
#line 2853
          *mem_447 = (unsigned char)16;
#line 2854
          __cil_tmp212 = 1 * 1U;
#line 2854
          __cil_tmp213 = 112 + __cil_tmp212;
#line 2854
          __cil_tmp214 = (unsigned int )DisketteExtension;
#line 2854
          __cil_tmp215 = __cil_tmp214 + __cil_tmp213;
#line 2854
          __cil_tmp216 = (unsigned int )DisketteExtension;
#line 2854
          __cil_tmp217 = __cil_tmp216 + 248;
#line 2854
          mem_448 = (UCHAR *)__cil_tmp215;
#line 2854
          mem_449 = (UCHAR *)__cil_tmp217;
#line 2854
          *mem_448 = *mem_449;
#line 2855
          __cil_tmp218 = 2 * 1U;
#line 2855
          __cil_tmp219 = 112 + __cil_tmp218;
#line 2855
          __cil_tmp220 = (unsigned int )DisketteExtension;
#line 2855
          __cil_tmp221 = __cil_tmp220 + __cil_tmp219;
#line 2855
          mem_450 = (UCHAR *)__cil_tmp221;
#line 2855
          *mem_450 = (unsigned char)0;
#line 2862
          __cil_tmp222 = & delay;
#line 2862
          mem_451 = (ULONG *)__cil_tmp222;
#line 2862
          *mem_451 = 4294966396UL;
#line 2863
          __cil_tmp223 = 0 + 4;
#line 2863
          __cil_tmp224 = (unsigned int )(& delay) + __cil_tmp223;
#line 2863
          mem_452 = (LONG *)__cil_tmp224;
#line 2863
          *mem_452 = -1L;
#line 2864
          KeDelayExecutionThread((char)0, (unsigned char)0, & delay);
#line 2865
          __cil_tmp225 = 0 * 1U;
#line 2865
          __cil_tmp226 = 112 + __cil_tmp225;
#line 2865
          __cil_tmp227 = (unsigned int )DisketteExtension;
#line 2865
          __cil_tmp228 = __cil_tmp227 + __cil_tmp226;
#line 2865
          __cil_tmp229 = (UCHAR *)__cil_tmp228;
#line 2865
          __cil_tmp230 = 0 * 1U;
#line 2865
          __cil_tmp231 = 112 + __cil_tmp230;
#line 2865
          __cil_tmp232 = (unsigned int )DisketteExtension;
#line 2865
          __cil_tmp233 = __cil_tmp232 + __cil_tmp231;
#line 2865
          __cil_tmp234 = (UCHAR *)__cil_tmp233;
#line 2865
          __cil_tmp235 = (void *)0;
#line 2865
          __cil_tmp236 = (struct _MDL *)__cil_tmp235;
#line 2865
          ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp229, __cil_tmp234,
                                    __cil_tmp236, 0UL, 0UL);
#line 2875
          __cil_tmp237 = & delay;
#line 2875
          mem_453 = (ULONG *)__cil_tmp237;
#line 2875
          *mem_453 = 4294967291UL;
#line 2876
          __cil_tmp238 = 0 + 4;
#line 2876
          __cil_tmp239 = (unsigned int )(& delay) + __cil_tmp238;
#line 2876
          mem_454 = (LONG *)__cil_tmp239;
#line 2876
          *mem_454 = -1L;
#line 2877
          KeDelayExecutionThread((char)0, (unsigned char)0, & delay);
          }
          {
#line 2879
          __cil_tmp240 = ntStatus >= 0L;
#line 2879
          if (! __cil_tmp240) {
            {
#line 2882
            while (1) {
              while_80_continue: /* CIL Label */ ;
              goto while_80_break;
            }
            while_80_break: /* CIL Label */ ;
            }
#line 2884
            return (ntStatus);
          } else {
            {
#line 2888
            __cil_tmp241 = 0 * 1U;
#line 2888
            __cil_tmp242 = 112 + __cil_tmp241;
#line 2888
            __cil_tmp243 = (unsigned int )DisketteExtension;
#line 2888
            __cil_tmp244 = __cil_tmp243 + __cil_tmp242;
#line 2888
            mem_455 = (UCHAR *)__cil_tmp244;
#line 2888
            __cil_tmp245 = *mem_455;
#line 2888
            __cil_tmp246 = (int )__cil_tmp245;
#line 2888
            __cil_tmp247 = __cil_tmp246 & 32;
#line 2888
            if (! __cil_tmp247) {
              goto _L___0;
            } else {
              {
#line 2888
              __cil_tmp248 = 1 * 1U;
#line 2888
              __cil_tmp249 = 112 + __cil_tmp248;
#line 2888
              __cil_tmp250 = (unsigned int )DisketteExtension;
#line 2888
              __cil_tmp251 = __cil_tmp250 + __cil_tmp249;
#line 2888
              mem_456 = (UCHAR *)__cil_tmp251;
#line 2888
              __cil_tmp252 = *mem_456;
#line 2888
              __cil_tmp253 = (int )__cil_tmp252;
#line 2888
              if (__cil_tmp253 != 0) {
                _L___0: 
                {
#line 2894
                while (1) {
                  while_81_continue: /* CIL Label */ ;
                  goto while_81_break;
                }
                while_81_break: /* CIL Label */ ;
                }
#line 2896
                __cil_tmp254 = (unsigned int )DisketteExtension;
#line 2896
                __cil_tmp255 = __cil_tmp254 + 104;
#line 2896
                mem_457 = (BOOLEAN *)__cil_tmp255;
#line 2896
                *mem_457 = (unsigned char)1;
#line 2898
                return (-1073741464L);
              } else {

              }
              }
            }
            }
          }
          }
          {
#line 2903
          __cil_tmp256 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 2903
          __cil_tmp257 = (unsigned int )__cil_tmp256;
#line 2903
          __cil_tmp258 = __cil_tmp257 + 732;
#line 2903
          mem_458 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp258;
#line 2903
          __cil_tmp259 = *mem_458;
#line 2903
          __cil_tmp260 = (int )__cil_tmp259;
#line 2903
          if (__cil_tmp260 == 1) {
            {
#line 2909
            __cil_tmp261 = 0 * 1U;
#line 2909
            __cil_tmp262 = 112 + __cil_tmp261;
#line 2909
            __cil_tmp263 = (unsigned int )DisketteExtension;
#line 2909
            __cil_tmp264 = __cil_tmp263 + __cil_tmp262;
#line 2909
            mem_459 = (UCHAR *)__cil_tmp264;
#line 2909
            *mem_459 = (unsigned char)14;
#line 2910
            __cil_tmp265 = 1 * 1U;
#line 2910
            __cil_tmp266 = 112 + __cil_tmp265;
#line 2910
            __cil_tmp267 = (unsigned int )DisketteExtension;
#line 2910
            __cil_tmp268 = __cil_tmp267 + __cil_tmp266;
#line 2910
            __cil_tmp269 = (unsigned int )DisketteExtension;
#line 2910
            __cil_tmp270 = __cil_tmp269 + 248;
#line 2910
            mem_460 = (UCHAR *)__cil_tmp268;
#line 2910
            mem_461 = (UCHAR *)__cil_tmp270;
#line 2910
            *mem_460 = *mem_461;
#line 2912
            __cil_tmp271 = 0 * 1U;
#line 2912
            __cil_tmp272 = 112 + __cil_tmp271;
#line 2912
            __cil_tmp273 = (unsigned int )DisketteExtension;
#line 2912
            __cil_tmp274 = __cil_tmp273 + __cil_tmp272;
#line 2912
            __cil_tmp275 = (UCHAR *)__cil_tmp274;
#line 2912
            __cil_tmp276 = 0 * 1U;
#line 2912
            __cil_tmp277 = 112 + __cil_tmp276;
#line 2912
            __cil_tmp278 = (unsigned int )DisketteExtension;
#line 2912
            __cil_tmp279 = __cil_tmp278 + __cil_tmp277;
#line 2912
            __cil_tmp280 = (UCHAR *)__cil_tmp279;
#line 2912
            __cil_tmp281 = (void *)0;
#line 2912
            __cil_tmp282 = (struct _MDL *)__cil_tmp281;
#line 2912
            ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp275, __cil_tmp280,
                                      __cil_tmp282, 0UL, 0UL);
            }
            {
#line 2919
            __cil_tmp283 = ntStatus >= 0L;
#line 2919
            if (! __cil_tmp283) {
              {
#line 2924
              while (1) {
                while_82_continue: /* CIL Label */ ;
                goto while_82_break;
              }
              while_82_break: /* CIL Label */ ;
              }
#line 2926
              return (ntStatus);
            } else {

            }
            }
            {
#line 2929
            __cil_tmp284 = 0 * 1U;
#line 2929
            __cil_tmp285 = 112 + __cil_tmp284;
#line 2929
            __cil_tmp286 = (unsigned int )DisketteExtension;
#line 2929
            __cil_tmp287 = __cil_tmp286 + __cil_tmp285;
#line 2929
            mem_462 = (UCHAR *)__cil_tmp287;
#line 2929
            __cil_tmp288 = *mem_462;
#line 2929
            __cil_tmp289 = (int )__cil_tmp288;
#line 2929
            if (__cil_tmp289 & 32) {
#line 2931
              driveStatus = (unsigned char)127;
            } else {
#line 2935
              driveStatus = (unsigned char)128;
            }
            }
          } else {
            {
#line 2939
            __cil_tmp290 = (unsigned int )DisketteExtension;
#line 2939
            __cil_tmp291 = __cil_tmp290 + 8;
#line 2939
            mem_463 = (PDEVICE_OBJECT *)__cil_tmp291;
#line 2939
            __cil_tmp292 = *mem_463;
#line 2939
            __cil_tmp293 = 776 << 2;
#line 2939
            __cil_tmp294 = 7 << 16;
#line 2939
            __cil_tmp295 = __cil_tmp294 | __cil_tmp293;
#line 2939
            __cil_tmp296 = __cil_tmp295 | 3;
#line 2939
            __cil_tmp297 = (unsigned long )__cil_tmp296;
#line 2939
            __cil_tmp298 = (void *)(& fdcDiskChangeParms);
#line 2939
            ntStatus = FlFdcDeviceIo(__cil_tmp292, __cil_tmp297, __cil_tmp298);
#line 2943
            __cil_tmp299 = & fdcDiskChangeParms;
#line 2943
            mem_464 = (UCHAR *)__cil_tmp299;
#line 2943
            driveStatus = *mem_464;
            }
            {
#line 2945
            __cil_tmp300 = ntStatus >= 0L;
#line 2945
            if (! __cil_tmp300) {
#line 2946
              return (ntStatus);
            } else {

            }
            }
          }
          }
          {
#line 2950
          __cil_tmp301 = (int )driveStatus;
#line 2950
          if (__cil_tmp301 & 128) {
            {
#line 2960
            while (1) {
              while_83_continue: /* CIL Label */ ;
              goto while_83_break;
            }
            while_83_break: /* CIL Label */ ;
            }
            {
#line 2967
            __cil_tmp302 = (unsigned int )DisketteExtension;
#line 2967
            __cil_tmp303 = __cil_tmp302 + 28;
#line 2967
            mem_465 = (PDEVICE_OBJECT *)__cil_tmp303;
#line 2967
            __cil_tmp304 = *mem_465;
#line 2967
            __cil_tmp305 = (unsigned int )__cil_tmp304;
#line 2967
            __cil_tmp306 = __cil_tmp305 + 36;
#line 2967
            mem_466 = (PVPB *)__cil_tmp306;
#line 2967
            __cil_tmp307 = *mem_466;
#line 2967
            __cil_tmp308 = (unsigned int )__cil_tmp307;
#line 2967
            __cil_tmp309 = __cil_tmp308 + 4;
#line 2967
            mem_467 = (USHORT *)__cil_tmp309;
#line 2967
            __cil_tmp310 = *mem_467;
#line 2967
            __cil_tmp311 = (int )__cil_tmp310;
#line 2967
            if (__cil_tmp311 & 1) {
#line 2969
              __cil_tmp312 = (unsigned int )DisketteExtension;
#line 2969
              __cil_tmp313 = __cil_tmp312 + 28;
#line 2969
              mem_468 = (PDEVICE_OBJECT *)__cil_tmp313;
#line 2969
              __cil_tmp314 = *mem_468;
#line 2969
              __cil_tmp315 = (unsigned int )__cil_tmp314;
#line 2969
              __cil_tmp316 = __cil_tmp315 + 28;
#line 2969
              __cil_tmp317 = (unsigned int )DisketteExtension;
#line 2969
              __cil_tmp318 = __cil_tmp317 + 28;
#line 2969
              mem_469 = (PDEVICE_OBJECT *)__cil_tmp318;
#line 2969
              __cil_tmp319 = *mem_469;
#line 2969
              __cil_tmp320 = (unsigned int )__cil_tmp319;
#line 2969
              __cil_tmp321 = __cil_tmp320 + 28;
#line 2969
              mem_470 = (ULONG *)__cil_tmp321;
#line 2969
              __cil_tmp322 = *mem_470;
#line 2969
              mem_471 = (ULONG *)__cil_tmp316;
#line 2969
              *mem_471 = __cil_tmp322 & 4294967293UL;
            } else {

            }
            }
#line 2973
            return (-1073741805L);
          } else {

          }
          }
        } else {

        }
        }
        {
#line 2982
        __cil_tmp323 = (int )IgnoreChange;
#line 2982
        if (__cil_tmp323 == 0) {
          {
#line 2984
          __cil_tmp324 = (unsigned int )DisketteExtension;
#line 2984
          __cil_tmp325 = __cil_tmp324 + 28;
#line 2984
          mem_472 = (PDEVICE_OBJECT *)__cil_tmp325;
#line 2984
          __cil_tmp326 = *mem_472;
#line 2984
          __cil_tmp327 = (unsigned int )__cil_tmp326;
#line 2984
          __cil_tmp328 = __cil_tmp327 + 36;
#line 2984
          mem_473 = (PVPB *)__cil_tmp328;
#line 2984
          __cil_tmp329 = *mem_473;
#line 2984
          __cil_tmp330 = (unsigned int )__cil_tmp329;
#line 2984
          __cil_tmp331 = __cil_tmp330 + 4;
#line 2984
          mem_474 = (USHORT *)__cil_tmp331;
#line 2984
          __cil_tmp332 = *mem_474;
#line 2984
          __cil_tmp333 = (int )__cil_tmp332;
#line 2984
          if (__cil_tmp333 & 1) {
            {
#line 2994
            while (1) {
              while_84_continue: /* CIL Label */ ;
              goto while_84_break;
            }
            while_84_break: /* CIL Label */ ;
            }
#line 2996
            return (-2147483626L);
          } else {
#line 3000
            return (-1073741435L);
          }
          }
        } else {

        }
        }
      } else {
        goto _L___2;
      }
      }
    } else {
      _L___2: 
      {
#line 3004
      __cil_tmp334 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 3004
      __cil_tmp335 = (unsigned int )__cil_tmp334;
#line 3004
      __cil_tmp336 = __cil_tmp335 + 732;
#line 3004
      mem_475 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp336;
#line 3004
      __cil_tmp337 = *mem_475;
#line 3004
      __cil_tmp338 = (int )__cil_tmp337;
#line 3004
      if (__cil_tmp338 == 1) {
        {
#line 3006
        FlHdbit(DisketteExtension);
        }
      } else {

      }
      }
    }
    }
  }
  }
#line 3011
  if (SetUpMedia) {
    {
#line 3013
    __cil_tmp339 = (unsigned int )DisketteExtension;
#line 3013
    __cil_tmp340 = __cil_tmp339 + 184;
#line 3013
    mem_476 = (MEDIA_TYPE *)__cil_tmp340;
#line 3013
    __cil_tmp341 = *mem_476;
#line 3013
    __cil_tmp342 = (int )__cil_tmp341;
#line 3013
    if (__cil_tmp342 == -1) {
      {
#line 3015
      ntStatus = FlDetermineMediaType(DisketteExtension);
      }
    } else {
      {
#line 3019
      __cil_tmp343 = (unsigned int )DisketteExtension;
#line 3019
      __cil_tmp344 = __cil_tmp343 + 184;
#line 3019
      mem_477 = (MEDIA_TYPE *)__cil_tmp344;
#line 3019
      __cil_tmp345 = *mem_477;
#line 3019
      __cil_tmp346 = (int )__cil_tmp345;
#line 3019
      if (__cil_tmp346 == 0) {
        {
#line 3029
        while (1) {
          while_85_continue: /* CIL Label */ ;
          goto while_85_break;
        }
        while_85_break: /* CIL Label */ ;
        }
#line 3030
        return (-1073741804L);
      } else {
        {
#line 3034
        __cil_tmp347 = (unsigned int )DisketteExtension;
#line 3034
        __cil_tmp348 = __cil_tmp347 + 140;
#line 3034
        mem_478 = (DRIVE_MEDIA_TYPE *)__cil_tmp348;
#line 3034
        __cil_tmp349 = *mem_478;
#line 3034
        __cil_tmp350 = (int )__cil_tmp349;
#line 3034
        __cil_tmp351 = (unsigned int )DisketteExtension;
#line 3034
        __cil_tmp352 = __cil_tmp351 + 216;
#line 3034
        mem_479 = (DRIVE_MEDIA_TYPE *)__cil_tmp352;
#line 3034
        __cil_tmp353 = *mem_479;
#line 3034
        __cil_tmp354 = (int )__cil_tmp353;
#line 3034
        if (__cil_tmp354 != __cil_tmp350) {
          {
#line 3042
          ntStatus = FlDatarateSpecifyConfigure(DisketteExtension);
          }
          {
#line 3043
          __cil_tmp355 = ntStatus >= 0L;
#line 3043
          if (! __cil_tmp355) {
            {
#line 3050
            while (1) {
              while_86_continue: /* CIL Label */ ;
              goto while_86_break;
            }
            while_86_break: /* CIL Label */ ;
            }
          } else {

          }
          }
        } else {

        }
        }
      }
      }
    }
    }
  } else {

  }
#line 3063
  if (WriteOperation) {
#line 3063
    if (ntStatus >= 0L) {
      {
#line 3065
      __cil_tmp356 = 0 * 1U;
#line 3065
      __cil_tmp357 = 112 + __cil_tmp356;
#line 3065
      __cil_tmp358 = (unsigned int )DisketteExtension;
#line 3065
      __cil_tmp359 = __cil_tmp358 + __cil_tmp357;
#line 3065
      mem_480 = (UCHAR *)__cil_tmp359;
#line 3065
      *mem_480 = (unsigned char)14;
#line 3066
      __cil_tmp360 = 1 * 1U;
#line 3066
      __cil_tmp361 = 112 + __cil_tmp360;
#line 3066
      __cil_tmp362 = (unsigned int )DisketteExtension;
#line 3066
      __cil_tmp363 = __cil_tmp362 + __cil_tmp361;
#line 3066
      __cil_tmp364 = (unsigned int )DisketteExtension;
#line 3066
      __cil_tmp365 = __cil_tmp364 + 248;
#line 3066
      mem_481 = (UCHAR *)__cil_tmp363;
#line 3066
      mem_482 = (UCHAR *)__cil_tmp365;
#line 3066
      *mem_481 = *mem_482;
#line 3068
      __cil_tmp366 = 0 * 1U;
#line 3068
      __cil_tmp367 = 112 + __cil_tmp366;
#line 3068
      __cil_tmp368 = (unsigned int )DisketteExtension;
#line 3068
      __cil_tmp369 = __cil_tmp368 + __cil_tmp367;
#line 3068
      __cil_tmp370 = (UCHAR *)__cil_tmp369;
#line 3068
      __cil_tmp371 = 0 * 1U;
#line 3068
      __cil_tmp372 = 112 + __cil_tmp371;
#line 3068
      __cil_tmp373 = (unsigned int )DisketteExtension;
#line 3068
      __cil_tmp374 = __cil_tmp373 + __cil_tmp372;
#line 3068
      __cil_tmp375 = (UCHAR *)__cil_tmp374;
#line 3068
      __cil_tmp376 = (void *)0;
#line 3068
      __cil_tmp377 = (struct _MDL *)__cil_tmp376;
#line 3068
      ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp370, __cil_tmp375, __cil_tmp377,
                                0UL, 0UL);
      }
      {
#line 3075
      __cil_tmp378 = ntStatus >= 0L;
#line 3075
      if (! __cil_tmp378) {
        {
#line 3080
        while (1) {
          while_87_continue: /* CIL Label */ ;
          goto while_87_break;
        }
        while_87_break: /* CIL Label */ ;
        }
#line 3082
        return (ntStatus);
      } else {

      }
      }
      {
#line 3085
      __cil_tmp379 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 3085
      __cil_tmp380 = (unsigned int )__cil_tmp379;
#line 3085
      __cil_tmp381 = __cil_tmp380 + 732;
#line 3085
      mem_483 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp381;
#line 3085
      __cil_tmp382 = *mem_483;
#line 3085
      __cil_tmp383 = (int )__cil_tmp382;
#line 3085
      if (__cil_tmp383 == 1) {
        {
#line 3089
        __cil_tmp384 = 0 * 1U;
#line 3089
        __cil_tmp385 = 112 + __cil_tmp384;
#line 3089
        __cil_tmp386 = (unsigned int )DisketteExtension;
#line 3089
        __cil_tmp387 = __cil_tmp386 + __cil_tmp385;
#line 3089
        mem_484 = (UCHAR *)__cil_tmp387;
#line 3089
        __cil_tmp388 = *mem_484;
#line 3089
        __cil_tmp389 = (int )__cil_tmp388;
#line 3089
        __cil_tmp390 = __cil_tmp389 & 32;
#line 3089
        if (! __cil_tmp390) {
          {
#line 3094
          while (1) {
            while_88_continue: /* CIL Label */ ;
            goto while_88_break;
          }
          while_88_break: /* CIL Label */ ;
          }
#line 3095
          return (-1073741805L);
        } else {

        }
        }
      } else {

      }
      }
      {
#line 3099
      __cil_tmp391 = 0 * 1U;
#line 3099
      __cil_tmp392 = 112 + __cil_tmp391;
#line 3099
      __cil_tmp393 = (unsigned int )DisketteExtension;
#line 3099
      __cil_tmp394 = __cil_tmp393 + __cil_tmp392;
#line 3099
      mem_485 = (UCHAR *)__cil_tmp394;
#line 3099
      __cil_tmp395 = *mem_485;
#line 3099
      __cil_tmp396 = (int )__cil_tmp395;
#line 3099
      if (__cil_tmp396 & 64) {
        {
#line 3104
        while (1) {
          while_89_continue: /* CIL Label */ ;
          goto while_89_break;
        }
        while_89_break: /* CIL Label */ ;
        }
#line 3105
        return (-1073741662L);
      } else {

      }
      }
    } else {

    }
  } else {

  }
#line 3109
  return (ntStatus);
}
}
#line 3112 "floppy.c"
NTSTATUS FlDatarateSpecifyConfigure(PDISKETTE_EXTENSION DisketteExtension ) 
{ NTSTATUS ntStatus ;
  unsigned int __cil_tmp3 ;
  unsigned int __cil_tmp4 ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  UCHAR __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  UCHAR __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  UCHAR __cil_tmp40 ;
  int __cil_tmp41 ;
  int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  UCHAR *__cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  UCHAR *__cil_tmp56 ;
  void *__cil_tmp57 ;
  struct _MDL *__cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  unsigned int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  UCHAR *__cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  unsigned int __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  UCHAR *__cil_tmp88 ;
  void *__cil_tmp89 ;
  struct _MDL *__cil_tmp90 ;
  unsigned int __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  PDEVICE_OBJECT __cil_tmp93 ;
  int __cil_tmp94 ;
  int __cil_tmp95 ;
  int __cil_tmp96 ;
  int __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  unsigned int __cil_tmp100 ;
  unsigned int __cil_tmp101 ;
  UCHAR *__cil_tmp102 ;
  void *__cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  unsigned int __cil_tmp109 ;
  BOOLEAN *mem_110 ;
  UCHAR *mem_111 ;
  UCHAR *mem_112 ;
  UCHAR *mem_113 ;
  UCHAR *mem_114 ;
  UCHAR *mem_115 ;
  UCHAR *mem_116 ;
  UCHAR *mem_117 ;
  UCHAR *mem_118 ;
  UCHAR *mem_119 ;
  BOOLEAN *mem_120 ;
  UCHAR *mem_121 ;
  UCHAR *mem_122 ;
  UCHAR *mem_123 ;
  UCHAR *mem_124 ;
  UCHAR *mem_125 ;
  PDEVICE_OBJECT *mem_126 ;
  DRIVE_MEDIA_TYPE *mem_127 ;
  DRIVE_MEDIA_TYPE *mem_128 ;
  DRIVE_MEDIA_TYPE *mem_129 ;

  {
#line 3142
  ntStatus = 0L;
  {
#line 3148
  __cil_tmp3 = (unsigned int )DisketteExtension;
#line 3148
  __cil_tmp4 = __cil_tmp3 + 365;
  {
#line 3148
  mem_110 = (BOOLEAN *)__cil_tmp4;
#line 3148
  if (*mem_110) {
#line 3150
    __cil_tmp5 = 0 * 1U;
#line 3150
    __cil_tmp6 = 112 + __cil_tmp5;
#line 3150
    __cil_tmp7 = (unsigned int )DisketteExtension;
#line 3150
    __cil_tmp8 = __cil_tmp7 + __cil_tmp6;
#line 3150
    mem_111 = (UCHAR *)__cil_tmp8;
#line 3150
    *mem_111 = (unsigned char)17;
#line 3151
    __cil_tmp9 = 1 * 1U;
#line 3151
    __cil_tmp10 = 112 + __cil_tmp9;
#line 3151
    __cil_tmp11 = (unsigned int )DisketteExtension;
#line 3151
    __cil_tmp12 = __cil_tmp11 + __cil_tmp10;
#line 3151
    mem_112 = (UCHAR *)__cil_tmp12;
#line 3151
    *mem_112 = (unsigned char)0;
#line 3153
    __cil_tmp13 = 2 * 1U;
#line 3153
    __cil_tmp14 = 112 + __cil_tmp13;
#line 3153
    __cil_tmp15 = (unsigned int )DisketteExtension;
#line 3153
    __cil_tmp16 = __cil_tmp15 + __cil_tmp14;
#line 3153
    mem_113 = (UCHAR *)__cil_tmp16;
#line 3153
    *mem_113 = (unsigned char)15;
#line 3154
    __cil_tmp17 = 2 * 1U;
#line 3154
    __cil_tmp18 = 112 + __cil_tmp17;
#line 3154
    __cil_tmp19 = (unsigned int )DisketteExtension;
#line 3154
    __cil_tmp20 = __cil_tmp19 + __cil_tmp18;
#line 3154
    __cil_tmp21 = 2 * 1U;
#line 3154
    __cil_tmp22 = 112 + __cil_tmp21;
#line 3154
    __cil_tmp23 = (unsigned int )DisketteExtension;
#line 3154
    __cil_tmp24 = __cil_tmp23 + __cil_tmp22;
#line 3154
    mem_114 = (UCHAR *)__cil_tmp24;
#line 3154
    __cil_tmp25 = *mem_114;
#line 3154
    __cil_tmp26 = (int )__cil_tmp25;
#line 3154
    __cil_tmp27 = __cil_tmp26 + 16;
#line 3154
    mem_115 = (UCHAR *)__cil_tmp20;
#line 3154
    *mem_115 = (unsigned char )__cil_tmp27;
    {
#line 3156
    __cil_tmp28 = 308 + 49;
#line 3156
    __cil_tmp29 = (unsigned int )DisketteExtension;
#line 3156
    __cil_tmp30 = __cil_tmp29 + __cil_tmp28;
#line 3156
    mem_116 = (UCHAR *)__cil_tmp30;
#line 3156
    __cil_tmp31 = *mem_116;
#line 3156
    if (! __cil_tmp31) {
#line 3157
      __cil_tmp32 = 2 * 1U;
#line 3157
      __cil_tmp33 = 112 + __cil_tmp32;
#line 3157
      __cil_tmp34 = (unsigned int )DisketteExtension;
#line 3157
      __cil_tmp35 = __cil_tmp34 + __cil_tmp33;
#line 3157
      __cil_tmp36 = 2 * 1U;
#line 3157
      __cil_tmp37 = 112 + __cil_tmp36;
#line 3157
      __cil_tmp38 = (unsigned int )DisketteExtension;
#line 3157
      __cil_tmp39 = __cil_tmp38 + __cil_tmp37;
#line 3157
      mem_117 = (UCHAR *)__cil_tmp39;
#line 3157
      __cil_tmp40 = *mem_117;
#line 3157
      __cil_tmp41 = (int )__cil_tmp40;
#line 3157
      __cil_tmp42 = __cil_tmp41 + 64;
#line 3157
      mem_118 = (UCHAR *)__cil_tmp35;
#line 3157
      *mem_118 = (unsigned char )__cil_tmp42;
    } else {

    }
    }
    {
#line 3160
    __cil_tmp43 = 3 * 1U;
#line 3160
    __cil_tmp44 = 112 + __cil_tmp43;
#line 3160
    __cil_tmp45 = (unsigned int )DisketteExtension;
#line 3160
    __cil_tmp46 = __cil_tmp45 + __cil_tmp44;
#line 3160
    mem_119 = (UCHAR *)__cil_tmp46;
#line 3160
    *mem_119 = (unsigned char)0;
#line 3162
    __cil_tmp47 = 0 * 1U;
#line 3162
    __cil_tmp48 = 112 + __cil_tmp47;
#line 3162
    __cil_tmp49 = (unsigned int )DisketteExtension;
#line 3162
    __cil_tmp50 = __cil_tmp49 + __cil_tmp48;
#line 3162
    __cil_tmp51 = (UCHAR *)__cil_tmp50;
#line 3162
    __cil_tmp52 = 0 * 1U;
#line 3162
    __cil_tmp53 = 112 + __cil_tmp52;
#line 3162
    __cil_tmp54 = (unsigned int )DisketteExtension;
#line 3162
    __cil_tmp55 = __cil_tmp54 + __cil_tmp53;
#line 3162
    __cil_tmp56 = (UCHAR *)__cil_tmp55;
#line 3162
    __cil_tmp57 = (void *)0;
#line 3162
    __cil_tmp58 = (struct _MDL *)__cil_tmp57;
#line 3162
    ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp51, __cil_tmp56, __cil_tmp58,
                              0UL, 0UL);
    }
#line 3169
    if (ntStatus == -1073741661L) {
#line 3171
      __cil_tmp59 = (unsigned int )DisketteExtension;
#line 3171
      __cil_tmp60 = __cil_tmp59 + 365;
#line 3171
      mem_120 = (BOOLEAN *)__cil_tmp60;
#line 3171
      *mem_120 = (unsigned char)0;
#line 3172
      ntStatus = 0L;
    } else {

    }
  } else {

  }
  }
  }
#line 3181
  if (ntStatus >= 0L) {
    goto _L;
  } else {
#line 3181
    if (ntStatus == -1073741661L) {
      _L: 
      {
#line 3184
      __cil_tmp61 = 0 * 1U;
#line 3184
      __cil_tmp62 = 112 + __cil_tmp61;
#line 3184
      __cil_tmp63 = (unsigned int )DisketteExtension;
#line 3184
      __cil_tmp64 = __cil_tmp63 + __cil_tmp62;
#line 3184
      mem_121 = (UCHAR *)__cil_tmp64;
#line 3184
      *mem_121 = (unsigned char)13;
#line 3185
      __cil_tmp65 = 1 * 1U;
#line 3185
      __cil_tmp66 = 112 + __cil_tmp65;
#line 3185
      __cil_tmp67 = (unsigned int )DisketteExtension;
#line 3185
      __cil_tmp68 = __cil_tmp67 + __cil_tmp66;
#line 3185
      __cil_tmp69 = 308 + 32;
#line 3185
      __cil_tmp70 = (unsigned int )DisketteExtension;
#line 3185
      __cil_tmp71 = __cil_tmp70 + __cil_tmp69;
#line 3185
      mem_122 = (UCHAR *)__cil_tmp68;
#line 3185
      mem_123 = (UCHAR *)__cil_tmp71;
#line 3185
      *mem_122 = *mem_123;
#line 3188
      __cil_tmp72 = 2 * 1U;
#line 3188
      __cil_tmp73 = 112 + __cil_tmp72;
#line 3188
      __cil_tmp74 = (unsigned int )DisketteExtension;
#line 3188
      __cil_tmp75 = __cil_tmp74 + __cil_tmp73;
#line 3188
      __cil_tmp76 = 308 + 33;
#line 3188
      __cil_tmp77 = (unsigned int )DisketteExtension;
#line 3188
      __cil_tmp78 = __cil_tmp77 + __cil_tmp76;
#line 3188
      mem_124 = (UCHAR *)__cil_tmp75;
#line 3188
      mem_125 = (UCHAR *)__cil_tmp78;
#line 3188
      *mem_124 = *mem_125;
#line 3191
      __cil_tmp79 = 0 * 1U;
#line 3191
      __cil_tmp80 = 112 + __cil_tmp79;
#line 3191
      __cil_tmp81 = (unsigned int )DisketteExtension;
#line 3191
      __cil_tmp82 = __cil_tmp81 + __cil_tmp80;
#line 3191
      __cil_tmp83 = (UCHAR *)__cil_tmp82;
#line 3191
      __cil_tmp84 = 0 * 1U;
#line 3191
      __cil_tmp85 = 112 + __cil_tmp84;
#line 3191
      __cil_tmp86 = (unsigned int )DisketteExtension;
#line 3191
      __cil_tmp87 = __cil_tmp86 + __cil_tmp85;
#line 3191
      __cil_tmp88 = (UCHAR *)__cil_tmp87;
#line 3191
      __cil_tmp89 = (void *)0;
#line 3191
      __cil_tmp90 = (struct _MDL *)__cil_tmp89;
#line 3191
      ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp83, __cil_tmp88, __cil_tmp90,
                                0UL, 0UL);
      }
#line 3198
      if (ntStatus >= 0L) {
        {
#line 3204
        __cil_tmp91 = (unsigned int )DisketteExtension;
#line 3204
        __cil_tmp92 = __cil_tmp91 + 8;
#line 3204
        mem_126 = (PDEVICE_OBJECT *)__cil_tmp92;
#line 3204
        __cil_tmp93 = *mem_126;
#line 3204
        __cil_tmp94 = 777 << 2;
#line 3204
        __cil_tmp95 = 7 << 16;
#line 3204
        __cil_tmp96 = __cil_tmp95 | __cil_tmp94;
#line 3204
        __cil_tmp97 = __cil_tmp96 | 3;
#line 3204
        __cil_tmp98 = (unsigned long )__cil_tmp97;
#line 3204
        __cil_tmp99 = 308 + 50;
#line 3204
        __cil_tmp100 = (unsigned int )DisketteExtension;
#line 3204
        __cil_tmp101 = __cil_tmp100 + __cil_tmp99;
#line 3204
        __cil_tmp102 = (UCHAR *)__cil_tmp101;
#line 3204
        __cil_tmp103 = (void *)__cil_tmp102;
#line 3204
        ntStatus = FlFdcDeviceIo(__cil_tmp93, __cil_tmp98, __cil_tmp103);
        }
#line 3214
        if (ntStatus >= 0L) {
          {
#line 3216
          ntStatus = FlRecalibrateDrive(DisketteExtension);
          }
        } else {

        }
      } else {
        {
#line 3222
        while (1) {
          while_90_continue: /* CIL Label */ ;
          goto while_90_break;
        }
        while_90_break: /* CIL Label */ ;
        }
      }
    } else {
      {
#line 3228
      while (1) {
        while_91_continue: /* CIL Label */ ;
        goto while_91_break;
      }
      while_91_break: /* CIL Label */ ;
      }
    }
  }
#line 3231
  if (ntStatus >= 0L) {
#line 3233
    __cil_tmp104 = (unsigned int )DisketteExtension;
#line 3233
    __cil_tmp105 = __cil_tmp104 + 140;
#line 3233
    __cil_tmp106 = (unsigned int )DisketteExtension;
#line 3233
    __cil_tmp107 = __cil_tmp106 + 216;
#line 3233
    mem_127 = (DRIVE_MEDIA_TYPE *)__cil_tmp105;
#line 3233
    mem_128 = (DRIVE_MEDIA_TYPE *)__cil_tmp107;
#line 3233
    *mem_127 = *mem_128;
  } else {
#line 3238
    __cil_tmp108 = (unsigned int )DisketteExtension;
#line 3238
    __cil_tmp109 = __cil_tmp108 + 140;
#line 3238
    mem_129 = (DRIVE_MEDIA_TYPE *)__cil_tmp109;
#line 3238
    *mem_129 = (enum _DRIVE_MEDIA_TYPE )0;
    {
#line 3242
    while (1) {
      while_92_continue: /* CIL Label */ ;
      goto while_92_break;
    }
    while_92_break: /* CIL Label */ ;
    }
  }
#line 3245
  return (ntStatus);
}
}
#line 3248 "floppy.c"
NTSTATUS FlRecalibrateDrive(PDISKETTE_EXTENSION DisketteExtension ) 
{ NTSTATUS ntStatus ;
  UCHAR recalibrateCount ;
  UCHAR fifoBuffer[2] ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  UCHAR *__cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  UCHAR *__cil_tmp24 ;
  void *__cil_tmp25 ;
  struct _MDL *__cil_tmp26 ;
  int __cil_tmp27 ;
  KUSER_SHARED_DATA *__cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp31 ;
  int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  UCHAR *__cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  UCHAR *__cil_tmp64 ;
  void *__cil_tmp65 ;
  struct _MDL *__cil_tmp66 ;
  int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  unsigned int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  UCHAR __cil_tmp84 ;
  int __cil_tmp85 ;
  int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  unsigned int __cil_tmp89 ;
  unsigned int __cil_tmp90 ;
  UCHAR __cil_tmp91 ;
  int __cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  unsigned int __cil_tmp94 ;
  int __cil_tmp95 ;
  int __cil_tmp96 ;
  int __cil_tmp97 ;
  int __cil_tmp98 ;
  int __cil_tmp99 ;
  UCHAR *mem_100 ;
  UCHAR *mem_101 ;
  UCHAR *mem_102 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_103 ;
  UCHAR *mem_104 ;
  UCHAR *mem_105 ;
  UCHAR *mem_106 ;
  UCHAR *mem_107 ;
  UCHAR *mem_108 ;
  UCHAR *mem_109 ;
  UCHAR *mem_110 ;
  UCHAR *mem_111 ;
  UCHAR *mem_112 ;
  UCHAR *mem_113 ;
  UCHAR *mem_114 ;
  UCHAR *mem_115 ;
  UCHAR *mem_116 ;
  BOOLEAN *mem_117 ;

  {
#line 3278
  recalibrateCount = (unsigned char)0;
  {
#line 3280
  while (1) {
    while_93_continue: /* CIL Label */ ;
    {
#line 3286
    __cil_tmp5 = 0 * 1U;
#line 3286
    __cil_tmp6 = 112 + __cil_tmp5;
#line 3286
    __cil_tmp7 = (unsigned int )DisketteExtension;
#line 3286
    __cil_tmp8 = __cil_tmp7 + __cil_tmp6;
#line 3286
    mem_100 = (UCHAR *)__cil_tmp8;
#line 3286
    *mem_100 = (unsigned char)11;
#line 3287
    __cil_tmp9 = 1 * 1U;
#line 3287
    __cil_tmp10 = 112 + __cil_tmp9;
#line 3287
    __cil_tmp11 = (unsigned int )DisketteExtension;
#line 3287
    __cil_tmp12 = __cil_tmp11 + __cil_tmp10;
#line 3287
    __cil_tmp13 = (unsigned int )DisketteExtension;
#line 3287
    __cil_tmp14 = __cil_tmp13 + 248;
#line 3287
    mem_101 = (UCHAR *)__cil_tmp12;
#line 3287
    mem_102 = (UCHAR *)__cil_tmp14;
#line 3287
    *mem_101 = *mem_102;
#line 3289
    __cil_tmp15 = 0 * 1U;
#line 3289
    __cil_tmp16 = 112 + __cil_tmp15;
#line 3289
    __cil_tmp17 = (unsigned int )DisketteExtension;
#line 3289
    __cil_tmp18 = __cil_tmp17 + __cil_tmp16;
#line 3289
    __cil_tmp19 = (UCHAR *)__cil_tmp18;
#line 3289
    __cil_tmp20 = 0 * 1U;
#line 3289
    __cil_tmp21 = 112 + __cil_tmp20;
#line 3289
    __cil_tmp22 = (unsigned int )DisketteExtension;
#line 3289
    __cil_tmp23 = __cil_tmp22 + __cil_tmp21;
#line 3289
    __cil_tmp24 = (UCHAR *)__cil_tmp23;
#line 3289
    __cil_tmp25 = (void *)0;
#line 3289
    __cil_tmp26 = (struct _MDL *)__cil_tmp25;
#line 3289
    ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp19, __cil_tmp24, __cil_tmp26,
                              0UL, 0UL);
    }
    {
#line 3296
    __cil_tmp27 = ntStatus >= 0L;
#line 3296
    if (! __cil_tmp27) {
      {
#line 3301
      while (1) {
        while_94_continue: /* CIL Label */ ;
        goto while_94_break;
      }
      while_94_break: /* CIL Label */ ;
      }
    } else {

    }
    }
#line 3305
    if (ntStatus >= 0L) {
      {
#line 3307
      __cil_tmp28 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 3307
      __cil_tmp29 = (unsigned int )__cil_tmp28;
#line 3307
      __cil_tmp30 = __cil_tmp29 + 732;
#line 3307
      mem_103 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp30;
#line 3307
      __cil_tmp31 = *mem_103;
#line 3307
      __cil_tmp32 = (int )__cil_tmp31;
#line 3307
      if (__cil_tmp32 == 1) {
        {
#line 3313
        __cil_tmp33 = 0 * 1U;
#line 3313
        __cil_tmp34 = (unsigned int )(fifoBuffer) + __cil_tmp33;
#line 3313
        __cil_tmp35 = 0 * 1U;
#line 3313
        __cil_tmp36 = 112 + __cil_tmp35;
#line 3313
        __cil_tmp37 = (unsigned int )DisketteExtension;
#line 3313
        __cil_tmp38 = __cil_tmp37 + __cil_tmp36;
#line 3313
        mem_104 = (UCHAR *)__cil_tmp34;
#line 3313
        mem_105 = (UCHAR *)__cil_tmp38;
#line 3313
        *mem_104 = *mem_105;
#line 3314
        __cil_tmp39 = 1 * 1U;
#line 3314
        __cil_tmp40 = (unsigned int )(fifoBuffer) + __cil_tmp39;
#line 3314
        __cil_tmp41 = 1 * 1U;
#line 3314
        __cil_tmp42 = 112 + __cil_tmp41;
#line 3314
        __cil_tmp43 = (unsigned int )DisketteExtension;
#line 3314
        __cil_tmp44 = __cil_tmp43 + __cil_tmp42;
#line 3314
        mem_106 = (UCHAR *)__cil_tmp40;
#line 3314
        mem_107 = (UCHAR *)__cil_tmp44;
#line 3314
        *mem_106 = *mem_107;
#line 3319
        __cil_tmp45 = 0 * 1U;
#line 3319
        __cil_tmp46 = 112 + __cil_tmp45;
#line 3319
        __cil_tmp47 = (unsigned int )DisketteExtension;
#line 3319
        __cil_tmp48 = __cil_tmp47 + __cil_tmp46;
#line 3319
        mem_108 = (UCHAR *)__cil_tmp48;
#line 3319
        *mem_108 = (unsigned char)14;
#line 3320
        __cil_tmp49 = 1 * 1U;
#line 3320
        __cil_tmp50 = 112 + __cil_tmp49;
#line 3320
        __cil_tmp51 = (unsigned int )DisketteExtension;
#line 3320
        __cil_tmp52 = __cil_tmp51 + __cil_tmp50;
#line 3320
        __cil_tmp53 = (unsigned int )DisketteExtension;
#line 3320
        __cil_tmp54 = __cil_tmp53 + 248;
#line 3320
        mem_109 = (UCHAR *)__cil_tmp52;
#line 3320
        mem_110 = (UCHAR *)__cil_tmp54;
#line 3320
        *mem_109 = *mem_110;
#line 3322
        __cil_tmp55 = 0 * 1U;
#line 3322
        __cil_tmp56 = 112 + __cil_tmp55;
#line 3322
        __cil_tmp57 = (unsigned int )DisketteExtension;
#line 3322
        __cil_tmp58 = __cil_tmp57 + __cil_tmp56;
#line 3322
        __cil_tmp59 = (UCHAR *)__cil_tmp58;
#line 3322
        __cil_tmp60 = 0 * 1U;
#line 3322
        __cil_tmp61 = 112 + __cil_tmp60;
#line 3322
        __cil_tmp62 = (unsigned int )DisketteExtension;
#line 3322
        __cil_tmp63 = __cil_tmp62 + __cil_tmp61;
#line 3322
        __cil_tmp64 = (UCHAR *)__cil_tmp63;
#line 3322
        __cil_tmp65 = (void *)0;
#line 3322
        __cil_tmp66 = (struct _MDL *)__cil_tmp65;
#line 3322
        ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp59, __cil_tmp64, __cil_tmp66,
                                  0UL, 0UL);
        }
        {
#line 3329
        __cil_tmp67 = ntStatus >= 0L;
#line 3329
        if (! __cil_tmp67) {
          {
#line 3334
          while (1) {
            while_95_continue: /* CIL Label */ ;
            goto while_95_break;
          }
          while_95_break: /* CIL Label */ ;
          }
#line 3336
          return (ntStatus);
        } else {

        }
        }
#line 3339
        __cil_tmp68 = 0 * 1U;
#line 3339
        __cil_tmp69 = 112 + __cil_tmp68;
#line 3339
        __cil_tmp70 = (unsigned int )DisketteExtension;
#line 3339
        __cil_tmp71 = __cil_tmp70 + __cil_tmp69;
#line 3339
        __cil_tmp72 = 0 * 1U;
#line 3339
        __cil_tmp73 = (unsigned int )(fifoBuffer) + __cil_tmp72;
#line 3339
        mem_111 = (UCHAR *)__cil_tmp71;
#line 3339
        mem_112 = (UCHAR *)__cil_tmp73;
#line 3339
        *mem_111 = *mem_112;
#line 3340
        __cil_tmp74 = 1 * 1U;
#line 3340
        __cil_tmp75 = 112 + __cil_tmp74;
#line 3340
        __cil_tmp76 = (unsigned int )DisketteExtension;
#line 3340
        __cil_tmp77 = __cil_tmp76 + __cil_tmp75;
#line 3340
        __cil_tmp78 = 1 * 1U;
#line 3340
        __cil_tmp79 = (unsigned int )(fifoBuffer) + __cil_tmp78;
#line 3340
        mem_113 = (UCHAR *)__cil_tmp77;
#line 3340
        mem_114 = (UCHAR *)__cil_tmp79;
#line 3340
        *mem_113 = *mem_114;
      } else {

      }
      }
      {
#line 3344
      __cil_tmp80 = 0 * 1U;
#line 3344
      __cil_tmp81 = 112 + __cil_tmp80;
#line 3344
      __cil_tmp82 = (unsigned int )DisketteExtension;
#line 3344
      __cil_tmp83 = __cil_tmp82 + __cil_tmp81;
#line 3344
      mem_115 = (UCHAR *)__cil_tmp83;
#line 3344
      __cil_tmp84 = *mem_115;
#line 3344
      __cil_tmp85 = (int )__cil_tmp84;
#line 3344
      __cil_tmp86 = __cil_tmp85 & 32;
#line 3344
      if (! __cil_tmp86) {
        goto _L;
      } else {
        {
#line 3344
        __cil_tmp87 = 1 * 1U;
#line 3344
        __cil_tmp88 = 112 + __cil_tmp87;
#line 3344
        __cil_tmp89 = (unsigned int )DisketteExtension;
#line 3344
        __cil_tmp90 = __cil_tmp89 + __cil_tmp88;
#line 3344
        mem_116 = (UCHAR *)__cil_tmp90;
#line 3344
        __cil_tmp91 = *mem_116;
#line 3344
        __cil_tmp92 = (int )__cil_tmp91;
#line 3344
        if (__cil_tmp92 != 0) {
          _L: 
          {
#line 3350
          while (1) {
            while_96_continue: /* CIL Label */ ;
            goto while_96_break;
          }
          while_96_break: /* CIL Label */ ;
          }
#line 3352
          __cil_tmp93 = (unsigned int )DisketteExtension;
#line 3352
          __cil_tmp94 = __cil_tmp93 + 104;
#line 3352
          mem_117 = (BOOLEAN *)__cil_tmp94;
#line 3352
          *mem_117 = (unsigned char)1;
#line 3354
          ntStatus = -1073741464L;
        } else {

        }
        }
      }
      }
    } else {

    }
#line 3358
    __cil_tmp95 = (int )recalibrateCount;
#line 3358
    __cil_tmp96 = __cil_tmp95 + 1;
#line 3358
    recalibrateCount = (unsigned char )__cil_tmp96;
    {
#line 3280
    __cil_tmp97 = ntStatus >= 0L;
#line 3280
    if (! __cil_tmp97) {
      {
#line 3280
      __cil_tmp98 = (int )recalibrateCount;
#line 3280
      __cil_tmp99 = __cil_tmp98 < 2;
#line 3280
      if (! __cil_tmp99) {
        goto while_93_break;
      } else {

      }
      }
    } else {
      goto while_93_break;
    }
    }
  }
  while_93_break: /* CIL Label */ ;
  }
  {
#line 3365
  while (1) {
    while_97_continue: /* CIL Label */ ;
    goto while_97_break;
  }
  while_97_break: /* CIL Label */ ;
  }
#line 3367
  return (ntStatus);
}
}
#line 3370 "floppy.c"
NTSTATUS FlDetermineMediaType(PDISKETTE_EXTENSION DisketteExtension ) 
{ NTSTATUS ntStatus ;
  PDRIVE_MEDIA_CONSTANTS driveMediaConstants ;
  BOOLEAN mediaTypesExhausted ;
  ULONG retries ;
  USHORT sectorLengthCode ;
  PBOOT_SECTOR_INFO bootSector ;
  LARGE_INTEGER offset ;
  PIRP irp ;
  int tmp ;
  PVOID tmp___0 ;
  int tmp___1 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  UCHAR __cil_tmp19 ;
  int __cil_tmp20 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  DRIVE_MEDIA_TYPE __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp28 ;
  KUSER_SHARED_DATA *__cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp32 ;
  int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  DRIVE_MEDIA_TYPE __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  UCHAR __cil_tmp41 ;
  int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  DRIVE_MEDIA_TYPE __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  UCHAR __cil_tmp53 ;
  int __cil_tmp54 ;
  int __cil_tmp55 ;
  int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  UCHAR __cil_tmp59 ;
  int __cil_tmp60 ;
  int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  UCHAR *__cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  UCHAR *__cil_tmp75 ;
  void *__cil_tmp76 ;
  struct _MDL *__cil_tmp77 ;
  int __cil_tmp78 ;
  unsigned int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  UCHAR __cil_tmp81 ;
  int __cil_tmp82 ;
  int __cil_tmp83 ;
  int __cil_tmp84 ;
  unsigned int __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  UCHAR __cil_tmp87 ;
  int __cil_tmp88 ;
  int __cil_tmp89 ;
  unsigned char __cil_tmp90 ;
  int __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  unsigned int __cil_tmp94 ;
  unsigned int __cil_tmp95 ;
  UCHAR __cil_tmp96 ;
  int __cil_tmp97 ;
  int __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  unsigned int __cil_tmp100 ;
  unsigned int __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  UCHAR __cil_tmp103 ;
  int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  UCHAR __cil_tmp109 ;
  int __cil_tmp110 ;
  KUSER_SHARED_DATA *__cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  unsigned int __cil_tmp113 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp114 ;
  int __cil_tmp115 ;
  int __cil_tmp116 ;
  unsigned int __cil_tmp117 ;
  unsigned int __cil_tmp118 ;
  unsigned int __cil_tmp119 ;
  unsigned int __cil_tmp120 ;
  UCHAR __cil_tmp121 ;
  int __cil_tmp122 ;
  unsigned int __cil_tmp123 ;
  unsigned int __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  unsigned int __cil_tmp126 ;
  DRIVE_MEDIA_TYPE __cil_tmp127 ;
  int __cil_tmp128 ;
  int __cil_tmp129 ;
  unsigned int __cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  DRIVE_MEDIA_TYPE __cil_tmp134 ;
  unsigned int __cil_tmp135 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  UCHAR __cil_tmp139 ;
  int __cil_tmp140 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp141 ;
  unsigned int __cil_tmp142 ;
  unsigned int __cil_tmp143 ;
  DRIVE_MEDIA_TYPE __cil_tmp144 ;
  char __cil_tmp145 ;
  int __cil_tmp146 ;
  unsigned int __cil_tmp147 ;
  unsigned int __cil_tmp148 ;
  DRIVE_MEDIA_TYPE __cil_tmp149 ;
  char __cil_tmp150 ;
  int __cil_tmp151 ;
  unsigned int __cil_tmp152 ;
  unsigned int __cil_tmp153 ;
  KUSER_SHARED_DATA *__cil_tmp154 ;
  unsigned int __cil_tmp155 ;
  unsigned int __cil_tmp156 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp157 ;
  int __cil_tmp158 ;
  unsigned int __cil_tmp159 ;
  unsigned int __cil_tmp160 ;
  unsigned int __cil_tmp161 ;
  unsigned int __cil_tmp162 ;
  unsigned int __cil_tmp163 ;
  unsigned int __cil_tmp164 ;
  USHORT __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  unsigned int __cil_tmp167 ;
  unsigned int __cil_tmp168 ;
  unsigned int __cil_tmp169 ;
  UCHAR __cil_tmp170 ;
  int __cil_tmp171 ;
  unsigned int __cil_tmp172 ;
  unsigned int __cil_tmp173 ;
  UCHAR __cil_tmp174 ;
  int __cil_tmp175 ;
  int __cil_tmp176 ;
  unsigned int __cil_tmp177 ;
  unsigned int __cil_tmp178 ;
  UCHAR __cil_tmp179 ;
  int __cil_tmp180 ;
  unsigned int __cil_tmp181 ;
  unsigned int __cil_tmp182 ;
  USHORT __cil_tmp183 ;
  int __cil_tmp184 ;
  int __cil_tmp185 ;
  int __cil_tmp186 ;
  int __cil_tmp187 ;
  unsigned int __cil_tmp188 ;
  unsigned int __cil_tmp189 ;
  unsigned int __cil_tmp190 ;
  unsigned int __cil_tmp191 ;
  DRIVE_MEDIA_TYPE __cil_tmp192 ;
  unsigned int __cil_tmp193 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp194 ;
  KUSER_SHARED_DATA *__cil_tmp195 ;
  unsigned int __cil_tmp196 ;
  unsigned int __cil_tmp197 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp198 ;
  int __cil_tmp199 ;
  enum _POOL_TYPE __cil_tmp200 ;
  unsigned long __cil_tmp201 ;
  unsigned int __cil_tmp202 ;
  unsigned int __cil_tmp203 ;
  LARGE_INTEGER *__cil_tmp204 ;
  unsigned int __cil_tmp205 ;
  unsigned int __cil_tmp206 ;
  LONG __cil_tmp207 ;
  KUSER_SHARED_DATA *__cil_tmp208 ;
  unsigned int __cil_tmp209 ;
  unsigned int __cil_tmp210 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp211 ;
  int __cil_tmp212 ;
  unsigned int __cil_tmp213 ;
  unsigned int __cil_tmp214 ;
  PDEVICE_OBJECT __cil_tmp215 ;
  void *__cil_tmp216 ;
  unsigned long __cil_tmp217 ;
  void *__cil_tmp218 ;
  struct _IO_STATUS_BLOCK *__cil_tmp219 ;
  void *__cil_tmp220 ;
  unsigned int __cil_tmp221 ;
  unsigned int __cil_tmp222 ;
  unsigned int __cil_tmp223 ;
  unsigned int __cil_tmp224 ;
  CHAR __cil_tmp225 ;
  int __cil_tmp226 ;
  int __cil_tmp227 ;
  unsigned int __cil_tmp228 ;
  unsigned int __cil_tmp229 ;
  unsigned int __cil_tmp230 ;
  unsigned int __cil_tmp231 ;
  unsigned int __cil_tmp232 ;
  unsigned int __cil_tmp233 ;
  unsigned int __cil_tmp234 ;
  unsigned int __cil_tmp235 ;
  unsigned int __cil_tmp236 ;
  unsigned int __cil_tmp237 ;
  struct _IO_STACK_LOCATION *__cil_tmp238 ;
  unsigned int __cil_tmp239 ;
  unsigned int __cil_tmp240 ;
  PMDL __cil_tmp241 ;
  unsigned int __cil_tmp242 ;
  unsigned int __cil_tmp243 ;
  PMDL __cil_tmp244 ;
  void *__cil_tmp245 ;
  int __cil_tmp246 ;
  unsigned int __cil_tmp247 ;
  unsigned int __cil_tmp248 ;
  unsigned int __cil_tmp249 ;
  unsigned int __cil_tmp250 ;
  DRIVE_MEDIA_TYPE __cil_tmp251 ;
  int __cil_tmp252 ;
  int __cil_tmp253 ;
  unsigned int __cil_tmp254 ;
  unsigned int __cil_tmp255 ;
  unsigned int __cil_tmp256 ;
  unsigned int __cil_tmp257 ;
  DRIVE_MEDIA_TYPE __cil_tmp258 ;
  unsigned int __cil_tmp259 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp260 ;
  unsigned int __cil_tmp261 ;
  unsigned int __cil_tmp262 ;
  UCHAR __cil_tmp263 ;
  int __cil_tmp264 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp265 ;
  unsigned int __cil_tmp266 ;
  unsigned int __cil_tmp267 ;
  DRIVE_MEDIA_TYPE __cil_tmp268 ;
  char __cil_tmp269 ;
  int __cil_tmp270 ;
  unsigned int __cil_tmp271 ;
  unsigned int __cil_tmp272 ;
  DRIVE_MEDIA_TYPE __cil_tmp273 ;
  char __cil_tmp274 ;
  int __cil_tmp275 ;
  unsigned int __cil_tmp276 ;
  unsigned int __cil_tmp277 ;
  int __cil_tmp278 ;
  int __cil_tmp279 ;
  int __cil_tmp280 ;
  unsigned int __cil_tmp281 ;
  unsigned int __cil_tmp282 ;
  unsigned int __cil_tmp283 ;
  unsigned int __cil_tmp284 ;
  unsigned int __cil_tmp285 ;
  unsigned int __cil_tmp286 ;
  USHORT __cil_tmp287 ;
  unsigned int __cil_tmp288 ;
  unsigned int __cil_tmp289 ;
  unsigned int __cil_tmp290 ;
  unsigned int __cil_tmp291 ;
  UCHAR __cil_tmp292 ;
  int __cil_tmp293 ;
  unsigned int __cil_tmp294 ;
  unsigned int __cil_tmp295 ;
  UCHAR __cil_tmp296 ;
  int __cil_tmp297 ;
  int __cil_tmp298 ;
  unsigned int __cil_tmp299 ;
  unsigned int __cil_tmp300 ;
  UCHAR __cil_tmp301 ;
  int __cil_tmp302 ;
  unsigned int __cil_tmp303 ;
  unsigned int __cil_tmp304 ;
  USHORT __cil_tmp305 ;
  int __cil_tmp306 ;
  int __cil_tmp307 ;
  int __cil_tmp308 ;
  int __cil_tmp309 ;
  unsigned int __cil_tmp310 ;
  unsigned int __cil_tmp311 ;
  unsigned int __cil_tmp312 ;
  unsigned int __cil_tmp313 ;
  DRIVE_MEDIA_TYPE __cil_tmp314 ;
  unsigned int __cil_tmp315 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp316 ;
  BOOLEAN *mem_317 ;
  UCHAR *mem_318 ;
  DRIVE_MEDIA_TYPE *mem_319 ;
  DRIVE_MEDIA_TYPE *mem_320 ;
  DRIVE_MEDIA_TYPE *mem_321 ;
  DRIVE_MEDIA_CONSTANTS *mem_322 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_323 ;
  DRIVE_MEDIA_TYPE *mem_324 ;
  UCHAR *mem_325 ;
  DRIVE_MEDIA_TYPE *mem_326 ;
  UCHAR *mem_327 ;
  UCHAR *mem_328 ;
  UCHAR *mem_329 ;
  UCHAR *mem_330 ;
  UCHAR *mem_331 ;
  UCHAR *mem_332 ;
  UCHAR *mem_333 ;
  UCHAR *mem_334 ;
  UCHAR *mem_335 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_336 ;
  UCHAR *mem_337 ;
  DRIVE_MEDIA_TYPE *mem_338 ;
  DRIVE_MEDIA_TYPE *mem_339 ;
  DRIVE_MEDIA_TYPE *mem_340 ;
  DRIVE_MEDIA_CONSTANTS *mem_341 ;
  UCHAR *mem_342 ;
  DRIVE_MEDIA_TYPE *mem_343 ;
  DRIVE_MEDIA_TYPE *mem_344 ;
  MEDIA_TYPE *mem_345 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_346 ;
  MEDIA_TYPE *mem_347 ;
  MEDIA_TYPE *mem_348 ;
  USHORT *mem_349 ;
  ULONG *mem_350 ;
  UCHAR *mem_351 ;
  UCHAR *mem_352 ;
  UCHAR *mem_353 ;
  USHORT *mem_354 ;
  ULONG *mem_355 ;
  DRIVE_MEDIA_TYPE *mem_356 ;
  DRIVE_MEDIA_CONSTANTS *mem_357 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_358 ;
  LONG *mem_359 ;
  LONG *mem_360 ;
  ULONG *mem_361 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_362 ;
  PDEVICE_OBJECT *mem_363 ;
  CHAR *mem_364 ;
  CHAR *mem_365 ;
  struct _IO_STACK_LOCATION **mem_366 ;
  struct _IO_STACK_LOCATION **mem_367 ;
  PMDL *mem_368 ;
  PMDL *mem_369 ;
  DRIVE_MEDIA_TYPE *mem_370 ;
  DRIVE_MEDIA_TYPE *mem_371 ;
  DRIVE_MEDIA_TYPE *mem_372 ;
  DRIVE_MEDIA_CONSTANTS *mem_373 ;
  UCHAR *mem_374 ;
  DRIVE_MEDIA_TYPE *mem_375 ;
  DRIVE_MEDIA_TYPE *mem_376 ;
  MEDIA_TYPE *mem_377 ;
  MEDIA_TYPE *mem_378 ;
  MEDIA_TYPE *mem_379 ;
  USHORT *mem_380 ;
  ULONG *mem_381 ;
  UCHAR *mem_382 ;
  UCHAR *mem_383 ;
  UCHAR *mem_384 ;
  USHORT *mem_385 ;
  ULONG *mem_386 ;
  DRIVE_MEDIA_TYPE *mem_387 ;
  DRIVE_MEDIA_CONSTANTS *mem_388 ;

  {
#line 3400
  retries = 0UL;
  {
#line 3410
  while (1) {
    while_98_continue: /* CIL Label */ ;
    goto while_98_break;
  }
  while_98_break: /* CIL Label */ ;
  }
#line 3412
  __cil_tmp13 = (unsigned int )DisketteExtension;
#line 3412
  __cil_tmp14 = __cil_tmp13 + 250;
#line 3412
  mem_317 = (BOOLEAN *)__cil_tmp14;
#line 3412
  *mem_317 = (unsigned char)0;
#line 3418
  retries = 0UL;
  {
#line 3418
  while (1) {
    while_99_continue: /* CIL Label */ ;
#line 3418
    if (retries < 3UL) {

    } else {
      goto while_99_break;
    }
#line 3420
    if (retries) {
      {
#line 3432
      while (1) {
        while_100_continue: /* CIL Label */ ;
        goto while_100_break;
      }
      while_100_break: /* CIL Label */ ;
      }
      {
#line 3433
      FlInitializeControllerHardware(DisketteExtension);
      }
    } else {

    }
#line 3443
    __cil_tmp15 = (unsigned int )DisketteExtension;
#line 3443
    __cil_tmp16 = __cil_tmp15 + 216;
#line 3443
    __cil_tmp17 = (unsigned int )DisketteExtension;
#line 3443
    __cil_tmp18 = __cil_tmp17 + 174;
#line 3443
    mem_318 = (UCHAR *)__cil_tmp18;
#line 3443
    __cil_tmp19 = *mem_318;
#line 3443
    __cil_tmp20 = (int )__cil_tmp19;
#line 3443
    __cil_tmp21 = DriveMediaLimits + __cil_tmp20;
#line 3443
    mem_319 = (DRIVE_MEDIA_TYPE *)__cil_tmp16;
#line 3443
    mem_320 = (DRIVE_MEDIA_TYPE *)__cil_tmp21;
#line 3443
    *mem_319 = *mem_320;
#line 3445
    __cil_tmp22 = (unsigned int )DisketteExtension;
#line 3445
    __cil_tmp23 = __cil_tmp22 + 308;
#line 3445
    __cil_tmp24 = (unsigned int )DisketteExtension;
#line 3445
    __cil_tmp25 = __cil_tmp24 + 216;
#line 3445
    mem_321 = (DRIVE_MEDIA_TYPE *)__cil_tmp25;
#line 3445
    __cil_tmp26 = *mem_321;
#line 3445
    __cil_tmp27 = (unsigned int )__cil_tmp26;
#line 3445
    __cil_tmp28 = DriveMediaConstants + __cil_tmp27;
#line 3445
    mem_322 = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp23;
#line 3445
    *mem_322 = *__cil_tmp28;
#line 3448
    mediaTypesExhausted = (unsigned char)0;
    {
#line 3450
    while (1) {
      while_101_continue: /* CIL Label */ ;
      {
#line 3452
      __cil_tmp29 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 3452
      __cil_tmp30 = (unsigned int )__cil_tmp29;
#line 3452
      __cil_tmp31 = __cil_tmp30 + 732;
#line 3452
      mem_323 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp31;
#line 3452
      __cil_tmp32 = *mem_323;
#line 3452
      __cil_tmp33 = (int )__cil_tmp32;
#line 3452
      if (__cil_tmp33 == 1) {
        {
#line 3453
        __cil_tmp34 = (unsigned int )DisketteExtension;
#line 3453
        __cil_tmp35 = __cil_tmp34 + 216;
#line 3453
        mem_324 = (DRIVE_MEDIA_TYPE *)__cil_tmp35;
#line 3453
        __cil_tmp36 = *mem_324;
#line 3453
        __cil_tmp37 = (unsigned int )__cil_tmp36;
#line 3453
        __cil_tmp38 = DriveMediaConstants + __cil_tmp37;
#line 3453
        __cil_tmp39 = (unsigned int )__cil_tmp38;
#line 3453
        __cil_tmp40 = __cil_tmp39 + 35;
#line 3453
        mem_325 = (UCHAR *)__cil_tmp40;
#line 3453
        __cil_tmp41 = *mem_325;
#line 3453
        sectorLengthCode = (unsigned short )__cil_tmp41;
#line 3455
        FlHdbit(DisketteExtension);
        }
      } else {

      }
      }
      {
#line 3459
      ntStatus = FlDatarateSpecifyConfigure(DisketteExtension);
      }
      {
#line 3461
      __cil_tmp42 = ntStatus >= 0L;
#line 3461
      if (! __cil_tmp42) {
        {
#line 3471
        while (1) {
          while_102_continue: /* CIL Label */ ;
          goto while_102_break;
        }
        while_102_break: /* CIL Label */ ;
        }
#line 3472
        mediaTypesExhausted = (unsigned char)1;
      } else {
        {
#line 3481
        __cil_tmp43 = (unsigned int )DisketteExtension;
#line 3481
        __cil_tmp44 = __cil_tmp43 + 216;
#line 3481
        mem_326 = (DRIVE_MEDIA_TYPE *)__cil_tmp44;
#line 3481
        __cil_tmp45 = *mem_326;
#line 3481
        __cil_tmp46 = (unsigned int )__cil_tmp45;
#line 3481
        driveMediaConstants = DriveMediaConstants + __cil_tmp46;
#line 3488
        __cil_tmp47 = 1 * 1U;
#line 3488
        __cil_tmp48 = 112 + __cil_tmp47;
#line 3488
        __cil_tmp49 = (unsigned int )DisketteExtension;
#line 3488
        __cil_tmp50 = __cil_tmp49 + __cil_tmp48;
#line 3488
        __cil_tmp51 = (unsigned int )driveMediaConstants;
#line 3488
        __cil_tmp52 = __cil_tmp51 + 51;
#line 3488
        mem_327 = (UCHAR *)__cil_tmp52;
#line 3488
        __cil_tmp53 = *mem_327;
#line 3488
        __cil_tmp54 = (int )__cil_tmp53;
#line 3488
        __cil_tmp55 = __cil_tmp54 - 1;
#line 3488
        __cil_tmp56 = __cil_tmp55 << 2;
#line 3488
        __cil_tmp57 = (unsigned int )DisketteExtension;
#line 3488
        __cil_tmp58 = __cil_tmp57 + 248;
#line 3488
        mem_328 = (UCHAR *)__cil_tmp58;
#line 3488
        __cil_tmp59 = *mem_328;
#line 3488
        __cil_tmp60 = (int )__cil_tmp59;
#line 3488
        __cil_tmp61 = __cil_tmp60 | __cil_tmp56;
#line 3488
        mem_329 = (UCHAR *)__cil_tmp50;
#line 3488
        *mem_329 = (unsigned char )__cil_tmp61;
#line 3492
        __cil_tmp62 = 0 * 1U;
#line 3492
        __cil_tmp63 = 112 + __cil_tmp62;
#line 3492
        __cil_tmp64 = (unsigned int )DisketteExtension;
#line 3492
        __cil_tmp65 = __cil_tmp64 + __cil_tmp63;
#line 3492
        mem_330 = (UCHAR *)__cil_tmp65;
#line 3492
        *mem_330 = (unsigned char)84;
#line 3495
        __cil_tmp66 = 0 * 1U;
#line 3495
        __cil_tmp67 = 112 + __cil_tmp66;
#line 3495
        __cil_tmp68 = (unsigned int )DisketteExtension;
#line 3495
        __cil_tmp69 = __cil_tmp68 + __cil_tmp67;
#line 3495
        __cil_tmp70 = (UCHAR *)__cil_tmp69;
#line 3495
        __cil_tmp71 = 0 * 1U;
#line 3495
        __cil_tmp72 = 112 + __cil_tmp71;
#line 3495
        __cil_tmp73 = (unsigned int )DisketteExtension;
#line 3495
        __cil_tmp74 = __cil_tmp73 + __cil_tmp72;
#line 3495
        __cil_tmp75 = (UCHAR *)__cil_tmp74;
#line 3495
        __cil_tmp76 = (void *)0;
#line 3495
        __cil_tmp77 = (struct _MDL *)__cil_tmp76;
#line 3495
        ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp70, __cil_tmp75, __cil_tmp77,
                                  0UL, 0UL);
        }
        {
#line 3502
        __cil_tmp78 = ntStatus >= 0L;
#line 3502
        if (! __cil_tmp78) {
          goto _L;
        } else {
          {
#line 3502
          __cil_tmp79 = (unsigned int )driveMediaConstants;
#line 3502
          __cil_tmp80 = __cil_tmp79 + 51;
#line 3502
          mem_331 = (UCHAR *)__cil_tmp80;
#line 3502
          __cil_tmp81 = *mem_331;
#line 3502
          __cil_tmp82 = (int )__cil_tmp81;
#line 3502
          __cil_tmp83 = __cil_tmp82 - 1;
#line 3502
          __cil_tmp84 = __cil_tmp83 << 2;
#line 3502
          __cil_tmp85 = (unsigned int )DisketteExtension;
#line 3502
          __cil_tmp86 = __cil_tmp85 + 248;
#line 3502
          mem_332 = (UCHAR *)__cil_tmp86;
#line 3502
          __cil_tmp87 = *mem_332;
#line 3502
          __cil_tmp88 = (int )__cil_tmp87;
#line 3502
          __cil_tmp89 = __cil_tmp88 | __cil_tmp84;
#line 3502
          __cil_tmp90 = (unsigned char )__cil_tmp89;
#line 3502
          __cil_tmp91 = (int )__cil_tmp90;
#line 3502
          __cil_tmp92 = 0 * 1U;
#line 3502
          __cil_tmp93 = 112 + __cil_tmp92;
#line 3502
          __cil_tmp94 = (unsigned int )DisketteExtension;
#line 3502
          __cil_tmp95 = __cil_tmp94 + __cil_tmp93;
#line 3502
          mem_333 = (UCHAR *)__cil_tmp95;
#line 3502
          __cil_tmp96 = *mem_333;
#line 3502
          __cil_tmp97 = (int )__cil_tmp96;
#line 3502
          __cil_tmp98 = __cil_tmp97 & -33;
#line 3502
          if (__cil_tmp98 != __cil_tmp91) {
            goto _L;
          } else {
            {
#line 3502
            __cil_tmp99 = 1 * 1U;
#line 3502
            __cil_tmp100 = 112 + __cil_tmp99;
#line 3502
            __cil_tmp101 = (unsigned int )DisketteExtension;
#line 3502
            __cil_tmp102 = __cil_tmp101 + __cil_tmp100;
#line 3502
            mem_334 = (UCHAR *)__cil_tmp102;
#line 3502
            __cil_tmp103 = *mem_334;
#line 3502
            __cil_tmp104 = (int )__cil_tmp103;
#line 3502
            if (__cil_tmp104 != 0) {
              goto _L;
            } else {
              {
#line 3502
              __cil_tmp105 = 2 * 1U;
#line 3502
              __cil_tmp106 = 112 + __cil_tmp105;
#line 3502
              __cil_tmp107 = (unsigned int )DisketteExtension;
#line 3502
              __cil_tmp108 = __cil_tmp107 + __cil_tmp106;
#line 3502
              mem_335 = (UCHAR *)__cil_tmp108;
#line 3502
              __cil_tmp109 = *mem_335;
#line 3502
              __cil_tmp110 = (int )__cil_tmp109;
#line 3502
              if (__cil_tmp110 != 0) {
                goto _L;
              } else {
                {
#line 3502
                __cil_tmp111 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 3502
                __cil_tmp112 = (unsigned int )__cil_tmp111;
#line 3502
                __cil_tmp113 = __cil_tmp112 + 732;
#line 3502
                mem_336 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp113;
#line 3502
                __cil_tmp114 = *mem_336;
#line 3502
                __cil_tmp115 = (int )__cil_tmp114;
#line 3502
                if (__cil_tmp115 == 1) {
                  {
#line 3502
                  __cil_tmp116 = (int )sectorLengthCode;
#line 3502
                  __cil_tmp117 = 6 * 1U;
#line 3502
                  __cil_tmp118 = 112 + __cil_tmp117;
#line 3502
                  __cil_tmp119 = (unsigned int )DisketteExtension;
#line 3502
                  __cil_tmp120 = __cil_tmp119 + __cil_tmp118;
#line 3502
                  mem_337 = (UCHAR *)__cil_tmp120;
#line 3502
                  __cil_tmp121 = *mem_337;
#line 3502
                  __cil_tmp122 = (int )__cil_tmp121;
#line 3502
                  if (__cil_tmp122 != __cil_tmp116) {
                    _L: 
                    {
#line 3522
                    while (1) {
                      while_103_continue: /* CIL Label */ ;
                      goto while_103_break;
                    }
                    while_103_break: /* CIL Label */ ;
                    }
#line 3524
                    __cil_tmp123 = (unsigned int )DisketteExtension;
#line 3524
                    __cil_tmp124 = __cil_tmp123 + 216;
#line 3524
                    __cil_tmp125 = (unsigned int )DisketteExtension;
#line 3524
                    __cil_tmp126 = __cil_tmp125 + 216;
#line 3524
                    mem_338 = (DRIVE_MEDIA_TYPE *)__cil_tmp126;
#line 3524
                    __cil_tmp127 = *mem_338;
#line 3524
                    __cil_tmp128 = (int )__cil_tmp127;
#line 3524
                    __cil_tmp129 = __cil_tmp128 - 1;
#line 3524
                    mem_339 = (DRIVE_MEDIA_TYPE *)__cil_tmp124;
#line 3524
                    *mem_339 = (enum _DRIVE_MEDIA_TYPE )__cil_tmp129;
#line 3525
                    __cil_tmp130 = (unsigned int )DisketteExtension;
#line 3525
                    __cil_tmp131 = __cil_tmp130 + 308;
#line 3525
                    __cil_tmp132 = (unsigned int )DisketteExtension;
#line 3525
                    __cil_tmp133 = __cil_tmp132 + 216;
#line 3525
                    mem_340 = (DRIVE_MEDIA_TYPE *)__cil_tmp133;
#line 3525
                    __cil_tmp134 = *mem_340;
#line 3525
                    __cil_tmp135 = (unsigned int )__cil_tmp134;
#line 3525
                    __cil_tmp136 = DriveMediaConstants + __cil_tmp135;
#line 3525
                    mem_341 = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp131;
#line 3525
                    *mem_341 = *__cil_tmp136;
#line 3528
                    if (ntStatus != -1073741661L) {
#line 3530
                      ntStatus = -1073741804L;
                    } else {

                    }
                    {
#line 3538
                    __cil_tmp137 = (unsigned int )DisketteExtension;
#line 3538
                    __cil_tmp138 = __cil_tmp137 + 174;
#line 3538
                    mem_342 = (UCHAR *)__cil_tmp138;
#line 3538
                    __cil_tmp139 = *mem_342;
#line 3538
                    __cil_tmp140 = (int )__cil_tmp139;
#line 3538
                    __cil_tmp141 = DriveMediaLimits + __cil_tmp140;
#line 3538
                    __cil_tmp142 = (unsigned int )__cil_tmp141;
#line 3538
                    __cil_tmp143 = __cil_tmp142 + 32;
#line 3538
                    mem_343 = (DRIVE_MEDIA_TYPE *)__cil_tmp143;
#line 3538
                    __cil_tmp144 = *mem_343;
#line 3538
                    __cil_tmp145 = (char )__cil_tmp144;
#line 3538
                    __cil_tmp146 = (int )__cil_tmp145;
#line 3538
                    __cil_tmp147 = (unsigned int )DisketteExtension;
#line 3538
                    __cil_tmp148 = __cil_tmp147 + 216;
#line 3538
                    mem_344 = (DRIVE_MEDIA_TYPE *)__cil_tmp148;
#line 3538
                    __cil_tmp149 = *mem_344;
#line 3538
                    __cil_tmp150 = (char )__cil_tmp149;
#line 3538
                    __cil_tmp151 = (int )__cil_tmp150;
#line 3538
                    if (__cil_tmp151 < __cil_tmp146) {
#line 3542
                      __cil_tmp152 = (unsigned int )DisketteExtension;
#line 3542
                      __cil_tmp153 = __cil_tmp152 + 184;
#line 3542
                      mem_345 = (MEDIA_TYPE *)__cil_tmp153;
#line 3542
                      *mem_345 = (enum _MEDIA_TYPE )0;
#line 3543
                      mediaTypesExhausted = (unsigned char)1;
                      {
#line 3548
                      while (1) {
                        while_104_continue: /* CIL Label */ ;
                        goto while_104_break;
                      }
                      while_104_break: /* CIL Label */ ;
                      }
                    } else {

                    }
                    }
                  } else {
                    goto _L___0;
                  }
                  }
                } else {
                  _L___0: 
                  {
#line 3553
                  __cil_tmp154 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 3553
                  __cil_tmp155 = (unsigned int )__cil_tmp154;
#line 3553
                  __cil_tmp156 = __cil_tmp155 + 732;
#line 3553
                  mem_346 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp156;
#line 3553
                  __cil_tmp157 = *mem_346;
#line 3553
                  __cil_tmp158 = (int )__cil_tmp157;
#line 3553
                  if (__cil_tmp158 == 1) {
#line 3558
                    __cil_tmp159 = (unsigned int )DisketteExtension;
#line 3558
                    __cil_tmp160 = __cil_tmp159 + 184;
#line 3558
                    mem_347 = (MEDIA_TYPE *)__cil_tmp160;
#line 3558
                    mem_348 = (MEDIA_TYPE *)driveMediaConstants;
#line 3558
                    *mem_347 = *mem_348;
#line 3560
                    __cil_tmp161 = (unsigned int )DisketteExtension;
#line 3560
                    __cil_tmp162 = __cil_tmp161 + 176;
#line 3560
                    __cil_tmp163 = (unsigned int )driveMediaConstants;
#line 3560
                    __cil_tmp164 = __cil_tmp163 + 36;
#line 3560
                    mem_349 = (USHORT *)__cil_tmp164;
#line 3560
                    __cil_tmp165 = *mem_349;
#line 3560
                    mem_350 = (ULONG *)__cil_tmp162;
#line 3560
                    *mem_350 = (unsigned long )__cil_tmp165;
                    {
#line 3566
                    while (1) {
                      while_105_continue: /* CIL Label */ ;
                      goto while_105_break;
                    }
                    while_105_break: /* CIL Label */ ;
                    }
#line 3568
                    __cil_tmp166 = (unsigned int )DisketteExtension;
#line 3568
                    __cil_tmp167 = __cil_tmp166 + 180;
#line 3568
                    __cil_tmp168 = (unsigned int )driveMediaConstants;
#line 3568
                    __cil_tmp169 = __cil_tmp168 + 51;
#line 3568
                    mem_351 = (UCHAR *)__cil_tmp169;
#line 3568
                    __cil_tmp170 = *mem_351;
#line 3568
                    __cil_tmp171 = (int )__cil_tmp170;
#line 3568
                    __cil_tmp172 = (unsigned int )driveMediaConstants;
#line 3568
                    __cil_tmp173 = __cil_tmp172 + 48;
#line 3568
                    mem_352 = (UCHAR *)__cil_tmp173;
#line 3568
                    __cil_tmp174 = *mem_352;
#line 3568
                    __cil_tmp175 = (int )__cil_tmp174;
#line 3568
                    __cil_tmp176 = 1 + __cil_tmp175;
#line 3568
                    __cil_tmp177 = (unsigned int )driveMediaConstants;
#line 3568
                    __cil_tmp178 = __cil_tmp177 + 38;
#line 3568
                    mem_353 = (UCHAR *)__cil_tmp178;
#line 3568
                    __cil_tmp179 = *mem_353;
#line 3568
                    __cil_tmp180 = (int )__cil_tmp179;
#line 3568
                    __cil_tmp181 = (unsigned int )driveMediaConstants;
#line 3568
                    __cil_tmp182 = __cil_tmp181 + 36;
#line 3568
                    mem_354 = (USHORT *)__cil_tmp182;
#line 3568
                    __cil_tmp183 = *mem_354;
#line 3568
                    __cil_tmp184 = (int )__cil_tmp183;
#line 3568
                    __cil_tmp185 = __cil_tmp184 * __cil_tmp180;
#line 3568
                    __cil_tmp186 = __cil_tmp185 * __cil_tmp176;
#line 3568
                    __cil_tmp187 = __cil_tmp186 * __cil_tmp171;
#line 3568
                    mem_355 = (ULONG *)__cil_tmp167;
#line 3568
                    *mem_355 = (unsigned long )__cil_tmp187;
#line 3578
                    __cil_tmp188 = (unsigned int )DisketteExtension;
#line 3578
                    __cil_tmp189 = __cil_tmp188 + 308;
#line 3578
                    __cil_tmp190 = (unsigned int )DisketteExtension;
#line 3578
                    __cil_tmp191 = __cil_tmp190 + 216;
#line 3578
                    mem_356 = (DRIVE_MEDIA_TYPE *)__cil_tmp191;
#line 3578
                    __cil_tmp192 = *mem_356;
#line 3578
                    __cil_tmp193 = (unsigned int )__cil_tmp192;
#line 3578
                    __cil_tmp194 = DriveMediaConstants + __cil_tmp193;
#line 3578
                    mem_357 = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp189;
#line 3578
                    *mem_357 = *__cil_tmp194;
                    {
#line 3588
                    __cil_tmp195 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 3588
                    __cil_tmp196 = (unsigned int )__cil_tmp195;
#line 3588
                    __cil_tmp197 = __cil_tmp196 + 732;
#line 3588
                    mem_358 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp197;
#line 3588
                    __cil_tmp198 = *mem_358;
#line 3588
                    __cil_tmp199 = (int )__cil_tmp198;
#line 3588
                    if (__cil_tmp199 == 1) {
#line 3588
                      tmp = 1024;
                    } else {
#line 3588
                      tmp = 512;
                    }
                    }
                    {
#line 3588
                    __cil_tmp200 = (enum _POOL_TYPE )4;
#line 3588
                    __cil_tmp201 = (unsigned long )tmp;
#line 3588
                    tmp___0 = ExAllocatePoolWithTag(__cil_tmp200, __cil_tmp201, 1886350406UL);
#line 3588
                    bootSector = (struct _BOOT_SECTOR_INFO *)tmp___0;
                    }
#line 3589
                    if (! bootSector) {
#line 3590
                      return (-1073741670L);
                    } else {

                    }
#line 3593
                    __cil_tmp202 = 0 + 4;
#line 3593
                    __cil_tmp203 = (unsigned int )(& offset) + __cil_tmp202;
#line 3593
                    mem_359 = (LONG *)__cil_tmp203;
#line 3593
                    *mem_359 = 0L;
#line 3593
                    __cil_tmp204 = & offset;
#line 3593
                    __cil_tmp205 = 0 + 4;
#line 3593
                    __cil_tmp206 = (unsigned int )(& offset) + __cil_tmp205;
#line 3593
                    mem_360 = (LONG *)__cil_tmp206;
#line 3593
                    __cil_tmp207 = *mem_360;
#line 3593
                    mem_361 = (ULONG *)__cil_tmp204;
#line 3593
                    *mem_361 = (unsigned long )__cil_tmp207;
                    {
#line 3594
                    __cil_tmp208 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 3594
                    __cil_tmp209 = (unsigned int )__cil_tmp208;
#line 3594
                    __cil_tmp210 = __cil_tmp209 + 732;
#line 3594
                    mem_362 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp210;
#line 3594
                    __cil_tmp211 = *mem_362;
#line 3594
                    __cil_tmp212 = (int )__cil_tmp211;
#line 3594
                    if (__cil_tmp212 == 1) {
#line 3594
                      tmp___1 = 1024;
                    } else {
#line 3594
                      tmp___1 = 512;
                    }
                    }
                    {
#line 3594
                    __cil_tmp213 = (unsigned int )DisketteExtension;
#line 3594
                    __cil_tmp214 = __cil_tmp213 + 28;
#line 3594
                    mem_363 = (PDEVICE_OBJECT *)__cil_tmp214;
#line 3594
                    __cil_tmp215 = *mem_363;
#line 3594
                    __cil_tmp216 = (void *)bootSector;
#line 3594
                    __cil_tmp217 = (unsigned long )tmp___1;
#line 3594
                    __cil_tmp218 = (void *)0;
#line 3594
                    __cil_tmp219 = (struct _IO_STATUS_BLOCK *)__cil_tmp218;
#line 3594
                    irp = IoBuildAsynchronousFsdRequest(3UL, __cil_tmp215, __cil_tmp216,
                                                        __cil_tmp217, & offset, __cil_tmp219);
                    }
#line 3600
                    if (! irp) {
                      {
#line 3603
                      while (1) {
                        while_106_continue: /* CIL Label */ ;
                        goto while_106_break;
                      }
                      while_106_break: /* CIL Label */ ;
                      }
                      {
#line 3604
                      __cil_tmp220 = (void *)bootSector;
#line 3604
                      ExFreePool(__cil_tmp220);
                      }
#line 3605
                      return (-1073741670L);
                    } else {

                    }
                    {
#line 3607
                    __cil_tmp221 = (unsigned int )irp;
#line 3607
                    __cil_tmp222 = __cil_tmp221 + 35;
#line 3607
                    __cil_tmp223 = (unsigned int )irp;
#line 3607
                    __cil_tmp224 = __cil_tmp223 + 35;
#line 3607
                    mem_364 = (CHAR *)__cil_tmp224;
#line 3607
                    __cil_tmp225 = *mem_364;
#line 3607
                    __cil_tmp226 = (int )__cil_tmp225;
#line 3607
                    __cil_tmp227 = __cil_tmp226 - 1;
#line 3607
                    mem_365 = (CHAR *)__cil_tmp222;
#line 3607
                    *mem_365 = (char )__cil_tmp227;
#line 3608
                    __cil_tmp228 = 24 + 8;
#line 3608
                    __cil_tmp229 = 0 + __cil_tmp228;
#line 3608
                    __cil_tmp230 = 64 + __cil_tmp229;
#line 3608
                    __cil_tmp231 = (unsigned int )irp;
#line 3608
                    __cil_tmp232 = __cil_tmp231 + __cil_tmp230;
#line 3608
                    __cil_tmp233 = 24 + 8;
#line 3608
                    __cil_tmp234 = 0 + __cil_tmp233;
#line 3608
                    __cil_tmp235 = 64 + __cil_tmp234;
#line 3608
                    __cil_tmp236 = (unsigned int )irp;
#line 3608
                    __cil_tmp237 = __cil_tmp236 + __cil_tmp235;
#line 3608
                    mem_366 = (struct _IO_STACK_LOCATION **)__cil_tmp237;
#line 3608
                    __cil_tmp238 = *mem_366;
#line 3608
                    mem_367 = (struct _IO_STACK_LOCATION **)__cil_tmp232;
#line 3608
                    *mem_367 = __cil_tmp238 - 1;
#line 3613
                    ntStatus = FlReadWrite(DisketteExtension, irp, (unsigned char)1);
                    }
                    {
#line 3618
                    while (1) {
                      while_107_continue: /* CIL Label */ ;
                      goto while_107_break;
                    }
                    while_107_break: /* CIL Label */ ;
                    }
                    {
#line 3620
                    __cil_tmp239 = (unsigned int )irp;
#line 3620
                    __cil_tmp240 = __cil_tmp239 + 4;
#line 3620
                    mem_368 = (PMDL *)__cil_tmp240;
#line 3620
                    __cil_tmp241 = *mem_368;
#line 3620
                    MmUnlockPages(__cil_tmp241);
#line 3621
                    __cil_tmp242 = (unsigned int )irp;
#line 3621
                    __cil_tmp243 = __cil_tmp242 + 4;
#line 3621
                    mem_369 = (PMDL *)__cil_tmp243;
#line 3621
                    __cil_tmp244 = *mem_369;
#line 3621
                    IoFreeMdl(__cil_tmp244);
#line 3622
                    IoFreeIrp(irp);
#line 3623
                    __cil_tmp245 = (void *)bootSector;
#line 3623
                    ExFreePool(__cil_tmp245);
                    }
                    {
#line 3625
                    __cil_tmp246 = ntStatus >= 0L;
#line 3625
                    if (! __cil_tmp246) {
                      {
#line 3642
                      while (1) {
                        while_108_continue: /* CIL Label */ ;
                        goto while_108_break;
                      }
                      while_108_break: /* CIL Label */ ;
                      }
#line 3644
                      __cil_tmp247 = (unsigned int )DisketteExtension;
#line 3644
                      __cil_tmp248 = __cil_tmp247 + 216;
#line 3644
                      __cil_tmp249 = (unsigned int )DisketteExtension;
#line 3644
                      __cil_tmp250 = __cil_tmp249 + 216;
#line 3644
                      mem_370 = (DRIVE_MEDIA_TYPE *)__cil_tmp250;
#line 3644
                      __cil_tmp251 = *mem_370;
#line 3644
                      __cil_tmp252 = (int )__cil_tmp251;
#line 3644
                      __cil_tmp253 = __cil_tmp252 - 1;
#line 3644
                      mem_371 = (DRIVE_MEDIA_TYPE *)__cil_tmp248;
#line 3644
                      *mem_371 = (enum _DRIVE_MEDIA_TYPE )__cil_tmp253;
#line 3646
                      __cil_tmp254 = (unsigned int )DisketteExtension;
#line 3646
                      __cil_tmp255 = __cil_tmp254 + 308;
#line 3646
                      __cil_tmp256 = (unsigned int )DisketteExtension;
#line 3646
                      __cil_tmp257 = __cil_tmp256 + 216;
#line 3646
                      mem_372 = (DRIVE_MEDIA_TYPE *)__cil_tmp257;
#line 3646
                      __cil_tmp258 = *mem_372;
#line 3646
                      __cil_tmp259 = (unsigned int )__cil_tmp258;
#line 3646
                      __cil_tmp260 = DriveMediaConstants + __cil_tmp259;
#line 3646
                      mem_373 = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp255;
#line 3646
                      *mem_373 = *__cil_tmp260;
#line 3649
                      if (ntStatus != -1073741661L) {
#line 3651
                        ntStatus = -1073741804L;
                      } else {

                      }
                      {
#line 3660
                      __cil_tmp261 = (unsigned int )DisketteExtension;
#line 3660
                      __cil_tmp262 = __cil_tmp261 + 174;
#line 3660
                      mem_374 = (UCHAR *)__cil_tmp262;
#line 3660
                      __cil_tmp263 = *mem_374;
#line 3660
                      __cil_tmp264 = (int )__cil_tmp263;
#line 3660
                      __cil_tmp265 = DriveMediaLimits + __cil_tmp264;
#line 3660
                      __cil_tmp266 = (unsigned int )__cil_tmp265;
#line 3660
                      __cil_tmp267 = __cil_tmp266 + 32;
#line 3660
                      mem_375 = (DRIVE_MEDIA_TYPE *)__cil_tmp267;
#line 3660
                      __cil_tmp268 = *mem_375;
#line 3660
                      __cil_tmp269 = (char )__cil_tmp268;
#line 3660
                      __cil_tmp270 = (int )__cil_tmp269;
#line 3660
                      __cil_tmp271 = (unsigned int )DisketteExtension;
#line 3660
                      __cil_tmp272 = __cil_tmp271 + 216;
#line 3660
                      mem_376 = (DRIVE_MEDIA_TYPE *)__cil_tmp272;
#line 3660
                      __cil_tmp273 = *mem_376;
#line 3660
                      __cil_tmp274 = (char )__cil_tmp273;
#line 3660
                      __cil_tmp275 = (int )__cil_tmp274;
#line 3660
                      if (__cil_tmp275 < __cil_tmp270) {
#line 3664
                        __cil_tmp276 = (unsigned int )DisketteExtension;
#line 3664
                        __cil_tmp277 = __cil_tmp276 + 184;
#line 3664
                        mem_377 = (MEDIA_TYPE *)__cil_tmp277;
#line 3664
                        *mem_377 = (enum _MEDIA_TYPE )0;
#line 3665
                        mediaTypesExhausted = (unsigned char)1;
                        {
#line 3670
                        while (1) {
                          while_109_continue: /* CIL Label */ ;
                          goto while_109_break;
                        }
                        while_109_break: /* CIL Label */ ;
                        }
                      } else {

                      }
                      }
                    } else {

                    }
                    }
                  } else {

                  }
                  }
                }
                }
              }
              }
            }
            }
          }
          }
        }
        }
      }
      }
      {
#line 3450
      __cil_tmp278 = ntStatus >= 0L;
#line 3450
      if (! __cil_tmp278) {
        {
#line 3450
        __cil_tmp279 = ! mediaTypesExhausted;
#line 3450
        if (! __cil_tmp279) {
          goto while_101_break;
        } else {

        }
        }
      } else {
        goto while_101_break;
      }
      }
    }
    while_101_break: /* CIL Label */ ;
    }
#line 3680
    if (ntStatus >= 0L) {
      {
#line 3689
      while (1) {
        while_110_continue: /* CIL Label */ ;
        goto while_110_break;
      }
      while_110_break: /* CIL Label */ ;
      }
      goto while_99_break;
    } else {

    }
#line 3418
    retries = retries + 1UL;
  }
  while_99_break: /* CIL Label */ ;
  }
  {
#line 3694
  __cil_tmp280 = ntStatus >= 0L;
#line 3694
  if (! __cil_tmp280) {
    goto _L___1;
  } else {
#line 3694
    if (mediaTypesExhausted) {
      _L___1: 
      {
#line 3701
      while (1) {
        while_111_continue: /* CIL Label */ ;
        goto while_111_break;
      }
      while_111_break: /* CIL Label */ ;
      }
#line 3702
      return (ntStatus);
    } else {

    }
  }
  }
#line 3705
  __cil_tmp281 = (unsigned int )DisketteExtension;
#line 3705
  __cil_tmp282 = __cil_tmp281 + 184;
#line 3705
  mem_378 = (MEDIA_TYPE *)__cil_tmp282;
#line 3705
  mem_379 = (MEDIA_TYPE *)driveMediaConstants;
#line 3705
  *mem_378 = *mem_379;
#line 3706
  __cil_tmp283 = (unsigned int )DisketteExtension;
#line 3706
  __cil_tmp284 = __cil_tmp283 + 176;
#line 3706
  __cil_tmp285 = (unsigned int )driveMediaConstants;
#line 3706
  __cil_tmp286 = __cil_tmp285 + 36;
#line 3706
  mem_380 = (USHORT *)__cil_tmp286;
#line 3706
  __cil_tmp287 = *mem_380;
#line 3706
  mem_381 = (ULONG *)__cil_tmp284;
#line 3706
  *mem_381 = (unsigned long )__cil_tmp287;
#line 3708
  __cil_tmp288 = (unsigned int )DisketteExtension;
#line 3708
  __cil_tmp289 = __cil_tmp288 + 180;
#line 3708
  __cil_tmp290 = (unsigned int )driveMediaConstants;
#line 3708
  __cil_tmp291 = __cil_tmp290 + 51;
#line 3708
  mem_382 = (UCHAR *)__cil_tmp291;
#line 3708
  __cil_tmp292 = *mem_382;
#line 3708
  __cil_tmp293 = (int )__cil_tmp292;
#line 3708
  __cil_tmp294 = (unsigned int )driveMediaConstants;
#line 3708
  __cil_tmp295 = __cil_tmp294 + 48;
#line 3708
  mem_383 = (UCHAR *)__cil_tmp295;
#line 3708
  __cil_tmp296 = *mem_383;
#line 3708
  __cil_tmp297 = (int )__cil_tmp296;
#line 3708
  __cil_tmp298 = 1 + __cil_tmp297;
#line 3708
  __cil_tmp299 = (unsigned int )driveMediaConstants;
#line 3708
  __cil_tmp300 = __cil_tmp299 + 38;
#line 3708
  mem_384 = (UCHAR *)__cil_tmp300;
#line 3708
  __cil_tmp301 = *mem_384;
#line 3708
  __cil_tmp302 = (int )__cil_tmp301;
#line 3708
  __cil_tmp303 = (unsigned int )driveMediaConstants;
#line 3708
  __cil_tmp304 = __cil_tmp303 + 36;
#line 3708
  mem_385 = (USHORT *)__cil_tmp304;
#line 3708
  __cil_tmp305 = *mem_385;
#line 3708
  __cil_tmp306 = (int )__cil_tmp305;
#line 3708
  __cil_tmp307 = __cil_tmp306 * __cil_tmp302;
#line 3708
  __cil_tmp308 = __cil_tmp307 * __cil_tmp298;
#line 3708
  __cil_tmp309 = __cil_tmp308 * __cil_tmp293;
#line 3708
  mem_386 = (ULONG *)__cil_tmp289;
#line 3708
  *mem_386 = (unsigned long )__cil_tmp309;
  {
#line 3720
  while (1) {
    while_112_continue: /* CIL Label */ ;
    goto while_112_break;
  }
  while_112_break: /* CIL Label */ ;
  }
  {
#line 3725
  __cil_tmp310 = (unsigned int )DisketteExtension;
#line 3725
  __cil_tmp311 = __cil_tmp310 + 308;
#line 3725
  __cil_tmp312 = (unsigned int )DisketteExtension;
#line 3725
  __cil_tmp313 = __cil_tmp312 + 216;
#line 3725
  mem_387 = (DRIVE_MEDIA_TYPE *)__cil_tmp313;
#line 3725
  __cil_tmp314 = *mem_387;
#line 3725
  __cil_tmp315 = (unsigned int )__cil_tmp314;
#line 3725
  __cil_tmp316 = DriveMediaConstants + __cil_tmp315;
#line 3725
  mem_388 = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp311;
#line 3725
  *mem_388 = *__cil_tmp316;
#line 3731
  FlCheckBootSector(DisketteExtension);
  }
#line 3733
  return (ntStatus);
}
}
#line 3736 "floppy.c"
void FlAllocateIoBuffer(PDISKETTE_EXTENSION DisketteExtension , ULONG BufferSize ) 
{ BOOLEAN allocateContiguous ;
  LARGE_INTEGER maxDmaAddress ;
  PVOID tmp ;
  PVOID tmp___0 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  ULONG __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  ULONG __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  enum _POOL_TYPE __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  PUCHAR __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  PUCHAR __cil_tmp27 ;
  void *__cil_tmp28 ;
  void *__cil_tmp29 ;
  struct _IRP *__cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  PMDL __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  PUCHAR __cil_tmp36 ;
  void *__cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  PUCHAR __cil_tmp40 ;
  void *__cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  void *__cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  PMDL __cil_tmp47 ;
  enum _LOCK_OPERATION __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  PUCHAR __cil_tmp51 ;
  void *__cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  PUCHAR __cil_tmp55 ;
  void *__cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  void *__cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  PUCHAR *mem_62 ;
  ULONG *mem_63 ;
  ULONG *mem_64 ;
  PUCHAR *mem_65 ;
  PUCHAR *mem_66 ;
  PUCHAR *mem_67 ;
  PUCHAR *mem_68 ;
  PMDL *mem_69 ;
  PMDL *mem_70 ;
  PUCHAR *mem_71 ;
  PUCHAR *mem_72 ;
  PUCHAR *mem_73 ;
  PMDL *mem_74 ;
  PUCHAR *mem_75 ;
  PUCHAR *mem_76 ;
  PUCHAR *mem_77 ;
  ULONG *mem_78 ;

  {
  {
#line 3764
  __cil_tmp7 = (unsigned int )DisketteExtension;
#line 3764
  __cil_tmp8 = __cil_tmp7 + 124;
  {
#line 3764
  mem_62 = (PUCHAR *)__cil_tmp8;
#line 3764
  if (*mem_62) {
    {
#line 3765
    __cil_tmp9 = (unsigned int )DisketteExtension;
#line 3765
    __cil_tmp10 = __cil_tmp9 + 132;
#line 3765
    mem_63 = (ULONG *)__cil_tmp10;
#line 3765
    __cil_tmp11 = *mem_63;
#line 3765
    if (__cil_tmp11 >= BufferSize) {

    } else {

    }
    }
    {
#line 3768
    FlFreeIoBuffer(DisketteExtension);
    }
  } else {

  }
  }
  }
  {
#line 3771
  __cil_tmp12 = (unsigned int )DisketteExtension;
#line 3771
  __cil_tmp13 = __cil_tmp12 + 108;
#line 3771
  mem_64 = (ULONG *)__cil_tmp13;
#line 3771
  __cil_tmp14 = *mem_64;
#line 3771
  if (BufferSize > __cil_tmp14) {
#line 3772
    allocateContiguous = (unsigned char)1;
  } else {
#line 3774
    allocateContiguous = (unsigned char)0;
  }
  }
#line 3777
  if (allocateContiguous) {
    {
#line 3778
    maxDmaAddress.QuadPart = 16777215LL;
#line 3779
    tmp = MmAllocateContiguousMemory(BufferSize, maxDmaAddress);
#line 3779
    __cil_tmp15 = (unsigned int )DisketteExtension;
#line 3779
    __cil_tmp16 = __cil_tmp15 + 124;
#line 3779
    mem_65 = (PUCHAR *)__cil_tmp16;
#line 3779
    *mem_65 = (UCHAR *)tmp;
    }
  } else {
    {
#line 3782
    __cil_tmp17 = (enum _POOL_TYPE )4;
#line 3782
    tmp___0 = ExAllocatePoolWithTag(__cil_tmp17, BufferSize, 1886350406UL);
#line 3782
    __cil_tmp18 = (unsigned int )DisketteExtension;
#line 3782
    __cil_tmp19 = __cil_tmp18 + 124;
#line 3782
    mem_66 = (PUCHAR *)__cil_tmp19;
#line 3782
    *mem_66 = (UCHAR *)tmp___0;
    }
  }
  {
#line 3786
  __cil_tmp20 = (unsigned int )DisketteExtension;
#line 3786
  __cil_tmp21 = __cil_tmp20 + 124;
#line 3786
  mem_67 = (PUCHAR *)__cil_tmp21;
#line 3786
  __cil_tmp22 = *mem_67;
#line 3786
  if (! __cil_tmp22) {

  } else {

  }
  }
  {
#line 3790
  __cil_tmp23 = (unsigned int )DisketteExtension;
#line 3790
  __cil_tmp24 = __cil_tmp23 + 128;
#line 3790
  __cil_tmp25 = (unsigned int )DisketteExtension;
#line 3790
  __cil_tmp26 = __cil_tmp25 + 124;
#line 3790
  mem_68 = (PUCHAR *)__cil_tmp26;
#line 3790
  __cil_tmp27 = *mem_68;
#line 3790
  __cil_tmp28 = (void *)__cil_tmp27;
#line 3790
  __cil_tmp29 = (void *)0;
#line 3790
  __cil_tmp30 = (struct _IRP *)__cil_tmp29;
#line 3790
  mem_69 = (PMDL *)__cil_tmp24;
#line 3790
  *mem_69 = IoAllocateMdl(__cil_tmp28, BufferSize, (unsigned char)0, (unsigned char)0,
                          __cil_tmp30);
  }
  {
#line 3792
  __cil_tmp31 = (unsigned int )DisketteExtension;
#line 3792
  __cil_tmp32 = __cil_tmp31 + 128;
#line 3792
  mem_70 = (PMDL *)__cil_tmp32;
#line 3792
  __cil_tmp33 = *mem_70;
#line 3792
  if (! __cil_tmp33) {
#line 3793
    if (allocateContiguous) {
      {
#line 3794
      __cil_tmp34 = (unsigned int )DisketteExtension;
#line 3794
      __cil_tmp35 = __cil_tmp34 + 124;
#line 3794
      mem_71 = (PUCHAR *)__cil_tmp35;
#line 3794
      __cil_tmp36 = *mem_71;
#line 3794
      __cil_tmp37 = (void *)__cil_tmp36;
#line 3794
      MmFreeContiguousMemory(__cil_tmp37);
      }
    } else {
      {
#line 3796
      __cil_tmp38 = (unsigned int )DisketteExtension;
#line 3796
      __cil_tmp39 = __cil_tmp38 + 124;
#line 3796
      mem_72 = (PUCHAR *)__cil_tmp39;
#line 3796
      __cil_tmp40 = *mem_72;
#line 3796
      __cil_tmp41 = (void *)__cil_tmp40;
#line 3796
      ExFreePool(__cil_tmp41);
      }
    }
#line 3798
    __cil_tmp42 = (unsigned int )DisketteExtension;
#line 3798
    __cil_tmp43 = __cil_tmp42 + 124;
#line 3798
    __cil_tmp44 = (void *)0;
#line 3798
    mem_73 = (PUCHAR *)__cil_tmp43;
#line 3798
    *mem_73 = (UCHAR *)__cil_tmp44;
  } else {

  }
  }
  {
#line 3803
  __cil_tmp45 = (unsigned int )DisketteExtension;
#line 3803
  __cil_tmp46 = __cil_tmp45 + 128;
#line 3803
  mem_74 = (PMDL *)__cil_tmp46;
#line 3803
  __cil_tmp47 = *mem_74;
#line 3803
  __cil_tmp48 = (enum _LOCK_OPERATION )2;
#line 3803
  MmProbeAndLockPages(__cil_tmp47, (char)0, __cil_tmp48);
  }
  {
#line 3809
  while (1) {
    while_113_continue: /* CIL Label */ ;
    goto while_113_break;
  }
  while_113_break: /* CIL Label */ ;
  }
#line 3810
  if (allocateContiguous) {
    {
#line 3811
    __cil_tmp49 = (unsigned int )DisketteExtension;
#line 3811
    __cil_tmp50 = __cil_tmp49 + 124;
#line 3811
    mem_75 = (PUCHAR *)__cil_tmp50;
#line 3811
    __cil_tmp51 = *mem_75;
#line 3811
    __cil_tmp52 = (void *)__cil_tmp51;
#line 3811
    MmFreeContiguousMemory(__cil_tmp52);
    }
  } else {
    {
#line 3813
    __cil_tmp53 = (unsigned int )DisketteExtension;
#line 3813
    __cil_tmp54 = __cil_tmp53 + 124;
#line 3813
    mem_76 = (PUCHAR *)__cil_tmp54;
#line 3813
    __cil_tmp55 = *mem_76;
#line 3813
    __cil_tmp56 = (void *)__cil_tmp55;
#line 3813
    ExFreePool(__cil_tmp56);
    }
  }
#line 3815
  __cil_tmp57 = (unsigned int )DisketteExtension;
#line 3815
  __cil_tmp58 = __cil_tmp57 + 124;
#line 3815
  __cil_tmp59 = (void *)0;
#line 3815
  mem_77 = (PUCHAR *)__cil_tmp58;
#line 3815
  *mem_77 = (UCHAR *)__cil_tmp59;
#line 3819
  __cil_tmp60 = (unsigned int )DisketteExtension;
#line 3819
  __cil_tmp61 = __cil_tmp60 + 132;
#line 3819
  mem_78 = (ULONG *)__cil_tmp61;
#line 3819
  *mem_78 = BufferSize;
#line 3821
  return;
}
}
#line 3822 "floppy.c"
void FlFreeIoBuffer(PDISKETTE_EXTENSION DisketteExtension ) 
{ BOOLEAN contiguousBuffer ;
  unsigned int __cil_tmp3 ;
  unsigned int __cil_tmp4 ;
  PUCHAR __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  ULONG __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  ULONG __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  PMDL __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  PMDL __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  void *__cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  PUCHAR __cil_tmp25 ;
  void *__cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  PUCHAR __cil_tmp29 ;
  void *__cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  void *__cil_tmp33 ;
  PUCHAR *mem_34 ;
  ULONG *mem_35 ;
  ULONG *mem_36 ;
  ULONG *mem_37 ;
  PMDL *mem_38 ;
  PMDL *mem_39 ;
  PMDL *mem_40 ;
  PUCHAR *mem_41 ;
  PUCHAR *mem_42 ;
  PUCHAR *mem_43 ;

  {
  {
#line 3846
  __cil_tmp3 = (unsigned int )DisketteExtension;
#line 3846
  __cil_tmp4 = __cil_tmp3 + 124;
#line 3846
  mem_34 = (PUCHAR *)__cil_tmp4;
#line 3846
  __cil_tmp5 = *mem_34;
#line 3846
  if (! __cil_tmp5) {

  } else {

  }
  }
  {
#line 3850
  __cil_tmp6 = (unsigned int )DisketteExtension;
#line 3850
  __cil_tmp7 = __cil_tmp6 + 108;
#line 3850
  mem_35 = (ULONG *)__cil_tmp7;
#line 3850
  __cil_tmp8 = *mem_35;
#line 3850
  __cil_tmp9 = (unsigned int )DisketteExtension;
#line 3850
  __cil_tmp10 = __cil_tmp9 + 132;
#line 3850
  mem_36 = (ULONG *)__cil_tmp10;
#line 3850
  __cil_tmp11 = *mem_36;
#line 3850
  if (__cil_tmp11 > __cil_tmp8) {
#line 3853
    contiguousBuffer = (unsigned char)1;
  } else {
#line 3855
    contiguousBuffer = (unsigned char)0;
  }
  }
  {
#line 3858
  __cil_tmp12 = (unsigned int )DisketteExtension;
#line 3858
  __cil_tmp13 = __cil_tmp12 + 132;
#line 3858
  mem_37 = (ULONG *)__cil_tmp13;
#line 3858
  *mem_37 = 0UL;
#line 3860
  __cil_tmp14 = (unsigned int )DisketteExtension;
#line 3860
  __cil_tmp15 = __cil_tmp14 + 128;
#line 3860
  mem_38 = (PMDL *)__cil_tmp15;
#line 3860
  __cil_tmp16 = *mem_38;
#line 3860
  MmUnlockPages(__cil_tmp16);
#line 3861
  __cil_tmp17 = (unsigned int )DisketteExtension;
#line 3861
  __cil_tmp18 = __cil_tmp17 + 128;
#line 3861
  mem_39 = (PMDL *)__cil_tmp18;
#line 3861
  __cil_tmp19 = *mem_39;
#line 3861
  IoFreeMdl(__cil_tmp19);
#line 3862
  __cil_tmp20 = (unsigned int )DisketteExtension;
#line 3862
  __cil_tmp21 = __cil_tmp20 + 128;
#line 3862
  __cil_tmp22 = (void *)0;
#line 3862
  mem_40 = (PMDL *)__cil_tmp21;
#line 3862
  *mem_40 = (struct _MDL *)__cil_tmp22;
  }
#line 3863
  if (contiguousBuffer) {
    {
#line 3864
    __cil_tmp23 = (unsigned int )DisketteExtension;
#line 3864
    __cil_tmp24 = __cil_tmp23 + 124;
#line 3864
    mem_41 = (PUCHAR *)__cil_tmp24;
#line 3864
    __cil_tmp25 = *mem_41;
#line 3864
    __cil_tmp26 = (void *)__cil_tmp25;
#line 3864
    MmFreeContiguousMemory(__cil_tmp26);
    }
  } else {
    {
#line 3866
    __cil_tmp27 = (unsigned int )DisketteExtension;
#line 3866
    __cil_tmp28 = __cil_tmp27 + 124;
#line 3866
    mem_42 = (PUCHAR *)__cil_tmp28;
#line 3866
    __cil_tmp29 = *mem_42;
#line 3866
    __cil_tmp30 = (void *)__cil_tmp29;
#line 3866
    ExFreePool(__cil_tmp30);
    }
  }
#line 3868
  __cil_tmp31 = (unsigned int )DisketteExtension;
#line 3868
  __cil_tmp32 = __cil_tmp31 + 124;
#line 3868
  __cil_tmp33 = (void *)0;
#line 3868
  mem_43 = (PUCHAR *)__cil_tmp32;
#line 3868
  *mem_43 = (UCHAR *)__cil_tmp33;
#line 3871
  return;
}
}
#line 3871 "floppy.c"
void FloppyThread(PVOID Context ) 
{ PIRP irp ;
  PIO_STACK_LOCATION irpSp ;
  PLIST_ENTRY request ;
  PDISKETTE_EXTENSION disketteExtension ;
  NTSTATUS ntStatus ;
  NTSTATUS waitStatus ;
  LARGE_INTEGER queueWait ;
  LARGE_INTEGER acquireWait ;
  PKTHREAD tmp ;
  PDISK_GEOMETRY outputBuffer ;
  PSENSE_DEVISE_STATUS_PTOS outputBuffer___0 ;
  LARGE_INTEGER *__cil_tmp13 ;
  LARGE_INTEGER *__cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  KSEMAPHORE *__cil_tmp17 ;
  void *__cil_tmp18 ;
  enum _KWAIT_REASON __cil_tmp19 ;
  KUSER_SHARED_DATA *__cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp23 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  PDEVICE_OBJECT __cil_tmp30 ;
  int __cil_tmp31 ;
  int __cil_tmp32 ;
  int __cil_tmp33 ;
  int __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  void *__cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  PDEVICE_OBJECT __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  int __cil_tmp42 ;
  int __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  PDEVICE_OBJECT __cil_tmp47 ;
  void *__cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  FAST_MUTEX *__cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  LONG __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  void *__cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  PKTHREAD __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  PKTHREAD __cil_tmp67 ;
  void *__cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  void *__cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  FAST_MUTEX *__cil_tmp74 ;
  KUSER_SHARED_DATA *__cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp78 ;
  int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  PDEVICE_OBJECT __cil_tmp84 ;
  int __cil_tmp85 ;
  int __cil_tmp86 ;
  int __cil_tmp87 ;
  int __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  void *__cil_tmp90 ;
  unsigned int __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  PDEVICE_OBJECT __cil_tmp93 ;
  int __cil_tmp94 ;
  int __cil_tmp95 ;
  int __cil_tmp96 ;
  int __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  void *__cil_tmp99 ;
  unsigned int __cil_tmp100 ;
  unsigned int __cil_tmp101 ;
  PDEVICE_OBJECT __cil_tmp102 ;
  int __cil_tmp103 ;
  int __cil_tmp104 ;
  int __cil_tmp105 ;
  int __cil_tmp106 ;
  unsigned long __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  unsigned int __cil_tmp109 ;
  PDEVICE_OBJECT __cil_tmp110 ;
  void *__cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  unsigned int __cil_tmp113 ;
  unsigned int __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  void *__cil_tmp116 ;
  unsigned int __cil_tmp117 ;
  unsigned int __cil_tmp118 ;
  FAST_MUTEX *__cil_tmp119 ;
  unsigned int __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  LIST_ENTRY *__cil_tmp122 ;
  unsigned int __cil_tmp123 ;
  unsigned int __cil_tmp124 ;
  KSPIN_LOCK *__cil_tmp125 ;
  unsigned int __cil_tmp126 ;
  unsigned int __cil_tmp127 ;
  FAST_MUTEX *__cil_tmp128 ;
  unsigned int __cil_tmp129 ;
  unsigned int __cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  LONG __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  unsigned int __cil_tmp135 ;
  FAST_MUTEX *__cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  unsigned int __cil_tmp139 ;
  unsigned int __cil_tmp140 ;
  IRP *__cil_tmp141 ;
  unsigned int __cil_tmp142 ;
  unsigned int __cil_tmp143 ;
  LIST_ENTRY *__cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  CHAR *__cil_tmp146 ;
  CHAR *__cil_tmp147 ;
  unsigned int __cil_tmp148 ;
  unsigned int __cil_tmp149 ;
  FAST_MUTEX *__cil_tmp150 ;
  unsigned int __cil_tmp151 ;
  unsigned int __cil_tmp152 ;
  BOOLEAN __cil_tmp153 ;
  int __cil_tmp154 ;
  unsigned int __cil_tmp155 ;
  unsigned int __cil_tmp156 ;
  FAST_MUTEX *__cil_tmp157 ;
  unsigned int __cil_tmp158 ;
  unsigned int __cil_tmp159 ;
  IRP *__cil_tmp160 ;
  unsigned int __cil_tmp161 ;
  unsigned int __cil_tmp162 ;
  LIST_ENTRY *__cil_tmp163 ;
  unsigned long __cil_tmp164 ;
  CHAR *__cil_tmp165 ;
  CHAR *__cil_tmp166 ;
  unsigned int __cil_tmp167 ;
  unsigned int __cil_tmp168 ;
  unsigned int __cil_tmp169 ;
  unsigned int __cil_tmp170 ;
  unsigned int __cil_tmp171 ;
  unsigned int __cil_tmp172 ;
  unsigned int __cil_tmp173 ;
  FAST_MUTEX *__cil_tmp174 ;
  unsigned int __cil_tmp175 ;
  unsigned int __cil_tmp176 ;
  unsigned int __cil_tmp177 ;
  unsigned int __cil_tmp178 ;
  unsigned int __cil_tmp179 ;
  UCHAR __cil_tmp180 ;
  unsigned int __cil_tmp181 ;
  unsigned int __cil_tmp182 ;
  UCHAR __cil_tmp183 ;
  int __cil_tmp184 ;
  unsigned int __cil_tmp185 ;
  unsigned int __cil_tmp186 ;
  UCHAR __cil_tmp187 ;
  int __cil_tmp188 ;
  KUSER_SHARED_DATA *__cil_tmp189 ;
  unsigned int __cil_tmp190 ;
  unsigned int __cil_tmp191 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp192 ;
  int __cil_tmp193 ;
  unsigned int __cil_tmp194 ;
  unsigned int __cil_tmp195 ;
  unsigned int __cil_tmp196 ;
  unsigned int __cil_tmp197 ;
  PDEVICE_OBJECT __cil_tmp198 ;
  int __cil_tmp199 ;
  int __cil_tmp200 ;
  int __cil_tmp201 ;
  int __cil_tmp202 ;
  unsigned long __cil_tmp203 ;
  void *__cil_tmp204 ;
  unsigned int __cil_tmp205 ;
  unsigned int __cil_tmp206 ;
  unsigned int __cil_tmp207 ;
  unsigned int __cil_tmp208 ;
  unsigned int __cil_tmp209 ;
  unsigned int __cil_tmp210 ;
  unsigned int __cil_tmp211 ;
  unsigned int __cil_tmp212 ;
  PDEVICE_OBJECT __cil_tmp213 ;
  int __cil_tmp214 ;
  int __cil_tmp215 ;
  int __cil_tmp216 ;
  int __cil_tmp217 ;
  unsigned long __cil_tmp218 ;
  void *__cil_tmp219 ;
  unsigned int __cil_tmp220 ;
  unsigned int __cil_tmp221 ;
  PDEVICE_OBJECT __cil_tmp222 ;
  int __cil_tmp223 ;
  int __cil_tmp224 ;
  int __cil_tmp225 ;
  int __cil_tmp226 ;
  unsigned long __cil_tmp227 ;
  unsigned int __cil_tmp228 ;
  unsigned int __cil_tmp229 ;
  PDEVICE_OBJECT __cil_tmp230 ;
  void *__cil_tmp231 ;
  unsigned int __cil_tmp232 ;
  unsigned int __cil_tmp233 ;
  unsigned int __cil_tmp234 ;
  unsigned int __cil_tmp235 ;
  FAST_MUTEX *__cil_tmp236 ;
  unsigned int __cil_tmp237 ;
  unsigned int __cil_tmp238 ;
  unsigned int __cil_tmp239 ;
  unsigned int __cil_tmp240 ;
  FAST_MUTEX *__cil_tmp241 ;
  void *__cil_tmp242 ;
  unsigned int __cil_tmp243 ;
  unsigned int __cil_tmp244 ;
  BOOLEAN __cil_tmp245 ;
  unsigned int __cil_tmp246 ;
  unsigned int __cil_tmp247 ;
  PDEVICE_OBJECT __cil_tmp248 ;
  int __cil_tmp249 ;
  int __cil_tmp250 ;
  int __cil_tmp251 ;
  int __cil_tmp252 ;
  unsigned long __cil_tmp253 ;
  void *__cil_tmp254 ;
  unsigned int __cil_tmp255 ;
  unsigned int __cil_tmp256 ;
  KUSER_SHARED_DATA *__cil_tmp257 ;
  unsigned int __cil_tmp258 ;
  unsigned int __cil_tmp259 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp260 ;
  int __cil_tmp261 ;
  unsigned int __cil_tmp262 ;
  unsigned int __cil_tmp263 ;
  unsigned int __cil_tmp264 ;
  unsigned int __cil_tmp265 ;
  PDEVICE_OBJECT __cil_tmp266 ;
  unsigned int __cil_tmp267 ;
  unsigned int __cil_tmp268 ;
  ULONG __cil_tmp269 ;
  unsigned int __cil_tmp270 ;
  unsigned int __cil_tmp271 ;
  UCHAR __cil_tmp272 ;
  int __cil_tmp273 ;
  int __cil_tmp274 ;
  unsigned int __cil_tmp275 ;
  unsigned int __cil_tmp276 ;
  BOOLEAN __cil_tmp277 ;
  unsigned int __cil_tmp278 ;
  unsigned int __cil_tmp279 ;
  PDEVICE_OBJECT __cil_tmp280 ;
  int __cil_tmp281 ;
  int __cil_tmp282 ;
  int __cil_tmp283 ;
  int __cil_tmp284 ;
  unsigned long __cil_tmp285 ;
  void *__cil_tmp286 ;
  unsigned int __cil_tmp287 ;
  unsigned int __cil_tmp288 ;
  KUSER_SHARED_DATA *__cil_tmp289 ;
  unsigned int __cil_tmp290 ;
  unsigned int __cil_tmp291 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp292 ;
  int __cil_tmp293 ;
  unsigned int __cil_tmp294 ;
  unsigned int __cil_tmp295 ;
  unsigned int __cil_tmp296 ;
  unsigned int __cil_tmp297 ;
  PDEVICE_OBJECT __cil_tmp298 ;
  unsigned int __cil_tmp299 ;
  unsigned int __cil_tmp300 ;
  ULONG __cil_tmp301 ;
  unsigned int __cil_tmp302 ;
  unsigned int __cil_tmp303 ;
  UCHAR __cil_tmp304 ;
  int __cil_tmp305 ;
  int __cil_tmp306 ;
  unsigned int __cil_tmp307 ;
  unsigned int __cil_tmp308 ;
  unsigned int __cil_tmp309 ;
  unsigned int __cil_tmp310 ;
  ULONG __cil_tmp311 ;
  int __cil_tmp312 ;
  int __cil_tmp313 ;
  int __cil_tmp314 ;
  int __cil_tmp315 ;
  int __cil_tmp316 ;
  int __cil_tmp317 ;
  int __cil_tmp318 ;
  int __cil_tmp319 ;
  unsigned int __cil_tmp320 ;
  unsigned int __cil_tmp321 ;
  UCHAR __cil_tmp322 ;
  int __cil_tmp323 ;
  int __cil_tmp324 ;
  int __cil_tmp325 ;
  int __cil_tmp326 ;
  unsigned char __cil_tmp327 ;
  int __cil_tmp328 ;
  int __cil_tmp329 ;
  unsigned int __cil_tmp330 ;
  unsigned int __cil_tmp331 ;
  unsigned long __cil_tmp332 ;
  unsigned int __cil_tmp333 ;
  unsigned int __cil_tmp334 ;
  ULONG __cil_tmp335 ;
  unsigned int __cil_tmp336 ;
  unsigned int __cil_tmp337 ;
  UCHAR __cil_tmp338 ;
  int __cil_tmp339 ;
  int __cil_tmp340 ;
  int __cil_tmp341 ;
  int __cil_tmp342 ;
  unsigned char __cil_tmp343 ;
  unsigned int __cil_tmp344 ;
  unsigned int __cil_tmp345 ;
  PVOID __cil_tmp346 ;
  unsigned int __cil_tmp347 ;
  unsigned int __cil_tmp348 ;
  unsigned int __cil_tmp349 ;
  unsigned int __cil_tmp350 ;
  unsigned int __cil_tmp351 ;
  unsigned int __cil_tmp352 ;
  MEDIA_TYPE __cil_tmp353 ;
  int __cil_tmp354 ;
  unsigned int __cil_tmp355 ;
  unsigned int __cil_tmp356 ;
  unsigned int __cil_tmp357 ;
  unsigned int __cil_tmp358 ;
  unsigned int __cil_tmp359 ;
  unsigned int __cil_tmp360 ;
  unsigned int __cil_tmp361 ;
  unsigned int __cil_tmp362 ;
  unsigned int __cil_tmp363 ;
  unsigned int __cil_tmp364 ;
  unsigned int __cil_tmp365 ;
  unsigned int __cil_tmp366 ;
  unsigned int __cil_tmp367 ;
  UCHAR __cil_tmp368 ;
  int __cil_tmp369 ;
  int __cil_tmp370 ;
  unsigned int __cil_tmp371 ;
  unsigned int __cil_tmp372 ;
  unsigned int __cil_tmp373 ;
  unsigned int __cil_tmp374 ;
  unsigned int __cil_tmp375 ;
  unsigned int __cil_tmp376 ;
  unsigned int __cil_tmp377 ;
  unsigned int __cil_tmp378 ;
  unsigned int __cil_tmp379 ;
  UCHAR __cil_tmp380 ;
  unsigned int __cil_tmp381 ;
  unsigned int __cil_tmp382 ;
  unsigned int __cil_tmp383 ;
  unsigned int __cil_tmp384 ;
  unsigned int __cil_tmp385 ;
  UCHAR __cil_tmp386 ;
  unsigned int __cil_tmp387 ;
  unsigned int __cil_tmp388 ;
  unsigned int __cil_tmp389 ;
  unsigned int __cil_tmp390 ;
  unsigned int __cil_tmp391 ;
  USHORT __cil_tmp392 ;
  unsigned int __cil_tmp393 ;
  unsigned int __cil_tmp394 ;
  unsigned int __cil_tmp395 ;
  int __cil_tmp396 ;
  int __cil_tmp397 ;
  int __cil_tmp398 ;
  int __cil_tmp399 ;
  int __cil_tmp400 ;
  int __cil_tmp401 ;
  int __cil_tmp402 ;
  int __cil_tmp403 ;
  unsigned int __cil_tmp404 ;
  unsigned int __cil_tmp405 ;
  int __cil_tmp406 ;
  int __cil_tmp407 ;
  KUSER_SHARED_DATA *__cil_tmp408 ;
  unsigned int __cil_tmp409 ;
  unsigned int __cil_tmp410 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp411 ;
  int __cil_tmp412 ;
  unsigned int __cil_tmp413 ;
  unsigned int __cil_tmp414 ;
  unsigned int __cil_tmp415 ;
  unsigned int __cil_tmp416 ;
  unsigned int __cil_tmp417 ;
  unsigned int __cil_tmp418 ;
  unsigned int __cil_tmp419 ;
  unsigned int __cil_tmp420 ;
  unsigned int __cil_tmp421 ;
  unsigned int __cil_tmp422 ;
  unsigned int __cil_tmp423 ;
  unsigned int __cil_tmp424 ;
  unsigned int __cil_tmp425 ;
  unsigned int __cil_tmp426 ;
  UCHAR *__cil_tmp427 ;
  unsigned int __cil_tmp428 ;
  unsigned int __cil_tmp429 ;
  unsigned int __cil_tmp430 ;
  unsigned int __cil_tmp431 ;
  UCHAR *__cil_tmp432 ;
  void *__cil_tmp433 ;
  struct _MDL *__cil_tmp434 ;
  unsigned int __cil_tmp435 ;
  unsigned int __cil_tmp436 ;
  PVOID __cil_tmp437 ;
  unsigned int __cil_tmp438 ;
  unsigned int __cil_tmp439 ;
  unsigned int __cil_tmp440 ;
  unsigned int __cil_tmp441 ;
  unsigned int __cil_tmp442 ;
  unsigned int __cil_tmp443 ;
  unsigned int __cil_tmp444 ;
  unsigned int __cil_tmp445 ;
  unsigned int __cil_tmp446 ;
  unsigned int __cil_tmp447 ;
  unsigned int __cil_tmp448 ;
  LIST_ENTRY *__cil_tmp449 ;
  unsigned int __cil_tmp450 ;
  unsigned int __cil_tmp451 ;
  KSPIN_LOCK *__cil_tmp452 ;
  unsigned int __cil_tmp453 ;
  unsigned int __cil_tmp454 ;
  FAST_MUTEX *__cil_tmp455 ;
  unsigned int __cil_tmp456 ;
  unsigned int __cil_tmp457 ;
  unsigned int __cil_tmp458 ;
  unsigned int __cil_tmp459 ;
  LONG __cil_tmp460 ;
  unsigned int __cil_tmp461 ;
  unsigned int __cil_tmp462 ;
  FAST_MUTEX *__cil_tmp463 ;
  unsigned int __cil_tmp464 ;
  unsigned int __cil_tmp465 ;
  IRP *__cil_tmp466 ;
  unsigned int __cil_tmp467 ;
  unsigned int __cil_tmp468 ;
  LIST_ENTRY *__cil_tmp469 ;
  unsigned long __cil_tmp470 ;
  CHAR *__cil_tmp471 ;
  CHAR *__cil_tmp472 ;
  unsigned int __cil_tmp473 ;
  unsigned int __cil_tmp474 ;
  unsigned int __cil_tmp475 ;
  unsigned int __cil_tmp476 ;
  KUSER_SHARED_DATA *__cil_tmp477 ;
  unsigned int __cil_tmp478 ;
  unsigned int __cil_tmp479 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp480 ;
  int __cil_tmp481 ;
  unsigned int __cil_tmp482 ;
  unsigned int __cil_tmp483 ;
  unsigned int __cil_tmp484 ;
  unsigned int __cil_tmp485 ;
  PDEVICE_OBJECT __cil_tmp486 ;
  int __cil_tmp487 ;
  int __cil_tmp488 ;
  int __cil_tmp489 ;
  int __cil_tmp490 ;
  unsigned long __cil_tmp491 ;
  unsigned int __cil_tmp492 ;
  unsigned int __cil_tmp493 ;
  PDEVICE_OBJECT __cil_tmp494 ;
  void *__cil_tmp495 ;
  unsigned int __cil_tmp496 ;
  unsigned int __cil_tmp497 ;
  unsigned int __cil_tmp498 ;
  unsigned int __cil_tmp499 ;
  LONGLONG *mem_500 ;
  LONGLONG *mem_501 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_502 ;
  BOOLEAN *mem_503 ;
  PDEVICE_OBJECT *mem_504 ;
  PDEVICE_OBJECT *mem_505 ;
  PDEVICE_OBJECT *mem_506 ;
  BOOLEAN *mem_507 ;
  LONG *mem_508 ;
  LONG *mem_509 ;
  PKTHREAD *mem_510 ;
  PKTHREAD *mem_511 ;
  PKTHREAD *mem_512 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_513 ;
  BOOLEAN *mem_514 ;
  PDEVICE_OBJECT *mem_515 ;
  PDEVICE_OBJECT *mem_516 ;
  PDEVICE_OBJECT *mem_517 ;
  PDEVICE_OBJECT *mem_518 ;
  BOOLEAN *mem_519 ;
  BOOLEAN *mem_520 ;
  LONG *mem_521 ;
  LONG *mem_522 ;
  BOOLEAN *mem_523 ;
  BOOLEAN *mem_524 ;
  NTSTATUS *mem_525 ;
  ULONG_PTR *mem_526 ;
  struct _IO_STACK_LOCATION **mem_527 ;
  UCHAR *mem_528 ;
  UCHAR *mem_529 ;
  UCHAR *mem_530 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_531 ;
  BOOLEAN *mem_532 ;
  PDEVICE_OBJECT *mem_533 ;
  BOOLEAN *mem_534 ;
  BOOLEAN *mem_535 ;
  BOOLEAN *mem_536 ;
  PDEVICE_OBJECT *mem_537 ;
  PDEVICE_OBJECT *mem_538 ;
  PDEVICE_OBJECT *mem_539 ;
  BOOLEAN *mem_540 ;
  LONG *mem_541 ;
  BOOLEAN *mem_542 ;
  PDEVICE_OBJECT *mem_543 ;
  BOOLEAN *mem_544 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_545 ;
  BOOLEAN *mem_546 ;
  PDEVICE_OBJECT *mem_547 ;
  ULONG *mem_548 ;
  UCHAR *mem_549 ;
  BOOLEAN *mem_550 ;
  PDEVICE_OBJECT *mem_551 ;
  BOOLEAN *mem_552 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_553 ;
  BOOLEAN *mem_554 ;
  PDEVICE_OBJECT *mem_555 ;
  ULONG *mem_556 ;
  UCHAR *mem_557 ;
  ULONG *mem_558 ;
  UCHAR *mem_559 ;
  BOOLEAN *mem_560 ;
  ULONG *mem_561 ;
  UCHAR *mem_562 ;
  PVOID *mem_563 ;
  MEDIA_TYPE *mem_564 ;
  MEDIA_TYPE *mem_565 ;
  MEDIA_TYPE *mem_566 ;
  ULONG *mem_567 ;
  LONG *mem_568 ;
  ULONG *mem_569 ;
  ULONG *mem_570 ;
  ULONG *mem_571 ;
  UCHAR *mem_572 ;
  ULONG *mem_573 ;
  LONG *mem_574 ;
  UCHAR *mem_575 ;
  ULONG *mem_576 ;
  UCHAR *mem_577 ;
  ULONG *mem_578 ;
  USHORT *mem_579 ;
  ULONG *mem_580 ;
  ULONG_PTR *mem_581 ;
  PUCHAR *mem_582 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_583 ;
  UCHAR *mem_584 ;
  UCHAR *mem_585 ;
  UCHAR *mem_586 ;
  PVOID *mem_587 ;
  UCHAR *mem_588 ;
  UCHAR *mem_589 ;
  ULONG_PTR *mem_590 ;
  BOOLEAN *mem_591 ;
  NTSTATUS *mem_592 ;
  LONG *mem_593 ;
  LONG *mem_594 ;
  NTSTATUS *mem_595 ;
  PUCHAR *mem_596 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_597 ;
  BOOLEAN *mem_598 ;
  PDEVICE_OBJECT *mem_599 ;
  PDEVICE_OBJECT *mem_600 ;
  BOOLEAN *mem_601 ;
  BOOLEAN *mem_602 ;

  {
  {
#line 3904
  disketteExtension = (DISKETTE_EXTENSION *)Context;
#line 3905
  ntStatus = 0L;
#line 3915
  tmp = KeGetCurrentThread();
#line 3915
  KeSetPriorityThread(tmp, 16L);
#line 3917
  __cil_tmp13 = & queueWait;
#line 3917
  mem_500 = (LONGLONG *)__cil_tmp13;
#line 3917
  *mem_500 = -30000000LL;
#line 3918
  __cil_tmp14 = & acquireWait;
#line 3918
  mem_501 = (LONGLONG *)__cil_tmp14;
#line 3918
  *mem_501 = -150000000LL;
  }
  {
#line 3920
  while (1) {
    while_114_continue: /* CIL Label */ ;
    {
#line 3929
    __cil_tmp15 = (unsigned int )disketteExtension;
#line 3929
    __cil_tmp16 = __cil_tmp15 + 32;
#line 3929
    __cil_tmp17 = (KSEMAPHORE *)__cil_tmp16;
#line 3929
    __cil_tmp18 = (void *)__cil_tmp17;
#line 3929
    __cil_tmp19 = (enum _KWAIT_REASON )0;
#line 3929
    waitStatus = KeWaitForSingleObject(__cil_tmp18, __cil_tmp19, (char)0, (unsigned char)0,
                                       & queueWait);
    }
#line 3936
    if (waitStatus == 258L) {
      {
#line 3938
      __cil_tmp20 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 3938
      __cil_tmp21 = (unsigned int )__cil_tmp20;
#line 3938
      __cil_tmp22 = __cil_tmp21 + 732;
#line 3938
      mem_502 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp22;
#line 3938
      __cil_tmp23 = *mem_502;
#line 3938
      __cil_tmp24 = (int )__cil_tmp23;
#line 3938
      __cil_tmp25 = __cil_tmp24 == 1;
#line 3938
      if (! __cil_tmp25) {
        {
#line 3938
        __cil_tmp26 = (unsigned int )disketteExtension;
#line 3938
        __cil_tmp27 = __cil_tmp26 + 172;
        {
#line 3938
        mem_503 = (BOOLEAN *)__cil_tmp27;
#line 3938
        if (*mem_503) {
          {
#line 3943
          while (1) {
            while_115_continue: /* CIL Label */ ;
            goto while_115_break;
          }
          while_115_break: /* CIL Label */ ;
          }
          {
#line 3944
          __cil_tmp28 = (unsigned int )disketteExtension;
#line 3944
          __cil_tmp29 = __cil_tmp28 + 8;
#line 3944
          mem_504 = (PDEVICE_OBJECT *)__cil_tmp29;
#line 3944
          __cil_tmp30 = *mem_504;
#line 3944
          __cil_tmp31 = 775 << 2;
#line 3944
          __cil_tmp32 = 7 << 16;
#line 3944
          __cil_tmp33 = __cil_tmp32 | __cil_tmp31;
#line 3944
          __cil_tmp34 = __cil_tmp33 | 3;
#line 3944
          __cil_tmp35 = (unsigned long )__cil_tmp34;
#line 3944
          __cil_tmp36 = (void *)0;
#line 3944
          FlFdcDeviceIo(__cil_tmp30, __cil_tmp35, __cil_tmp36);
#line 3948
          __cil_tmp37 = (unsigned int )disketteExtension;
#line 3948
          __cil_tmp38 = __cil_tmp37 + 8;
#line 3948
          mem_505 = (PDEVICE_OBJECT *)__cil_tmp38;
#line 3948
          __cil_tmp39 = *mem_505;
#line 3948
          __cil_tmp40 = 769 << 2;
#line 3948
          __cil_tmp41 = 7 << 16;
#line 3948
          __cil_tmp42 = __cil_tmp41 | __cil_tmp40;
#line 3948
          __cil_tmp43 = __cil_tmp42 | 3;
#line 3948
          __cil_tmp44 = (unsigned long )__cil_tmp43;
#line 3948
          __cil_tmp45 = (unsigned int )disketteExtension;
#line 3948
          __cil_tmp46 = __cil_tmp45 + 28;
#line 3948
          mem_506 = (PDEVICE_OBJECT *)__cil_tmp46;
#line 3948
          __cil_tmp47 = *mem_506;
#line 3948
          __cil_tmp48 = (void *)__cil_tmp47;
#line 3948
          FlFdcDeviceIo(__cil_tmp39, __cil_tmp44, __cil_tmp48);
#line 3952
          __cil_tmp49 = (unsigned int )disketteExtension;
#line 3952
          __cil_tmp50 = __cil_tmp49 + 172;
#line 3952
          mem_507 = (BOOLEAN *)__cil_tmp50;
#line 3952
          *mem_507 = (unsigned char)0;
          }
        } else {

        }
        }
        }
      } else {

      }
      }
      {
#line 3956
      __cil_tmp51 = (unsigned int )disketteExtension;
#line 3956
      __cil_tmp52 = __cil_tmp51 + 56;
#line 3956
      __cil_tmp53 = (FAST_MUTEX *)__cil_tmp52;
#line 3956
      ExAcquireFastMutex(__cil_tmp53);
      }
      {
#line 3958
      __cil_tmp54 = (unsigned int )disketteExtension;
#line 3958
      __cil_tmp55 = __cil_tmp54 + 88;
#line 3958
      mem_508 = (LONG *)__cil_tmp55;
#line 3958
      __cil_tmp56 = *mem_508;
#line 3958
      if (__cil_tmp56 == 0L) {
#line 3959
        __cil_tmp57 = (unsigned int )disketteExtension;
#line 3959
        __cil_tmp58 = __cil_tmp57 + 88;
#line 3959
        mem_509 = (LONG *)__cil_tmp58;
#line 3959
        *mem_509 = -1L;
        {
#line 3969
        __cil_tmp59 = (void *)0;
#line 3969
        __cil_tmp60 = (unsigned int )__cil_tmp59;
#line 3969
        __cil_tmp61 = (unsigned int )disketteExtension;
#line 3969
        __cil_tmp62 = __cil_tmp61 + 92;
#line 3969
        mem_510 = (PKTHREAD *)__cil_tmp62;
#line 3969
        __cil_tmp63 = *mem_510;
#line 3969
        __cil_tmp64 = (unsigned int )__cil_tmp63;
#line 3969
        if (__cil_tmp64 != __cil_tmp60) {
          {
#line 3971
          __cil_tmp65 = (unsigned int )disketteExtension;
#line 3971
          __cil_tmp66 = __cil_tmp65 + 92;
#line 3971
          mem_511 = (PKTHREAD *)__cil_tmp66;
#line 3971
          __cil_tmp67 = *mem_511;
#line 3971
          __cil_tmp68 = (void *)__cil_tmp67;
#line 3971
          ObfDereferenceObject(__cil_tmp68);
#line 3972
          __cil_tmp69 = (unsigned int )disketteExtension;
#line 3972
          __cil_tmp70 = __cil_tmp69 + 92;
#line 3972
          __cil_tmp71 = (void *)0;
#line 3972
          mem_512 = (PKTHREAD *)__cil_tmp70;
#line 3972
          *mem_512 = (struct _KTHREAD *)__cil_tmp71;
          }
        } else {

        }
        }
        {
#line 3975
        __cil_tmp72 = (unsigned int )disketteExtension;
#line 3975
        __cil_tmp73 = __cil_tmp72 + 56;
#line 3975
        __cil_tmp74 = (FAST_MUTEX *)__cil_tmp73;
#line 3975
        ExReleaseFastMutex(__cil_tmp74);
        }
        {
#line 3977
        __cil_tmp75 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 3977
        __cil_tmp76 = (unsigned int )__cil_tmp75;
#line 3977
        __cil_tmp77 = __cil_tmp76 + 732;
#line 3977
        mem_513 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp77;
#line 3977
        __cil_tmp78 = *mem_513;
#line 3977
        __cil_tmp79 = (int )__cil_tmp78;
#line 3977
        if (__cil_tmp79 == 1) {
          {
#line 3978
          __cil_tmp80 = (unsigned int )disketteExtension;
#line 3978
          __cil_tmp81 = __cil_tmp80 + 392;
          {
#line 3978
          mem_514 = (BOOLEAN *)__cil_tmp81;
#line 3978
          if (*mem_514) {
            {
#line 3979
            __cil_tmp82 = (unsigned int )disketteExtension;
#line 3979
            __cil_tmp83 = __cil_tmp82 + 8;
#line 3979
            mem_515 = (PDEVICE_OBJECT *)__cil_tmp83;
#line 3979
            __cil_tmp84 = *mem_515;
#line 3979
            __cil_tmp85 = 768 << 2;
#line 3979
            __cil_tmp86 = 7 << 16;
#line 3979
            __cil_tmp87 = __cil_tmp86 | __cil_tmp85;
#line 3979
            __cil_tmp88 = __cil_tmp87 | 3;
#line 3979
            __cil_tmp89 = (unsigned long )__cil_tmp88;
#line 3979
            __cil_tmp90 = (void *)(& acquireWait);
#line 3979
            ntStatus = FlFdcDeviceIo(__cil_tmp84, __cil_tmp89, __cil_tmp90);
#line 3984
            __cil_tmp91 = (unsigned int )disketteExtension;
#line 3984
            __cil_tmp92 = __cil_tmp91 + 8;
#line 3984
            mem_516 = (PDEVICE_OBJECT *)__cil_tmp92;
#line 3984
            __cil_tmp93 = *mem_516;
#line 3984
            __cil_tmp94 = 775 << 2;
#line 3984
            __cil_tmp95 = 7 << 16;
#line 3984
            __cil_tmp96 = __cil_tmp95 | __cil_tmp94;
#line 3984
            __cil_tmp97 = __cil_tmp96 | 3;
#line 3984
            __cil_tmp98 = (unsigned long )__cil_tmp97;
#line 3984
            __cil_tmp99 = (void *)0;
#line 3984
            FlFdcDeviceIo(__cil_tmp93, __cil_tmp98, __cil_tmp99);
#line 3988
            __cil_tmp100 = (unsigned int )disketteExtension;
#line 3988
            __cil_tmp101 = __cil_tmp100 + 8;
#line 3988
            mem_517 = (PDEVICE_OBJECT *)__cil_tmp101;
#line 3988
            __cil_tmp102 = *mem_517;
#line 3988
            __cil_tmp103 = 769 << 2;
#line 3988
            __cil_tmp104 = 7 << 16;
#line 3988
            __cil_tmp105 = __cil_tmp104 | __cil_tmp103;
#line 3988
            __cil_tmp106 = __cil_tmp105 | 3;
#line 3988
            __cil_tmp107 = (unsigned long )__cil_tmp106;
#line 3988
            __cil_tmp108 = (unsigned int )disketteExtension;
#line 3988
            __cil_tmp109 = __cil_tmp108 + 28;
#line 3988
            mem_518 = (PDEVICE_OBJECT *)__cil_tmp109;
#line 3988
            __cil_tmp110 = *mem_518;
#line 3988
            __cil_tmp111 = (void *)__cil_tmp110;
#line 3988
            FlFdcDeviceIo(__cil_tmp102, __cil_tmp107, __cil_tmp111);
#line 3992
            __cil_tmp112 = (unsigned int )disketteExtension;
#line 3992
            __cil_tmp113 = __cil_tmp112 + 172;
#line 3992
            mem_519 = (BOOLEAN *)__cil_tmp113;
#line 3992
            *mem_519 = (unsigned char)0;
#line 3993
            __cil_tmp114 = (unsigned int )disketteExtension;
#line 3993
            __cil_tmp115 = __cil_tmp114 + 392;
#line 3993
            mem_520 = (BOOLEAN *)__cil_tmp115;
#line 3993
            *mem_520 = (unsigned char)0;
            }
          } else {

          }
          }
          }
        } else {

        }
        }
        {
#line 3997
        ExAcquireFastMutex(PagingMutex);
#line 3997
        PagingReferenceCount = PagingReferenceCount - 1UL;
        }
#line 3997
        if (PagingReferenceCount == 0UL) {
          {
#line 3997
          __cil_tmp116 = (void *)(& DriverEntry);
#line 3997
          MmPageEntireDriver(__cil_tmp116);
          }
        } else {

        }
        {
#line 3997
        ExReleaseFastMutex(PagingMutex);
        }
        {
#line 4001
        while (1) {
          while_116_continue: /* CIL Label */ ;
          goto while_116_break;
        }
        while_116_break: /* CIL Label */ ;
        }
        {
#line 4002
        PsTerminateSystemThread(0L);
        }
      } else {

      }
      }
      {
#line 4005
      __cil_tmp117 = (unsigned int )disketteExtension;
#line 4005
      __cil_tmp118 = __cil_tmp117 + 56;
#line 4005
      __cil_tmp119 = (FAST_MUTEX *)__cil_tmp118;
#line 4005
      ExReleaseFastMutex(__cil_tmp119);
      }
      goto __Cont;
    } else {

    }
    {
#line 4009
    while (1) {
      while_117_continue: /* CIL Label */ ;
      {
#line 4009
      __cil_tmp120 = (unsigned int )disketteExtension;
#line 4009
      __cil_tmp121 = __cil_tmp120 + 96;
#line 4009
      __cil_tmp122 = (LIST_ENTRY *)__cil_tmp121;
#line 4009
      __cil_tmp123 = (unsigned int )disketteExtension;
#line 4009
      __cil_tmp124 = __cil_tmp123 + 52;
#line 4009
      __cil_tmp125 = (KSPIN_LOCK *)__cil_tmp124;
#line 4009
      request = ExfInterlockedRemoveHeadList(__cil_tmp122, __cil_tmp125);
      }
#line 4009
      if (! request) {
        goto while_117_break;
      } else {

      }
      {
#line 4013
      __cil_tmp126 = (unsigned int )disketteExtension;
#line 4013
      __cil_tmp127 = __cil_tmp126 + 56;
#line 4013
      __cil_tmp128 = (FAST_MUTEX *)__cil_tmp127;
#line 4013
      ExAcquireFastMutex(__cil_tmp128);
#line 4015
      __cil_tmp129 = (unsigned int )disketteExtension;
#line 4015
      __cil_tmp130 = __cil_tmp129 + 88;
#line 4015
      __cil_tmp131 = (unsigned int )disketteExtension;
#line 4015
      __cil_tmp132 = __cil_tmp131 + 88;
#line 4015
      mem_521 = (LONG *)__cil_tmp132;
#line 4015
      __cil_tmp133 = *mem_521;
#line 4015
      mem_522 = (LONG *)__cil_tmp130;
#line 4015
      *mem_522 = __cil_tmp133 - 1L;
#line 4016
      __cil_tmp134 = (unsigned int )disketteExtension;
#line 4016
      __cil_tmp135 = __cil_tmp134 + 56;
#line 4016
      __cil_tmp136 = (FAST_MUTEX *)__cil_tmp135;
#line 4016
      ExReleaseFastMutex(__cil_tmp136);
#line 4018
      __cil_tmp137 = (unsigned int )disketteExtension;
#line 4018
      __cil_tmp138 = __cil_tmp137 + 104;
#line 4018
      mem_523 = (BOOLEAN *)__cil_tmp138;
#line 4018
      *mem_523 = (unsigned char)0;
#line 4020
      __cil_tmp139 = 0 + 24;
#line 4020
      __cil_tmp140 = 64 + __cil_tmp139;
#line 4020
      __cil_tmp141 = (IRP *)0;
#line 4020
      __cil_tmp142 = (unsigned int )__cil_tmp141;
#line 4020
      __cil_tmp143 = __cil_tmp142 + __cil_tmp140;
#line 4020
      __cil_tmp144 = (LIST_ENTRY *)__cil_tmp143;
#line 4020
      __cil_tmp145 = (unsigned long )__cil_tmp144;
#line 4020
      __cil_tmp146 = (CHAR *)request;
#line 4020
      __cil_tmp147 = __cil_tmp146 - __cil_tmp145;
#line 4020
      irp = (IRP *)__cil_tmp147;
#line 4026
      __cil_tmp148 = (unsigned int )disketteExtension;
#line 4026
      __cil_tmp149 = __cil_tmp148 + 396;
#line 4026
      __cil_tmp150 = (FAST_MUTEX *)__cil_tmp149;
#line 4026
      ExAcquireFastMutex(__cil_tmp150);
      }
      {
#line 4027
      __cil_tmp151 = (unsigned int )disketteExtension;
#line 4027
      __cil_tmp152 = __cil_tmp151 + 393;
#line 4027
      mem_524 = (BOOLEAN *)__cil_tmp152;
#line 4027
      __cil_tmp153 = *mem_524;
#line 4027
      __cil_tmp154 = (int )__cil_tmp153;
#line 4027
      if (__cil_tmp154 == 1) {
        {
#line 4028
        __cil_tmp155 = (unsigned int )disketteExtension;
#line 4028
        __cil_tmp156 = __cil_tmp155 + 396;
#line 4028
        __cil_tmp157 = (FAST_MUTEX *)__cil_tmp156;
#line 4028
        ExReleaseFastMutex(__cil_tmp157);
        }
        {
#line 4030
        while (1) {
          while_118_continue: /* CIL Label */ ;
          goto while_118_break;
        }
        while_118_break: /* CIL Label */ ;
        }
        {
#line 4032
        __cil_tmp158 = 0 + 24;
#line 4032
        __cil_tmp159 = 64 + __cil_tmp158;
#line 4032
        __cil_tmp160 = (IRP *)0;
#line 4032
        __cil_tmp161 = (unsigned int )__cil_tmp160;
#line 4032
        __cil_tmp162 = __cil_tmp161 + __cil_tmp159;
#line 4032
        __cil_tmp163 = (LIST_ENTRY *)__cil_tmp162;
#line 4032
        __cil_tmp164 = (unsigned long )__cil_tmp163;
#line 4032
        __cil_tmp165 = (CHAR *)request;
#line 4032
        __cil_tmp166 = __cil_tmp165 - __cil_tmp164;
#line 4032
        irp = (IRP *)__cil_tmp166;
#line 4033
        __cil_tmp167 = (unsigned int )irp;
#line 4033
        __cil_tmp168 = __cil_tmp167 + 24;
#line 4033
        mem_525 = (NTSTATUS *)__cil_tmp168;
#line 4033
        *mem_525 = -1073741101L;
#line 4034
        __cil_tmp169 = 24 + 4;
#line 4034
        __cil_tmp170 = (unsigned int )irp;
#line 4034
        __cil_tmp171 = __cil_tmp170 + __cil_tmp169;
#line 4034
        mem_526 = (ULONG_PTR *)__cil_tmp171;
#line 4034
        *mem_526 = 0UL;
#line 4035
        IofCompleteRequest(irp, (char)0);
        }
        goto while_117_continue;
      } else {

      }
      }
      {
#line 4038
      __cil_tmp172 = (unsigned int )disketteExtension;
#line 4038
      __cil_tmp173 = __cil_tmp172 + 396;
#line 4038
      __cil_tmp174 = (FAST_MUTEX *)__cil_tmp173;
#line 4038
      ExReleaseFastMutex(__cil_tmp174);
      }
      {
#line 4039
      while (1) {
        while_119_continue: /* CIL Label */ ;
        goto while_119_break;
      }
      while_119_break: /* CIL Label */ ;
      }
#line 4041
      __cil_tmp175 = 24 + 8;
#line 4041
      __cil_tmp176 = 0 + __cil_tmp175;
#line 4041
      __cil_tmp177 = 64 + __cil_tmp176;
#line 4041
      __cil_tmp178 = (unsigned int )irp;
#line 4041
      __cil_tmp179 = __cil_tmp178 + __cil_tmp177;
#line 4041
      mem_527 = (struct _IO_STACK_LOCATION **)__cil_tmp179;
#line 4041
      irpSp = *mem_527;
      {
#line 4047
      while (1) {
        while_120_continue: /* CIL Label */ ;
        goto while_120_break;
      }
      while_120_break: /* CIL Label */ ;
      }
      {
#line 4048
      mem_528 = (UCHAR *)irpSp;
#line 4048
      __cil_tmp180 = *mem_528;
#line 4049
      if ((int )__cil_tmp180 == 27) {
        goto switch_121_27;
      } else {
#line 4096
        if ((int )__cil_tmp180 == 3) {
          goto switch_121_3;
        } else {
#line 4097
          if ((int )__cil_tmp180 == 4) {
            goto switch_121_4;
          } else {
#line 4154
            if ((int )__cil_tmp180 == 14) {
              goto switch_121_14;
            } else {
              {
              goto switch_121_default;
#line 4048
              if (0) {
                switch_121_27: /* CIL Label */ ;
                {
#line 4052
                while (1) {
                  while_122_continue: /* CIL Label */ ;
                  goto while_122_break;
                }
                while_122_break: /* CIL Label */ ;
                }
                {
#line 4054
                __cil_tmp181 = (unsigned int )irpSp;
#line 4054
                __cil_tmp182 = __cil_tmp181 + 1;
#line 4054
                mem_529 = (UCHAR *)__cil_tmp182;
#line 4054
                __cil_tmp183 = *mem_529;
#line 4054
                __cil_tmp184 = (int )__cil_tmp183;
#line 4054
                if (__cil_tmp184 == 1) {
                  goto _L;
                } else {
                  {
#line 4054
                  __cil_tmp185 = (unsigned int )irpSp;
#line 4054
                  __cil_tmp186 = __cil_tmp185 + 1;
#line 4054
                  mem_530 = (UCHAR *)__cil_tmp186;
#line 4054
                  __cil_tmp187 = *mem_530;
#line 4054
                  __cil_tmp188 = (int )__cil_tmp187;
#line 4054
                  if (__cil_tmp188 == 5) {
                    _L: 
                    {
#line 4057
                    __cil_tmp189 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 4057
                    __cil_tmp190 = (unsigned int )__cil_tmp189;
#line 4057
                    __cil_tmp191 = __cil_tmp190 + 732;
#line 4057
                    mem_531 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp191;
#line 4057
                    __cil_tmp192 = *mem_531;
#line 4057
                    __cil_tmp193 = (int )__cil_tmp192;
#line 4057
                    if (__cil_tmp193 == 1) {
                      {
#line 4058
                      __cil_tmp194 = (unsigned int )disketteExtension;
#line 4058
                      __cil_tmp195 = __cil_tmp194 + 392;
                      {
#line 4058
                      mem_532 = (BOOLEAN *)__cil_tmp195;
#line 4058
                      if (*mem_532) {
                        {
#line 4059
                        __cil_tmp196 = (unsigned int )disketteExtension;
#line 4059
                        __cil_tmp197 = __cil_tmp196 + 8;
#line 4059
                        mem_533 = (PDEVICE_OBJECT *)__cil_tmp197;
#line 4059
                        __cil_tmp198 = *mem_533;
#line 4059
                        __cil_tmp199 = 768 << 2;
#line 4059
                        __cil_tmp200 = 7 << 16;
#line 4059
                        __cil_tmp201 = __cil_tmp200 | __cil_tmp199;
#line 4059
                        __cil_tmp202 = __cil_tmp201 | 3;
#line 4059
                        __cil_tmp203 = (unsigned long )__cil_tmp202;
#line 4059
                        __cil_tmp204 = (void *)(& acquireWait);
#line 4059
                        FlFdcDeviceIo(__cil_tmp198, __cil_tmp203, __cil_tmp204);
#line 4063
                        __cil_tmp205 = (unsigned int )disketteExtension;
#line 4063
                        __cil_tmp206 = __cil_tmp205 + 392;
#line 4063
                        mem_534 = (BOOLEAN *)__cil_tmp206;
#line 4063
                        *mem_534 = (unsigned char)0;
#line 4064
                        __cil_tmp207 = (unsigned int )disketteExtension;
#line 4064
                        __cil_tmp208 = __cil_tmp207 + 172;
#line 4064
                        mem_535 = (BOOLEAN *)__cil_tmp208;
#line 4064
                        *mem_535 = (unsigned char)1;
                        }
                      } else {

                      }
                      }
                      }
                    } else {

                    }
                    }
                    {
#line 4068
                    __cil_tmp209 = (unsigned int )disketteExtension;
#line 4068
                    __cil_tmp210 = __cil_tmp209 + 172;
                    {
#line 4068
                    mem_536 = (BOOLEAN *)__cil_tmp210;
#line 4068
                    if (*mem_536) {
                      {
#line 4070
                      __cil_tmp211 = (unsigned int )disketteExtension;
#line 4070
                      __cil_tmp212 = __cil_tmp211 + 8;
#line 4070
                      mem_537 = (PDEVICE_OBJECT *)__cil_tmp212;
#line 4070
                      __cil_tmp213 = *mem_537;
#line 4070
                      __cil_tmp214 = 775 << 2;
#line 4070
                      __cil_tmp215 = 7 << 16;
#line 4070
                      __cil_tmp216 = __cil_tmp215 | __cil_tmp214;
#line 4070
                      __cil_tmp217 = __cil_tmp216 | 3;
#line 4070
                      __cil_tmp218 = (unsigned long )__cil_tmp217;
#line 4070
                      __cil_tmp219 = (void *)0;
#line 4070
                      FlFdcDeviceIo(__cil_tmp213, __cil_tmp218, __cil_tmp219);
#line 4074
                      __cil_tmp220 = (unsigned int )disketteExtension;
#line 4074
                      __cil_tmp221 = __cil_tmp220 + 8;
#line 4074
                      mem_538 = (PDEVICE_OBJECT *)__cil_tmp221;
#line 4074
                      __cil_tmp222 = *mem_538;
#line 4074
                      __cil_tmp223 = 769 << 2;
#line 4074
                      __cil_tmp224 = 7 << 16;
#line 4074
                      __cil_tmp225 = __cil_tmp224 | __cil_tmp223;
#line 4074
                      __cil_tmp226 = __cil_tmp225 | 3;
#line 4074
                      __cil_tmp227 = (unsigned long )__cil_tmp226;
#line 4074
                      __cil_tmp228 = (unsigned int )disketteExtension;
#line 4074
                      __cil_tmp229 = __cil_tmp228 + 28;
#line 4074
                      mem_539 = (PDEVICE_OBJECT *)__cil_tmp229;
#line 4074
                      __cil_tmp230 = *mem_539;
#line 4074
                      __cil_tmp231 = (void *)__cil_tmp230;
#line 4074
                      FlFdcDeviceIo(__cil_tmp222, __cil_tmp227, __cil_tmp231);
#line 4078
                      __cil_tmp232 = (unsigned int )disketteExtension;
#line 4078
                      __cil_tmp233 = __cil_tmp232 + 172;
#line 4078
                      mem_540 = (BOOLEAN *)__cil_tmp233;
#line 4078
                      *mem_540 = (unsigned char)0;
                      }
                    } else {

                    }
                    }
                    }
                    {
#line 4082
                    __cil_tmp234 = (unsigned int )disketteExtension;
#line 4082
                    __cil_tmp235 = __cil_tmp234 + 56;
#line 4082
                    __cil_tmp236 = (FAST_MUTEX *)__cil_tmp235;
#line 4082
                    ExAcquireFastMutex(__cil_tmp236);
#line 4084
                    __cil_tmp237 = (unsigned int )disketteExtension;
#line 4084
                    __cil_tmp238 = __cil_tmp237 + 88;
#line 4084
                    mem_541 = (LONG *)__cil_tmp238;
#line 4084
                    *mem_541 = -1L;
#line 4085
                    __cil_tmp239 = (unsigned int )disketteExtension;
#line 4085
                    __cil_tmp240 = __cil_tmp239 + 56;
#line 4085
                    __cil_tmp241 = (FAST_MUTEX *)__cil_tmp240;
#line 4085
                    ExReleaseFastMutex(__cil_tmp241);
#line 4087
                    ExAcquireFastMutex(PagingMutex);
#line 4087
                    PagingReferenceCount = PagingReferenceCount - 1UL;
                    }
#line 4087
                    if (PagingReferenceCount == 0UL) {
                      {
#line 4087
                      __cil_tmp242 = (void *)(& DriverEntry);
#line 4087
                      MmPageEntireDriver(__cil_tmp242);
                      }
                    } else {

                    }
                    {
#line 4087
                    ExReleaseFastMutex(PagingMutex);
#line 4089
                    PsTerminateSystemThread(0L);
                    }
                  } else {
#line 4093
                    ntStatus = -1073741808L;
                  }
                  }
                }
                }
                goto switch_121_break;
                switch_121_3: /* CIL Label */ ;
                switch_121_4: /* CIL Label */ ;
                {
#line 4108
                __cil_tmp243 = (unsigned int )disketteExtension;
#line 4108
                __cil_tmp244 = __cil_tmp243 + 172;
#line 4108
                mem_542 = (BOOLEAN *)__cil_tmp244;
#line 4108
                __cil_tmp245 = *mem_542;
#line 4108
                if (! __cil_tmp245) {
                  {
#line 4110
                  __cil_tmp246 = (unsigned int )disketteExtension;
#line 4110
                  __cil_tmp247 = __cil_tmp246 + 8;
#line 4110
                  mem_543 = (PDEVICE_OBJECT *)__cil_tmp247;
#line 4110
                  __cil_tmp248 = *mem_543;
#line 4110
                  __cil_tmp249 = 768 << 2;
#line 4110
                  __cil_tmp250 = 7 << 16;
#line 4110
                  __cil_tmp251 = __cil_tmp250 | __cil_tmp249;
#line 4110
                  __cil_tmp252 = __cil_tmp251 | 3;
#line 4110
                  __cil_tmp253 = (unsigned long )__cil_tmp252;
#line 4110
                  __cil_tmp254 = (void *)(& acquireWait);
#line 4110
                  ntStatus = FlFdcDeviceIo(__cil_tmp248, __cil_tmp253, __cil_tmp254);
                  }
#line 4115
                  if (ntStatus >= 0L) {
#line 4116
                    __cil_tmp255 = (unsigned int )disketteExtension;
#line 4116
                    __cil_tmp256 = __cil_tmp255 + 172;
#line 4116
                    mem_544 = (BOOLEAN *)__cil_tmp256;
#line 4116
                    *mem_544 = (unsigned char)1;
                    {
#line 4117
                    __cil_tmp257 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 4117
                    __cil_tmp258 = (unsigned int )__cil_tmp257;
#line 4117
                    __cil_tmp259 = __cil_tmp258 + 732;
#line 4117
                    mem_545 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp259;
#line 4117
                    __cil_tmp260 = *mem_545;
#line 4117
                    __cil_tmp261 = (int )__cil_tmp260;
#line 4117
                    if (__cil_tmp261 == 1) {
#line 4117
                      __cil_tmp262 = (unsigned int )disketteExtension;
#line 4117
                      __cil_tmp263 = __cil_tmp262 + 392;
#line 4117
                      mem_546 = (BOOLEAN *)__cil_tmp263;
#line 4117
                      *mem_546 = (unsigned char)0;
                    } else {

                    }
                    }
                  } else {
                    goto switch_121_break;
                  }
                } else {

                }
                }
                {
#line 4128
                __cil_tmp264 = (unsigned int )disketteExtension;
#line 4128
                __cil_tmp265 = __cil_tmp264 + 28;
#line 4128
                mem_547 = (PDEVICE_OBJECT *)__cil_tmp265;
#line 4128
                __cil_tmp266 = *mem_547;
#line 4128
                __cil_tmp267 = (unsigned int )__cil_tmp266;
#line 4128
                __cil_tmp268 = __cil_tmp267 + 28;
#line 4128
                mem_548 = (ULONG *)__cil_tmp268;
#line 4128
                __cil_tmp269 = *mem_548;
#line 4128
                if (__cil_tmp269 & 2UL) {
                  {
#line 4128
                  __cil_tmp270 = (unsigned int )irpSp;
#line 4128
                  __cil_tmp271 = __cil_tmp270 + 2;
#line 4128
                  mem_549 = (UCHAR *)__cil_tmp271;
#line 4128
                  __cil_tmp272 = *mem_549;
#line 4128
                  __cil_tmp273 = (int )__cil_tmp272;
#line 4128
                  __cil_tmp274 = __cil_tmp273 & 2;
#line 4128
                  if (! __cil_tmp274) {
                    {
#line 4136
                    while (1) {
                      while_123_continue: /* CIL Label */ ;
                      goto while_123_break;
                    }
                    while_123_break: /* CIL Label */ ;
                    }
#line 4145
                    ntStatus = -2147483626L;
                  } else {
                    {
#line 4149
                    ntStatus = FlReadWrite(disketteExtension, irp, (unsigned char)0);
                    }
                  }
                  }
                } else {
                  {
#line 4149
                  ntStatus = FlReadWrite(disketteExtension, irp, (unsigned char)0);
                  }
                }
                }
                goto switch_121_break;
                switch_121_14: /* CIL Label */ ;
                {
#line 4161
                __cil_tmp275 = (unsigned int )disketteExtension;
#line 4161
                __cil_tmp276 = __cil_tmp275 + 172;
#line 4161
                mem_550 = (BOOLEAN *)__cil_tmp276;
#line 4161
                __cil_tmp277 = *mem_550;
#line 4161
                if (! __cil_tmp277) {
                  {
#line 4163
                  __cil_tmp278 = (unsigned int )disketteExtension;
#line 4163
                  __cil_tmp279 = __cil_tmp278 + 8;
#line 4163
                  mem_551 = (PDEVICE_OBJECT *)__cil_tmp279;
#line 4163
                  __cil_tmp280 = *mem_551;
#line 4163
                  __cil_tmp281 = 768 << 2;
#line 4163
                  __cil_tmp282 = 7 << 16;
#line 4163
                  __cil_tmp283 = __cil_tmp282 | __cil_tmp281;
#line 4163
                  __cil_tmp284 = __cil_tmp283 | 3;
#line 4163
                  __cil_tmp285 = (unsigned long )__cil_tmp284;
#line 4163
                  __cil_tmp286 = (void *)(& acquireWait);
#line 4163
                  ntStatus = FlFdcDeviceIo(__cil_tmp280, __cil_tmp285, __cil_tmp286);
                  }
#line 4168
                  if (ntStatus >= 0L) {
#line 4169
                    __cil_tmp287 = (unsigned int )disketteExtension;
#line 4169
                    __cil_tmp288 = __cil_tmp287 + 172;
#line 4169
                    mem_552 = (BOOLEAN *)__cil_tmp288;
#line 4169
                    *mem_552 = (unsigned char)1;
                    {
#line 4170
                    __cil_tmp289 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 4170
                    __cil_tmp290 = (unsigned int )__cil_tmp289;
#line 4170
                    __cil_tmp291 = __cil_tmp290 + 732;
#line 4170
                    mem_553 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp291;
#line 4170
                    __cil_tmp292 = *mem_553;
#line 4170
                    __cil_tmp293 = (int )__cil_tmp292;
#line 4170
                    if (__cil_tmp293 == 1) {
#line 4170
                      __cil_tmp294 = (unsigned int )disketteExtension;
#line 4170
                      __cil_tmp295 = __cil_tmp294 + 392;
#line 4170
                      mem_554 = (BOOLEAN *)__cil_tmp295;
#line 4170
                      *mem_554 = (unsigned char)0;
                    } else {

                    }
                    }
                  } else {
                    goto switch_121_break;
                  }
                } else {

                }
                }
                {
#line 4180
                __cil_tmp296 = (unsigned int )disketteExtension;
#line 4180
                __cil_tmp297 = __cil_tmp296 + 28;
#line 4180
                mem_555 = (PDEVICE_OBJECT *)__cil_tmp297;
#line 4180
                __cil_tmp298 = *mem_555;
#line 4180
                __cil_tmp299 = (unsigned int )__cil_tmp298;
#line 4180
                __cil_tmp300 = __cil_tmp299 + 28;
#line 4180
                mem_556 = (ULONG *)__cil_tmp300;
#line 4180
                __cil_tmp301 = *mem_556;
#line 4180
                if (__cil_tmp301 & 2UL) {
                  {
#line 4180
                  __cil_tmp302 = (unsigned int )irpSp;
#line 4180
                  __cil_tmp303 = __cil_tmp302 + 2;
#line 4180
                  mem_557 = (UCHAR *)__cil_tmp303;
#line 4180
                  __cil_tmp304 = *mem_557;
#line 4180
                  __cil_tmp305 = (int )__cil_tmp304;
#line 4180
                  __cil_tmp306 = __cil_tmp305 & 2;
#line 4180
                  if (! __cil_tmp306) {
                    {
#line 4188
                    while (1) {
                      while_124_continue: /* CIL Label */ ;
                      goto while_124_break;
                    }
                    while_124_break: /* CIL Label */ ;
                    }
#line 4196
                    ntStatus = -2147483626L;
                  } else {
                    goto _L___2;
                  }
                  }
                } else {
                  _L___2: 
                  {
#line 4200
                  __cil_tmp307 = 0 + 8;
#line 4200
                  __cil_tmp308 = 4 + __cil_tmp307;
#line 4200
                  __cil_tmp309 = (unsigned int )irpSp;
#line 4200
                  __cil_tmp310 = __cil_tmp309 + __cil_tmp308;
#line 4200
                  mem_558 = (ULONG *)__cil_tmp310;
#line 4200
                  __cil_tmp311 = *mem_558;
#line 4201
                  if ((int )__cil_tmp311 == (__cil_tmp315 | __cil_tmp312)) {
                    goto switch_125_exp_12;
                  } else {
#line 4202
                    if ((int )__cil_tmp311 == (__cil_tmp319 | __cil_tmp316)) {
                      goto switch_125_exp_13;
                    } else {
#line 4232
                      if ((int )__cil_tmp311 == (__cil_tmp329 | __cil_tmp328)) {
                        goto switch_125_exp_14;
                      } else {
#line 4261
                        if ((int )__cil_tmp311 == 7 << 16) {
                          goto switch_125_exp_15;
                        } else {
#line 4392
                          if ((int )__cil_tmp311 == (__cil_tmp399 | __cil_tmp396)) {
                            goto switch_125_exp_16;
                          } else {
#line 4393
                            if ((int )__cil_tmp311 == (__cil_tmp403 | __cil_tmp400)) {
                              goto switch_125_exp_17;
                            } else {
#line 4444
                              if ((int )__cil_tmp311 == (__cil_tmp407 | __cil_tmp406)) {
                                goto switch_125_exp_18;
                              } else {
#line 4200
                                if (0) {
                                  switch_125_exp_12: /* CIL Label */ 
                                  {
                                  __cil_tmp312 = 512 << 2;
                                  __cil_tmp313 = 1 << 14;
                                  __cil_tmp314 = 45 << 16;
                                  __cil_tmp315 = __cil_tmp314 | __cil_tmp313;

                                  }
                                  switch_125_exp_13: /* CIL Label */ 
                                  {
                                  __cil_tmp316 = 512 << 2;
                                  __cil_tmp317 = 1 << 14;
                                  __cil_tmp318 = 7 << 16;
                                  __cil_tmp319 = __cil_tmp318 | __cil_tmp317;

                                  }
                                  {
#line 4215
                                  while (1) {
                                    while_126_continue: /* CIL Label */ ;
                                    goto while_126_break;
                                  }
                                  while_126_break: /* CIL Label */ ;
                                  }
                                  {
#line 4223
                                  __cil_tmp320 = (unsigned int )irpSp;
#line 4223
                                  __cil_tmp321 = __cil_tmp320 + 2;
#line 4223
                                  mem_559 = (UCHAR *)__cil_tmp321;
#line 4223
                                  __cil_tmp322 = *mem_559;
#line 4223
                                  __cil_tmp323 = (int )__cil_tmp322;
#line 4223
                                  __cil_tmp324 = __cil_tmp323 & 2;
#line 4223
                                  __cil_tmp325 = ! __cil_tmp324;
#line 4223
                                  __cil_tmp326 = ! __cil_tmp325;
#line 4223
                                  __cil_tmp327 = (unsigned char )__cil_tmp326;
#line 4223
                                  ntStatus = FlStartDrive(disketteExtension, irp,
                                                          (unsigned char)0, (unsigned char)0,
                                                          __cil_tmp327);
                                  }
                                  goto switch_125_break;
                                  switch_125_exp_14: /* CIL Label */ 
                                  {
                                  __cil_tmp328 = 9 << 2;
                                  __cil_tmp329 = 7 << 16;

                                  }
                                  {
#line 4244
                                  while (1) {
                                    while_127_continue: /* CIL Label */ ;
                                    goto while_127_break;
                                  }
                                  while_127_break: /* CIL Label */ ;
                                  }
                                  {
#line 4246
                                  __cil_tmp330 = (unsigned int )disketteExtension;
#line 4246
                                  __cil_tmp331 = __cil_tmp330 + 250;
                                  {
#line 4246
                                  mem_560 = (BOOLEAN *)__cil_tmp331;
#line 4246
                                  if (*mem_560) {
#line 4248
                                    ntStatus = -1073741811L;
                                  } else {
                                    {
#line 4252
                                    ntStatus = FlStartDrive(disketteExtension, irp,
                                                            (unsigned char)1, (unsigned char)0,
                                                            (unsigned char)1);
                                    }
                                  }
                                  }
                                  }
                                  goto switch_125_break;
                                  switch_125_exp_15: /* CIL Label */ ;
                                  {
#line 4268
                                  while (1) {
                                    while_128_continue: /* CIL Label */ ;
                                    goto while_128_break;
                                  }
                                  while_128_break: /* CIL Label */ ;
                                  }
                                  {
#line 4276
                                  __cil_tmp332 = (unsigned long )52U;
#line 4276
                                  __cil_tmp333 = (unsigned int )irpSp;
#line 4276
                                  __cil_tmp334 = __cil_tmp333 + 4;
#line 4276
                                  mem_561 = (ULONG *)__cil_tmp334;
#line 4276
                                  __cil_tmp335 = *mem_561;
#line 4276
                                  if (__cil_tmp335 < __cil_tmp332) {
#line 4280
                                    ntStatus = -1073741811L;
                                  } else {
                                    {
#line 4284
                                    __cil_tmp336 = (unsigned int )irpSp;
#line 4284
                                    __cil_tmp337 = __cil_tmp336 + 2;
#line 4284
                                    mem_562 = (UCHAR *)__cil_tmp337;
#line 4284
                                    __cil_tmp338 = *mem_562;
#line 4284
                                    __cil_tmp339 = (int )__cil_tmp338;
#line 4284
                                    __cil_tmp340 = __cil_tmp339 & 2;
#line 4284
                                    __cil_tmp341 = ! __cil_tmp340;
#line 4284
                                    __cil_tmp342 = ! __cil_tmp341;
#line 4284
                                    __cil_tmp343 = (unsigned char )__cil_tmp342;
#line 4284
                                    ntStatus = FlStartDrive(disketteExtension, irp,
                                                            (unsigned char)0, (unsigned char)1,
                                                            __cil_tmp343);
                                    }
                                  }
                                  }
#line 4299
                                  if (ntStatus >= 0L) {
                                    goto _L___0;
                                  } else {
#line 4299
                                    if (ntStatus == -1073741804L) {
                                      _L___0: 
#line 4302
                                      __cil_tmp344 = (unsigned int )irp;
#line 4302
                                      __cil_tmp345 = __cil_tmp344 + 12;
#line 4302
                                      mem_563 = (PVOID *)__cil_tmp345;
#line 4302
                                      __cil_tmp346 = *mem_563;
#line 4302
                                      outputBuffer = (struct _DISK_GEOMETRY *)__cil_tmp346;
#line 4310
                                      ntStatus = 0L;
#line 4312
                                      __cil_tmp347 = (unsigned int )outputBuffer;
#line 4312
                                      __cil_tmp348 = __cil_tmp347 + 8;
#line 4312
                                      __cil_tmp349 = (unsigned int )disketteExtension;
#line 4312
                                      __cil_tmp350 = __cil_tmp349 + 184;
#line 4312
                                      mem_564 = (MEDIA_TYPE *)__cil_tmp348;
#line 4312
                                      mem_565 = (MEDIA_TYPE *)__cil_tmp350;
#line 4312
                                      *mem_564 = *mem_565;
                                      {
#line 4320
                                      __cil_tmp351 = (unsigned int )disketteExtension;
#line 4320
                                      __cil_tmp352 = __cil_tmp351 + 184;
#line 4320
                                      mem_566 = (MEDIA_TYPE *)__cil_tmp352;
#line 4320
                                      __cil_tmp353 = *mem_566;
#line 4320
                                      __cil_tmp354 = (int )__cil_tmp353;
#line 4320
                                      if (__cil_tmp354 == 0) {
                                        {
#line 4326
                                        while (1) {
                                          while_129_continue: /* CIL Label */ ;
                                          goto while_129_break;
                                        }
                                        while_129_break: /* CIL Label */ ;
                                        }
#line 4333
                                        mem_567 = (ULONG *)outputBuffer;
#line 4333
                                        *mem_567 = 0UL;
#line 4334
                                        __cil_tmp355 = 0 + 4;
#line 4334
                                        __cil_tmp356 = 0 + __cil_tmp355;
#line 4334
                                        __cil_tmp357 = (unsigned int )outputBuffer;
#line 4334
                                        __cil_tmp358 = __cil_tmp357 + __cil_tmp356;
#line 4334
                                        mem_568 = (LONG *)__cil_tmp358;
#line 4334
                                        *mem_568 = 0L;
#line 4335
                                        __cil_tmp359 = (unsigned int )outputBuffer;
#line 4335
                                        __cil_tmp360 = __cil_tmp359 + 40;
#line 4335
                                        mem_569 = (ULONG *)__cil_tmp360;
#line 4335
                                        *mem_569 = 0UL;
#line 4336
                                        __cil_tmp361 = (unsigned int )outputBuffer;
#line 4336
                                        __cil_tmp362 = __cil_tmp361 + 44;
#line 4336
                                        mem_570 = (ULONG *)__cil_tmp362;
#line 4336
                                        *mem_570 = 0UL;
#line 4337
                                        __cil_tmp363 = (unsigned int )outputBuffer;
#line 4337
                                        __cil_tmp364 = __cil_tmp363 + 48;
#line 4337
                                        mem_571 = (ULONG *)__cil_tmp364;
#line 4337
                                        *mem_571 = 0UL;
                                      } else {
                                        {
#line 4349
                                        while (1) {
                                          while_130_continue: /* CIL Label */ ;
                                          goto while_130_break;
                                        }
                                        while_130_break: /* CIL Label */ ;
                                        }
#line 4350
                                        __cil_tmp365 = 308 + 48;
#line 4350
                                        __cil_tmp366 = (unsigned int )disketteExtension;
#line 4350
                                        __cil_tmp367 = __cil_tmp366 + __cil_tmp365;
#line 4350
                                        mem_572 = (UCHAR *)__cil_tmp367;
#line 4350
                                        __cil_tmp368 = *mem_572;
#line 4350
                                        __cil_tmp369 = (int )__cil_tmp368;
#line 4350
                                        __cil_tmp370 = __cil_tmp369 + 1;
#line 4350
                                        mem_573 = (ULONG *)outputBuffer;
#line 4350
                                        *mem_573 = (unsigned long )__cil_tmp370;
#line 4354
                                        __cil_tmp371 = 0 + 4;
#line 4354
                                        __cil_tmp372 = 0 + __cil_tmp371;
#line 4354
                                        __cil_tmp373 = (unsigned int )outputBuffer;
#line 4354
                                        __cil_tmp374 = __cil_tmp373 + __cil_tmp372;
#line 4354
                                        mem_574 = (LONG *)__cil_tmp374;
#line 4354
                                        *mem_574 = 0L;
#line 4356
                                        __cil_tmp375 = (unsigned int )outputBuffer;
#line 4356
                                        __cil_tmp376 = __cil_tmp375 + 40;
#line 4356
                                        __cil_tmp377 = 308 + 51;
#line 4356
                                        __cil_tmp378 = (unsigned int )disketteExtension;
#line 4356
                                        __cil_tmp379 = __cil_tmp378 + __cil_tmp377;
#line 4356
                                        mem_575 = (UCHAR *)__cil_tmp379;
#line 4356
                                        __cil_tmp380 = *mem_575;
#line 4356
                                        mem_576 = (ULONG *)__cil_tmp376;
#line 4356
                                        *mem_576 = (unsigned long )__cil_tmp380;
#line 4360
                                        __cil_tmp381 = (unsigned int )outputBuffer;
#line 4360
                                        __cil_tmp382 = __cil_tmp381 + 44;
#line 4360
                                        __cil_tmp383 = 308 + 38;
#line 4360
                                        __cil_tmp384 = (unsigned int )disketteExtension;
#line 4360
                                        __cil_tmp385 = __cil_tmp384 + __cil_tmp383;
#line 4360
                                        mem_577 = (UCHAR *)__cil_tmp385;
#line 4360
                                        __cil_tmp386 = *mem_577;
#line 4360
                                        mem_578 = (ULONG *)__cil_tmp382;
#line 4360
                                        *mem_578 = (unsigned long )__cil_tmp386;
#line 4364
                                        __cil_tmp387 = (unsigned int )outputBuffer;
#line 4364
                                        __cil_tmp388 = __cil_tmp387 + 48;
#line 4364
                                        __cil_tmp389 = 308 + 36;
#line 4364
                                        __cil_tmp390 = (unsigned int )disketteExtension;
#line 4364
                                        __cil_tmp391 = __cil_tmp390 + __cil_tmp389;
#line 4364
                                        mem_579 = (USHORT *)__cil_tmp391;
#line 4364
                                        __cil_tmp392 = *mem_579;
#line 4364
                                        mem_580 = (ULONG *)__cil_tmp388;
#line 4364
                                        *mem_580 = (unsigned long )__cil_tmp392;
                                      }
                                      }
                                      {
#line 4384
                                      while (1) {
                                        while_131_continue: /* CIL Label */ ;
                                        goto while_131_break;
                                      }
                                      while_131_break: /* CIL Label */ ;
                                      }
                                    } else {

                                    }
                                  }
#line 4388
                                  __cil_tmp393 = 24 + 4;
#line 4388
                                  __cil_tmp394 = (unsigned int )irp;
#line 4388
                                  __cil_tmp395 = __cil_tmp394 + __cil_tmp393;
#line 4388
                                  mem_581 = (ULONG_PTR *)__cil_tmp395;
#line 4388
                                  *mem_581 = (unsigned long )52U;
                                  goto switch_125_break;
                                  switch_125_exp_16: /* CIL Label */ 
                                  {
                                  __cil_tmp396 = 11 << 2;
                                  __cil_tmp397 = 3 << 14;
                                  __cil_tmp398 = 7 << 16;
                                  __cil_tmp399 = __cil_tmp398 | __cil_tmp397;

                                  }
                                  switch_125_exp_17: /* CIL Label */ 
                                  {
                                  __cil_tmp400 = 6 << 2;
                                  __cil_tmp401 = 3 << 14;
                                  __cil_tmp402 = 7 << 16;
                                  __cil_tmp403 = __cil_tmp402 | __cil_tmp401;

                                  }
                                  {
#line 4400
                                  while (1) {
                                    while_132_continue: /* CIL Label */ ;
                                    goto while_132_break;
                                  }
                                  while_132_break: /* CIL Label */ ;
                                  }
                                  {
#line 4407
                                  ntStatus = FlStartDrive(disketteExtension, irp,
                                                          (unsigned char)1, (unsigned char)0,
                                                          (unsigned char)0);
                                  }
#line 4420
                                  if (ntStatus >= 0L) {
                                    goto _L___1;
                                  } else {
#line 4420
                                    if (ntStatus == -1073741804L) {
                                      _L___1: 
                                      {
#line 4432
                                      FlAllocateIoBuffer(disketteExtension, 4096UL);
                                      }
                                      {
#line 4435
                                      __cil_tmp404 = (unsigned int )disketteExtension;
#line 4435
                                      __cil_tmp405 = __cil_tmp404 + 124;
                                      {
#line 4435
                                      mem_582 = (PUCHAR *)__cil_tmp405;
#line 4435
                                      if (*mem_582) {
                                        {
#line 4436
                                        ntStatus = FlFormat(disketteExtension, irp);
                                        }
                                      } else {
#line 4439
                                        ntStatus = -1073741670L;
                                      }
                                      }
                                      }
                                    } else {

                                    }
                                  }
                                  goto switch_125_break;
                                  switch_125_exp_18: /* CIL Label */ 
                                  {
                                  __cil_tmp406 = 248 << 2;
                                  __cil_tmp407 = 7 << 16;

                                  }
                                  {
#line 4448
                                  __cil_tmp408 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 4448
                                  __cil_tmp409 = (unsigned int )__cil_tmp408;
#line 4448
                                  __cil_tmp410 = __cil_tmp409 + 732;
#line 4448
                                  mem_583 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp410;
#line 4448
                                  __cil_tmp411 = *mem_583;
#line 4448
                                  __cil_tmp412 = (int )__cil_tmp411;
#line 4448
                                  if (__cil_tmp412 == 1) {
                                    {
#line 4449
                                    __cil_tmp413 = 0 * 1U;
#line 4449
                                    __cil_tmp414 = 112 + __cil_tmp413;
#line 4449
                                    __cil_tmp415 = (unsigned int )disketteExtension;
#line 4449
                                    __cil_tmp416 = __cil_tmp415 + __cil_tmp414;
#line 4449
                                    mem_584 = (UCHAR *)__cil_tmp416;
#line 4449
                                    *mem_584 = (unsigned char)14;
#line 4450
                                    __cil_tmp417 = 1 * 1U;
#line 4450
                                    __cil_tmp418 = 112 + __cil_tmp417;
#line 4450
                                    __cil_tmp419 = (unsigned int )disketteExtension;
#line 4450
                                    __cil_tmp420 = __cil_tmp419 + __cil_tmp418;
#line 4450
                                    __cil_tmp421 = (unsigned int )disketteExtension;
#line 4450
                                    __cil_tmp422 = __cil_tmp421 + 248;
#line 4450
                                    mem_585 = (UCHAR *)__cil_tmp420;
#line 4450
                                    mem_586 = (UCHAR *)__cil_tmp422;
#line 4450
                                    *mem_585 = *mem_586;
#line 4452
                                    __cil_tmp423 = 0 * 1U;
#line 4452
                                    __cil_tmp424 = 112 + __cil_tmp423;
#line 4452
                                    __cil_tmp425 = (unsigned int )disketteExtension;
#line 4452
                                    __cil_tmp426 = __cil_tmp425 + __cil_tmp424;
#line 4452
                                    __cil_tmp427 = (UCHAR *)__cil_tmp426;
#line 4452
                                    __cil_tmp428 = 0 * 1U;
#line 4452
                                    __cil_tmp429 = 112 + __cil_tmp428;
#line 4452
                                    __cil_tmp430 = (unsigned int )disketteExtension;
#line 4452
                                    __cil_tmp431 = __cil_tmp430 + __cil_tmp429;
#line 4452
                                    __cil_tmp432 = (UCHAR *)__cil_tmp431;
#line 4452
                                    __cil_tmp433 = (void *)0;
#line 4452
                                    __cil_tmp434 = (struct _MDL *)__cil_tmp433;
#line 4452
                                    ntStatus = FlIssueCommand(disketteExtension, __cil_tmp427,
                                                              __cil_tmp432, __cil_tmp434,
                                                              0UL, 0UL);
                                    }
#line 4459
                                    if (ntStatus >= 0L) {
#line 4461
                                      __cil_tmp435 = (unsigned int )irp;
#line 4461
                                      __cil_tmp436 = __cil_tmp435 + 12;
#line 4461
                                      mem_587 = (PVOID *)__cil_tmp436;
#line 4461
                                      __cil_tmp437 = *mem_587;
#line 4461
                                      outputBuffer___0 = (struct _SENSE_DEVISE_STATUS_PTOS *)__cil_tmp437;
#line 4463
                                      __cil_tmp438 = 0 * 1U;
#line 4463
                                      __cil_tmp439 = (unsigned int )(Result_Status3_PTOS) + __cil_tmp438;
#line 4463
                                      mem_588 = (UCHAR *)outputBuffer___0;
#line 4463
                                      mem_589 = (UCHAR *)__cil_tmp439;
#line 4463
                                      *mem_588 = *mem_589;
#line 4466
                                      __cil_tmp440 = 24 + 4;
#line 4466
                                      __cil_tmp441 = (unsigned int )irp;
#line 4466
                                      __cil_tmp442 = __cil_tmp441 + __cil_tmp440;
#line 4466
                                      mem_590 = (ULONG_PTR *)__cil_tmp442;
#line 4466
                                      *mem_590 = (unsigned long )1U;
                                    } else {

                                    }
                                    goto switch_125_break;
                                  } else {

                                  }
                                  }
                                } else {
                                  switch_125_break: /* CIL Label */ ;
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  }
                }
                }
                goto switch_121_break;
                switch_121_default: /* CIL Label */ ;
                {
#line 4483
                while (1) {
                  while_133_continue: /* CIL Label */ ;
                  goto while_133_break;
                }
                while_133_break: /* CIL Label */ ;
                }
#line 4485
                ntStatus = -1073741822L;
              } else {
                switch_121_break: /* CIL Label */ ;
              }
              }
            }
          }
        }
      }
      }
#line 4490
      if (ntStatus == -2147483631L) {
        {
#line 4496
        while (1) {
          while_134_continue: /* CIL Label */ ;
          {
#line 4498
          __cil_tmp443 = (unsigned int )disketteExtension;
#line 4498
          __cil_tmp444 = __cil_tmp443 + 104;
#line 4498
          mem_591 = (BOOLEAN *)__cil_tmp444;
#line 4498
          *mem_591 = (unsigned char)0;
#line 4500
          __cil_tmp445 = (unsigned int )irp;
#line 4500
          __cil_tmp446 = __cil_tmp445 + 24;
#line 4500
          mem_592 = (NTSTATUS *)__cil_tmp446;
#line 4500
          *mem_592 = -2147483631L;
#line 4502
          IofCompleteRequest(irp, (char)1);
#line 4504
          __cil_tmp447 = (unsigned int )disketteExtension;
#line 4504
          __cil_tmp448 = __cil_tmp447 + 96;
#line 4504
          __cil_tmp449 = (LIST_ENTRY *)__cil_tmp448;
#line 4504
          __cil_tmp450 = (unsigned int )disketteExtension;
#line 4504
          __cil_tmp451 = __cil_tmp450 + 52;
#line 4504
          __cil_tmp452 = (KSPIN_LOCK *)__cil_tmp451;
#line 4504
          request = ExfInterlockedRemoveHeadList(__cil_tmp449, __cil_tmp452);
          }
#line 4508
          if (! request) {
            goto while_134_break;
          } else {

          }
          {
#line 4512
          __cil_tmp453 = (unsigned int )disketteExtension;
#line 4512
          __cil_tmp454 = __cil_tmp453 + 56;
#line 4512
          __cil_tmp455 = (FAST_MUTEX *)__cil_tmp454;
#line 4512
          ExAcquireFastMutex(__cil_tmp455);
#line 4515
          __cil_tmp456 = (unsigned int )disketteExtension;
#line 4515
          __cil_tmp457 = __cil_tmp456 + 88;
#line 4515
          __cil_tmp458 = (unsigned int )disketteExtension;
#line 4515
          __cil_tmp459 = __cil_tmp458 + 88;
#line 4515
          mem_593 = (LONG *)__cil_tmp459;
#line 4515
          __cil_tmp460 = *mem_593;
#line 4515
          mem_594 = (LONG *)__cil_tmp457;
#line 4515
          *mem_594 = __cil_tmp460 - 1L;
#line 4516
          __cil_tmp461 = (unsigned int )disketteExtension;
#line 4516
          __cil_tmp462 = __cil_tmp461 + 56;
#line 4516
          __cil_tmp463 = (FAST_MUTEX *)__cil_tmp462;
#line 4516
          ExReleaseFastMutex(__cil_tmp463);
#line 4519
          __cil_tmp464 = 0 + 24;
#line 4519
          __cil_tmp465 = 64 + __cil_tmp464;
#line 4519
          __cil_tmp466 = (IRP *)0;
#line 4519
          __cil_tmp467 = (unsigned int )__cil_tmp466;
#line 4519
          __cil_tmp468 = __cil_tmp467 + __cil_tmp465;
#line 4519
          __cil_tmp469 = (LIST_ENTRY *)__cil_tmp468;
#line 4519
          __cil_tmp470 = (unsigned long )__cil_tmp469;
#line 4519
          __cil_tmp471 = (CHAR *)request;
#line 4519
          __cil_tmp472 = __cil_tmp471 - __cil_tmp470;
#line 4519
          irp = (IRP *)__cil_tmp472;
          }
        }
        while_134_break: /* CIL Label */ ;
        }
      } else {
#line 4531
        __cil_tmp473 = (unsigned int )irp;
#line 4531
        __cil_tmp474 = __cil_tmp473 + 24;
#line 4531
        mem_595 = (NTSTATUS *)__cil_tmp474;
#line 4531
        *mem_595 = ntStatus;
        {
#line 4536
        __cil_tmp475 = (unsigned int )disketteExtension;
#line 4536
        __cil_tmp476 = __cil_tmp475 + 124;
        {
#line 4536
        mem_596 = (PUCHAR *)__cil_tmp476;
#line 4536
        if (*mem_596) {
          {
#line 4537
          FlFreeIoBuffer(disketteExtension);
          }
        } else {

        }
        }
        }
        {
#line 4540
        FlFinishOperation(irp, disketteExtension);
        }
      }
    }
    while_117_break: /* CIL Label */ ;
    }
    {
#line 4546
    __cil_tmp477 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 4546
    __cil_tmp478 = (unsigned int )__cil_tmp477;
#line 4546
    __cil_tmp479 = __cil_tmp478 + 732;
#line 4546
    mem_597 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp479;
#line 4546
    __cil_tmp480 = *mem_597;
#line 4546
    __cil_tmp481 = (int )__cil_tmp480;
#line 4546
    if (__cil_tmp481 == 1) {
      {
#line 4547
      __cil_tmp482 = (unsigned int )disketteExtension;
#line 4547
      __cil_tmp483 = __cil_tmp482 + 172;
      {
#line 4547
      mem_598 = (BOOLEAN *)__cil_tmp483;
#line 4547
      if (*mem_598) {
        {
#line 4548
        __cil_tmp484 = (unsigned int )disketteExtension;
#line 4548
        __cil_tmp485 = __cil_tmp484 + 8;
#line 4548
        mem_599 = (PDEVICE_OBJECT *)__cil_tmp485;
#line 4548
        __cil_tmp486 = *mem_599;
#line 4548
        __cil_tmp487 = 769 << 2;
#line 4548
        __cil_tmp488 = 7 << 16;
#line 4548
        __cil_tmp489 = __cil_tmp488 | __cil_tmp487;
#line 4548
        __cil_tmp490 = __cil_tmp489 | 3;
#line 4548
        __cil_tmp491 = (unsigned long )__cil_tmp490;
#line 4548
        __cil_tmp492 = (unsigned int )disketteExtension;
#line 4548
        __cil_tmp493 = __cil_tmp492 + 28;
#line 4548
        mem_600 = (PDEVICE_OBJECT *)__cil_tmp493;
#line 4548
        __cil_tmp494 = *mem_600;
#line 4548
        __cil_tmp495 = (void *)__cil_tmp494;
#line 4548
        FlFdcDeviceIo(__cil_tmp486, __cil_tmp491, __cil_tmp495);
#line 4552
        __cil_tmp496 = (unsigned int )disketteExtension;
#line 4552
        __cil_tmp497 = __cil_tmp496 + 172;
#line 4552
        mem_601 = (BOOLEAN *)__cil_tmp497;
#line 4552
        *mem_601 = (unsigned char)0;
#line 4553
        __cil_tmp498 = (unsigned int )disketteExtension;
#line 4553
        __cil_tmp499 = __cil_tmp498 + 392;
#line 4553
        mem_602 = (BOOLEAN *)__cil_tmp499;
#line 4553
        *mem_602 = (unsigned char)1;
        }
      } else {

      }
      }
      }
    } else {

    }
    }
    __Cont: ;
  }
  while_114_break: /* CIL Label */ ;
  }
}
}
#line 4560 "floppy.c"
void FlConsolidateMediaTypeWithBootSector(PDISKETTE_EXTENSION DisketteExtension ,
                                          PBOOT_SECTOR_INFO BootSector ) 
{ USHORT bpbNumberOfSectors ;
  USHORT bpbNumberOfHeads ;
  USHORT bpbSectorsPerTrack ;
  USHORT bpbBytesPerSector ;
  USHORT bpbMediaByte ;
  USHORT bpbMaximumTrack ;
  MEDIA_TYPE bpbMediaType ;
  ULONG i ;
  ULONG n ;
  PDRIVE_MEDIA_CONSTANTS readidDriveMediaConstants ;
  BOOLEAN changeToBpbMedia ;
  int tmp ;
  SIZE_T tmp___0 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  UCHAR __cil_tmp20 ;
  int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  UCHAR __cil_tmp26 ;
  int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  UCHAR __cil_tmp32 ;
  int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  UCHAR __cil_tmp38 ;
  int __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  UCHAR __cil_tmp46 ;
  int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  UCHAR __cil_tmp52 ;
  int __cil_tmp53 ;
  int __cil_tmp54 ;
  int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  UCHAR __cil_tmp60 ;
  int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  UCHAR __cil_tmp66 ;
  int __cil_tmp67 ;
  int __cil_tmp68 ;
  int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  UCHAR __cil_tmp74 ;
  int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  unsigned int __cil_tmp79 ;
  UCHAR __cil_tmp80 ;
  int __cil_tmp81 ;
  int __cil_tmp82 ;
  int __cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  unsigned int __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  UCHAR __cil_tmp88 ;
  int __cil_tmp89 ;
  int __cil_tmp90 ;
  int __cil_tmp91 ;
  int __cil_tmp92 ;
  int __cil_tmp93 ;
  int __cil_tmp94 ;
  KUSER_SHARED_DATA *__cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp98 ;
  int __cil_tmp99 ;
  unsigned long __cil_tmp100 ;
  int __cil_tmp101 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  USHORT __cil_tmp105 ;
  int __cil_tmp106 ;
  int __cil_tmp107 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp108 ;
  unsigned int __cil_tmp109 ;
  unsigned int __cil_tmp110 ;
  UCHAR __cil_tmp111 ;
  int __cil_tmp112 ;
  int __cil_tmp113 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  unsigned int __cil_tmp116 ;
  UCHAR __cil_tmp117 ;
  int __cil_tmp118 ;
  int __cil_tmp119 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  UCHAR __cil_tmp123 ;
  int __cil_tmp124 ;
  int __cil_tmp125 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp126 ;
  unsigned int __cil_tmp127 ;
  unsigned int __cil_tmp128 ;
  UCHAR __cil_tmp129 ;
  int __cil_tmp130 ;
  int __cil_tmp131 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  UCHAR __cil_tmp135 ;
  int __cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  MEDIA_TYPE __cil_tmp139 ;
  int __cil_tmp140 ;
  int __cil_tmp141 ;
  unsigned int __cil_tmp142 ;
  unsigned int __cil_tmp143 ;
  unsigned int __cil_tmp144 ;
  unsigned int __cil_tmp145 ;
  USHORT __cil_tmp146 ;
  int __cil_tmp147 ;
  int __cil_tmp148 ;
  int __cil_tmp149 ;
  unsigned int __cil_tmp150 ;
  unsigned int __cil_tmp151 ;
  UCHAR __cil_tmp152 ;
  int __cil_tmp153 ;
  int __cil_tmp154 ;
  unsigned int __cil_tmp155 ;
  unsigned int __cil_tmp156 ;
  UCHAR __cil_tmp157 ;
  int __cil_tmp158 ;
  int __cil_tmp159 ;
  int __cil_tmp160 ;
  unsigned int __cil_tmp161 ;
  unsigned int __cil_tmp162 ;
  unsigned int __cil_tmp163 ;
  unsigned int __cil_tmp164 ;
  unsigned int __cil_tmp165 ;
  UCHAR __cil_tmp166 ;
  int __cil_tmp167 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp168 ;
  unsigned int __cil_tmp169 ;
  unsigned int __cil_tmp170 ;
  DRIVE_MEDIA_TYPE __cil_tmp171 ;
  unsigned int __cil_tmp172 ;
  unsigned int __cil_tmp173 ;
  UCHAR __cil_tmp174 ;
  int __cil_tmp175 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp176 ;
  DRIVE_MEDIA_TYPE __cil_tmp177 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp178 ;
  MEDIA_TYPE __cil_tmp179 ;
  int __cil_tmp180 ;
  int __cil_tmp181 ;
  unsigned int __cil_tmp182 ;
  unsigned int __cil_tmp183 ;
  unsigned int __cil_tmp184 ;
  unsigned int __cil_tmp185 ;
  unsigned int __cil_tmp186 ;
  unsigned int __cil_tmp187 ;
  int __cil_tmp188 ;
  int __cil_tmp189 ;
  int __cil_tmp190 ;
  unsigned int __cil_tmp191 ;
  unsigned int __cil_tmp192 ;
  unsigned int __cil_tmp193 ;
  unsigned int __cil_tmp194 ;
  unsigned int __cil_tmp195 ;
  unsigned int __cil_tmp196 ;
  unsigned int __cil_tmp197 ;
  unsigned int __cil_tmp198 ;
  unsigned int __cil_tmp199 ;
  unsigned int __cil_tmp200 ;
  UCHAR *__cil_tmp201 ;
  void const   *__cil_tmp202 ;
  void const   *__cil_tmp203 ;
  unsigned int __cil_tmp204 ;
  unsigned int __cil_tmp205 ;
  UCHAR *mem_206 ;
  UCHAR *mem_207 ;
  UCHAR *mem_208 ;
  UCHAR *mem_209 ;
  UCHAR *mem_210 ;
  UCHAR *mem_211 ;
  UCHAR *mem_212 ;
  UCHAR *mem_213 ;
  UCHAR *mem_214 ;
  UCHAR *mem_215 ;
  UCHAR *mem_216 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_217 ;
  USHORT *mem_218 ;
  UCHAR *mem_219 ;
  UCHAR *mem_220 ;
  UCHAR *mem_221 ;
  UCHAR *mem_222 ;
  MEDIA_TYPE *mem_223 ;
  UCHAR *mem_224 ;
  MEDIA_TYPE *mem_225 ;
  USHORT *mem_226 ;
  UCHAR *mem_227 ;
  UCHAR *mem_228 ;
  MEDIA_TYPE *mem_229 ;
  UCHAR *mem_230 ;
  UCHAR *mem_231 ;
  DRIVE_MEDIA_TYPE *mem_232 ;
  UCHAR *mem_233 ;
  DRIVE_MEDIA_TYPE *mem_234 ;
  MEDIA_TYPE *mem_235 ;
  DRIVE_MEDIA_TYPE *mem_236 ;
  MEDIA_TYPE *mem_237 ;
  ULONG *mem_238 ;
  UCHAR *mem_239 ;
  UCHAR *mem_240 ;
  BOOLEAN *mem_241 ;

  {
  {
#line 4598
  while (1) {
    while_135_continue: /* CIL Label */ ;
    goto while_135_break;
  }
  while_135_break: /* CIL Label */ ;
  }
  {
#line 4600
  __cil_tmp16 = 0 * 1U;
#line 4600
  __cil_tmp17 = 0 + __cil_tmp16;
#line 4600
  __cil_tmp18 = (unsigned int )BootSector;
#line 4600
  __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
#line 4600
  mem_206 = (UCHAR *)__cil_tmp19;
#line 4600
  __cil_tmp20 = *mem_206;
#line 4600
  __cil_tmp21 = (int )__cil_tmp20;
#line 4600
  if (__cil_tmp21 != 235) {
    {
#line 4600
    __cil_tmp22 = 0 * 1U;
#line 4600
    __cil_tmp23 = 0 + __cil_tmp22;
#line 4600
    __cil_tmp24 = (unsigned int )BootSector;
#line 4600
    __cil_tmp25 = __cil_tmp24 + __cil_tmp23;
#line 4600
    mem_207 = (UCHAR *)__cil_tmp25;
#line 4600
    __cil_tmp26 = *mem_207;
#line 4600
    __cil_tmp27 = (int )__cil_tmp26;
#line 4600
    if (__cil_tmp27 != 233) {

    } else {

    }
    }
  } else {

  }
  }
#line 4607
  __cil_tmp28 = 0 * 1U;
#line 4607
  __cil_tmp29 = 19 + __cil_tmp28;
#line 4607
  __cil_tmp30 = (unsigned int )BootSector;
#line 4607
  __cil_tmp31 = __cil_tmp30 + __cil_tmp29;
#line 4607
  mem_208 = (UCHAR *)__cil_tmp31;
#line 4607
  __cil_tmp32 = *mem_208;
#line 4607
  __cil_tmp33 = (int )__cil_tmp32;
#line 4607
  __cil_tmp34 = 1 * 1U;
#line 4607
  __cil_tmp35 = 19 + __cil_tmp34;
#line 4607
  __cil_tmp36 = (unsigned int )BootSector;
#line 4607
  __cil_tmp37 = __cil_tmp36 + __cil_tmp35;
#line 4607
  mem_209 = (UCHAR *)__cil_tmp37;
#line 4607
  __cil_tmp38 = *mem_209;
#line 4607
  __cil_tmp39 = (int )__cil_tmp38;
#line 4607
  __cil_tmp40 = __cil_tmp39 * 256;
#line 4607
  __cil_tmp41 = __cil_tmp40 + __cil_tmp33;
#line 4607
  bpbNumberOfSectors = (unsigned short )__cil_tmp41;
#line 4609
  __cil_tmp42 = 0 * 1U;
#line 4609
  __cil_tmp43 = 26 + __cil_tmp42;
#line 4609
  __cil_tmp44 = (unsigned int )BootSector;
#line 4609
  __cil_tmp45 = __cil_tmp44 + __cil_tmp43;
#line 4609
  mem_210 = (UCHAR *)__cil_tmp45;
#line 4609
  __cil_tmp46 = *mem_210;
#line 4609
  __cil_tmp47 = (int )__cil_tmp46;
#line 4609
  __cil_tmp48 = 1 * 1U;
#line 4609
  __cil_tmp49 = 26 + __cil_tmp48;
#line 4609
  __cil_tmp50 = (unsigned int )BootSector;
#line 4609
  __cil_tmp51 = __cil_tmp50 + __cil_tmp49;
#line 4609
  mem_211 = (UCHAR *)__cil_tmp51;
#line 4609
  __cil_tmp52 = *mem_211;
#line 4609
  __cil_tmp53 = (int )__cil_tmp52;
#line 4609
  __cil_tmp54 = __cil_tmp53 * 256;
#line 4609
  __cil_tmp55 = __cil_tmp54 + __cil_tmp47;
#line 4609
  bpbNumberOfHeads = (unsigned short )__cil_tmp55;
#line 4611
  __cil_tmp56 = 0 * 1U;
#line 4611
  __cil_tmp57 = 24 + __cil_tmp56;
#line 4611
  __cil_tmp58 = (unsigned int )BootSector;
#line 4611
  __cil_tmp59 = __cil_tmp58 + __cil_tmp57;
#line 4611
  mem_212 = (UCHAR *)__cil_tmp59;
#line 4611
  __cil_tmp60 = *mem_212;
#line 4611
  __cil_tmp61 = (int )__cil_tmp60;
#line 4611
  __cil_tmp62 = 1 * 1U;
#line 4611
  __cil_tmp63 = 24 + __cil_tmp62;
#line 4611
  __cil_tmp64 = (unsigned int )BootSector;
#line 4611
  __cil_tmp65 = __cil_tmp64 + __cil_tmp63;
#line 4611
  mem_213 = (UCHAR *)__cil_tmp65;
#line 4611
  __cil_tmp66 = *mem_213;
#line 4611
  __cil_tmp67 = (int )__cil_tmp66;
#line 4611
  __cil_tmp68 = __cil_tmp67 * 256;
#line 4611
  __cil_tmp69 = __cil_tmp68 + __cil_tmp61;
#line 4611
  bpbSectorsPerTrack = (unsigned short )__cil_tmp69;
#line 4613
  __cil_tmp70 = 0 * 1U;
#line 4613
  __cil_tmp71 = 11 + __cil_tmp70;
#line 4613
  __cil_tmp72 = (unsigned int )BootSector;
#line 4613
  __cil_tmp73 = __cil_tmp72 + __cil_tmp71;
#line 4613
  mem_214 = (UCHAR *)__cil_tmp73;
#line 4613
  __cil_tmp74 = *mem_214;
#line 4613
  __cil_tmp75 = (int )__cil_tmp74;
#line 4613
  __cil_tmp76 = 1 * 1U;
#line 4613
  __cil_tmp77 = 11 + __cil_tmp76;
#line 4613
  __cil_tmp78 = (unsigned int )BootSector;
#line 4613
  __cil_tmp79 = __cil_tmp78 + __cil_tmp77;
#line 4613
  mem_215 = (UCHAR *)__cil_tmp79;
#line 4613
  __cil_tmp80 = *mem_215;
#line 4613
  __cil_tmp81 = (int )__cil_tmp80;
#line 4613
  __cil_tmp82 = __cil_tmp81 * 256;
#line 4613
  __cil_tmp83 = __cil_tmp82 + __cil_tmp75;
#line 4613
  bpbBytesPerSector = (unsigned short )__cil_tmp83;
#line 4615
  __cil_tmp84 = 0 * 1U;
#line 4615
  __cil_tmp85 = 21 + __cil_tmp84;
#line 4615
  __cil_tmp86 = (unsigned int )BootSector;
#line 4615
  __cil_tmp87 = __cil_tmp86 + __cil_tmp85;
#line 4615
  mem_216 = (UCHAR *)__cil_tmp87;
#line 4615
  __cil_tmp88 = *mem_216;
#line 4615
  bpbMediaByte = (unsigned short )__cil_tmp88;
#line 4617
  if (! bpbNumberOfHeads) {

  } else {
#line 4617
    if (! bpbSectorsPerTrack) {

    } else {

    }
  }
#line 4622
  __cil_tmp89 = (int )bpbSectorsPerTrack;
#line 4622
  __cil_tmp90 = (int )bpbNumberOfHeads;
#line 4622
  __cil_tmp91 = (int )bpbNumberOfSectors;
#line 4622
  __cil_tmp92 = __cil_tmp91 / __cil_tmp90;
#line 4622
  __cil_tmp93 = __cil_tmp92 / __cil_tmp89;
#line 4622
  __cil_tmp94 = __cil_tmp93 - 1;
#line 4622
  bpbMaximumTrack = (unsigned short )__cil_tmp94;
#line 4628
  bpbMediaType = (enum _MEDIA_TYPE )0;
#line 4629
  i = 0UL;
  {
#line 4629
  while (1) {
    while_136_continue: /* CIL Label */ ;
    {
#line 4629
    __cil_tmp95 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 4629
    __cil_tmp96 = (unsigned int )__cil_tmp95;
#line 4629
    __cil_tmp97 = __cil_tmp96 + 732;
#line 4629
    mem_217 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp97;
#line 4629
    __cil_tmp98 = *mem_217;
#line 4629
    __cil_tmp99 = (int )__cil_tmp98;
#line 4629
    if (__cil_tmp99 == 1) {
#line 4629
      tmp = 21;
    } else {
#line 4629
      tmp = 17;
    }
    }
    {
#line 4629
    __cil_tmp100 = (unsigned long )tmp;
#line 4629
    __cil_tmp101 = i < __cil_tmp100;
#line 4629
    if (! __cil_tmp101) {
      goto while_136_break;
    } else {

    }
    }
    {
#line 4631
    __cil_tmp102 = DriveMediaConstants + i;
#line 4631
    __cil_tmp103 = (unsigned int )__cil_tmp102;
#line 4631
    __cil_tmp104 = __cil_tmp103 + 36;
#line 4631
    mem_218 = (USHORT *)__cil_tmp104;
#line 4631
    __cil_tmp105 = *mem_218;
#line 4631
    __cil_tmp106 = (int )__cil_tmp105;
#line 4631
    __cil_tmp107 = (int )bpbBytesPerSector;
#line 4631
    if (__cil_tmp107 == __cil_tmp106) {
      {
#line 4631
      __cil_tmp108 = DriveMediaConstants + i;
#line 4631
      __cil_tmp109 = (unsigned int )__cil_tmp108;
#line 4631
      __cil_tmp110 = __cil_tmp109 + 38;
#line 4631
      mem_219 = (UCHAR *)__cil_tmp110;
#line 4631
      __cil_tmp111 = *mem_219;
#line 4631
      __cil_tmp112 = (int )__cil_tmp111;
#line 4631
      __cil_tmp113 = (int )bpbSectorsPerTrack;
#line 4631
      if (__cil_tmp113 == __cil_tmp112) {
        {
#line 4631
        __cil_tmp114 = DriveMediaConstants + i;
#line 4631
        __cil_tmp115 = (unsigned int )__cil_tmp114;
#line 4631
        __cil_tmp116 = __cil_tmp115 + 48;
#line 4631
        mem_220 = (UCHAR *)__cil_tmp116;
#line 4631
        __cil_tmp117 = *mem_220;
#line 4631
        __cil_tmp118 = (int )__cil_tmp117;
#line 4631
        __cil_tmp119 = (int )bpbMaximumTrack;
#line 4631
        if (__cil_tmp119 == __cil_tmp118) {
          {
#line 4631
          __cil_tmp120 = DriveMediaConstants + i;
#line 4631
          __cil_tmp121 = (unsigned int )__cil_tmp120;
#line 4631
          __cil_tmp122 = __cil_tmp121 + 51;
#line 4631
          mem_221 = (UCHAR *)__cil_tmp122;
#line 4631
          __cil_tmp123 = *mem_221;
#line 4631
          __cil_tmp124 = (int )__cil_tmp123;
#line 4631
          __cil_tmp125 = (int )bpbNumberOfHeads;
#line 4631
          if (__cil_tmp125 == __cil_tmp124) {
            {
#line 4631
            __cil_tmp126 = DriveMediaConstants + i;
#line 4631
            __cil_tmp127 = (unsigned int )__cil_tmp126;
#line 4631
            __cil_tmp128 = __cil_tmp127 + 53;
#line 4631
            mem_222 = (UCHAR *)__cil_tmp128;
#line 4631
            __cil_tmp129 = *mem_222;
#line 4631
            __cil_tmp130 = (int )__cil_tmp129;
#line 4631
            __cil_tmp131 = (int )bpbMediaByte;
#line 4631
            if (__cil_tmp131 == __cil_tmp130) {
#line 4637
              __cil_tmp132 = DriveMediaConstants + i;
#line 4637
              mem_223 = (MEDIA_TYPE *)__cil_tmp132;
#line 4637
              bpbMediaType = *mem_223;
              goto while_136_break;
            } else {

            }
            }
          } else {

          }
          }
        } else {

        }
        }
      } else {

      }
      }
    } else {

    }
    }
#line 4629
    i = i + 1UL;
  }
  while_136_break: /* CIL Label */ ;
  }
  {
#line 4647
  __cil_tmp133 = (unsigned int )DisketteExtension;
#line 4647
  __cil_tmp134 = __cil_tmp133 + 174;
#line 4647
  mem_224 = (UCHAR *)__cil_tmp134;
#line 4647
  __cil_tmp135 = *mem_224;
#line 4647
  __cil_tmp136 = (int )__cil_tmp135;
#line 4647
  if (__cil_tmp136 == 3) {
#line 4649
    if ((int )bpbMediaType == 15) {
      goto switch_137_15;
    } else {
#line 4650
      if ((int )bpbMediaType == 16) {
        goto switch_137_16;
      } else {
#line 4651
        if ((int )bpbMediaType == 1) {
          goto switch_137_1;
        } else {
#line 4652
          if ((int )bpbMediaType == 19) {
            goto switch_137_19;
          } else {
            {
            goto switch_137_default;
#line 4648
            if (0) {
              switch_137_15: /* CIL Label */ 
#line 4649
              bpbMediaType = (enum _MEDIA_TYPE )14;
              goto switch_137_break;
              switch_137_16: /* CIL Label */ 
#line 4650
              bpbMediaType = (enum _MEDIA_TYPE )5;
              goto switch_137_break;
              switch_137_1: /* CIL Label */ 
#line 4651
              bpbMediaType = (enum _MEDIA_TYPE )17;
              goto switch_137_break;
              switch_137_19: /* CIL Label */ 
#line 4652
              bpbMediaType = (enum _MEDIA_TYPE )18;
              goto switch_137_break;
              switch_137_default: /* CIL Label */ ;
              goto switch_137_break;
            } else {
              switch_137_break: /* CIL Label */ ;
            }
            }
          }
        }
      }
    }
  } else {

  }
  }
  {
#line 4660
  while (1) {
    while_138_continue: /* CIL Label */ ;
    goto while_138_break;
  }
  while_138_break: /* CIL Label */ ;
  }
  {
#line 4665
  while (1) {
    while_139_continue: /* CIL Label */ ;
    goto while_139_break;
  }
  while_139_break: /* CIL Label */ ;
  }
  {
#line 4666
  __cil_tmp137 = (unsigned int )DisketteExtension;
#line 4666
  __cil_tmp138 = __cil_tmp137 + 184;
#line 4666
  mem_225 = (MEDIA_TYPE *)__cil_tmp138;
#line 4666
  __cil_tmp139 = *mem_225;
#line 4666
  __cil_tmp140 = (int )__cil_tmp139;
#line 4666
  __cil_tmp141 = (int )bpbMediaType;
#line 4666
  if (__cil_tmp141 == __cil_tmp140) {
#line 4670
    changeToBpbMedia = (unsigned char)0;
    {
#line 4674
    while (1) {
      while_140_continue: /* CIL Label */ ;
      goto while_140_break;
    }
    while_140_break: /* CIL Label */ ;
    }
  } else {
#line 4682
    __cil_tmp142 = (unsigned int )DisketteExtension;
#line 4682
    __cil_tmp143 = __cil_tmp142 + 308;
#line 4682
    readidDriveMediaConstants = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp143;
    {
#line 4684
    __cil_tmp144 = (unsigned int )readidDriveMediaConstants;
#line 4684
    __cil_tmp145 = __cil_tmp144 + 36;
#line 4684
    mem_226 = (USHORT *)__cil_tmp145;
#line 4684
    __cil_tmp146 = *mem_226;
#line 4684
    __cil_tmp147 = (int )__cil_tmp146;
#line 4684
    __cil_tmp148 = (int )bpbBytesPerSector;
#line 4684
    if (__cil_tmp148 == __cil_tmp147) {
      {
#line 4684
      __cil_tmp149 = (int )bpbSectorsPerTrack;
#line 4684
      if (__cil_tmp149 < 256) {
        {
#line 4684
        __cil_tmp150 = (unsigned int )readidDriveMediaConstants;
#line 4684
        __cil_tmp151 = __cil_tmp150 + 48;
#line 4684
        mem_227 = (UCHAR *)__cil_tmp151;
#line 4684
        __cil_tmp152 = *mem_227;
#line 4684
        __cil_tmp153 = (int )__cil_tmp152;
#line 4684
        __cil_tmp154 = (int )bpbMaximumTrack;
#line 4684
        if (__cil_tmp154 == __cil_tmp153) {
          {
#line 4684
          __cil_tmp155 = (unsigned int )readidDriveMediaConstants;
#line 4684
          __cil_tmp156 = __cil_tmp155 + 51;
#line 4684
          mem_228 = (UCHAR *)__cil_tmp156;
#line 4684
          __cil_tmp157 = *mem_228;
#line 4684
          __cil_tmp158 = (int )__cil_tmp157;
#line 4684
          __cil_tmp159 = (int )bpbNumberOfHeads;
#line 4684
          if (__cil_tmp159 <= __cil_tmp158) {
#line 4689
            changeToBpbMedia = (unsigned char)1;
          } else {
#line 4692
            changeToBpbMedia = (unsigned char)0;
          }
          }
        } else {
#line 4692
          changeToBpbMedia = (unsigned char)0;
        }
        }
      } else {
#line 4692
        changeToBpbMedia = (unsigned char)0;
      }
      }
    } else {
#line 4692
      changeToBpbMedia = (unsigned char)0;
    }
    }
    {
#line 4699
    while (1) {
      while_141_continue: /* CIL Label */ ;
      goto while_141_break;
    }
    while_141_break: /* CIL Label */ ;
    }
    {
#line 4706
    __cil_tmp160 = (int )bpbMediaType;
#line 4706
    if (__cil_tmp160 == 0) {
#line 4707
      mem_229 = (MEDIA_TYPE *)readidDriveMediaConstants;
#line 4707
      bpbMediaType = *mem_229;
#line 4708
      __cil_tmp161 = 308 + 54;
#line 4708
      __cil_tmp162 = (unsigned int )DisketteExtension;
#line 4708
      __cil_tmp163 = __cil_tmp162 + __cil_tmp161;
#line 4708
      mem_230 = (UCHAR *)__cil_tmp163;
#line 4708
      *mem_230 = (unsigned char)0;
    } else {

    }
    }
  }
  }
#line 4712
  if (changeToBpbMedia) {
#line 4717
    __cil_tmp164 = (unsigned int )DisketteExtension;
#line 4717
    __cil_tmp165 = __cil_tmp164 + 174;
#line 4717
    mem_231 = (UCHAR *)__cil_tmp165;
#line 4717
    __cil_tmp166 = *mem_231;
#line 4717
    __cil_tmp167 = (int )__cil_tmp166;
#line 4717
    __cil_tmp168 = DriveMediaLimits + __cil_tmp167;
#line 4717
    __cil_tmp169 = (unsigned int )__cil_tmp168;
#line 4717
    __cil_tmp170 = __cil_tmp169 + 32;
#line 4717
    mem_232 = (DRIVE_MEDIA_TYPE *)__cil_tmp170;
#line 4717
    __cil_tmp171 = *mem_232;
#line 4717
    i = (unsigned long )__cil_tmp171;
#line 4718
    __cil_tmp172 = (unsigned int )DisketteExtension;
#line 4718
    __cil_tmp173 = __cil_tmp172 + 174;
#line 4718
    mem_233 = (UCHAR *)__cil_tmp173;
#line 4718
    __cil_tmp174 = *mem_233;
#line 4718
    __cil_tmp175 = (int )__cil_tmp174;
#line 4718
    __cil_tmp176 = DriveMediaLimits + __cil_tmp175;
#line 4718
    mem_234 = (DRIVE_MEDIA_TYPE *)__cil_tmp176;
#line 4718
    __cil_tmp177 = *mem_234;
#line 4718
    n = (unsigned long )__cil_tmp177;
    {
#line 4719
    while (1) {
      while_142_continue: /* CIL Label */ ;
#line 4719
      if (i <= n) {

      } else {
        goto while_142_break;
      }
      {
#line 4721
      __cil_tmp178 = DriveMediaConstants + i;
#line 4721
      mem_235 = (MEDIA_TYPE *)__cil_tmp178;
#line 4721
      __cil_tmp179 = *mem_235;
#line 4721
      __cil_tmp180 = (int )__cil_tmp179;
#line 4721
      __cil_tmp181 = (int )bpbMediaType;
#line 4721
      if (__cil_tmp181 == __cil_tmp180) {
#line 4722
        __cil_tmp182 = (unsigned int )DisketteExtension;
#line 4722
        __cil_tmp183 = __cil_tmp182 + 216;
#line 4722
        mem_236 = (DRIVE_MEDIA_TYPE *)__cil_tmp183;
#line 4722
        *mem_236 = (enum _DRIVE_MEDIA_TYPE )i;
        goto while_142_break;
      } else {

      }
      }
#line 4719
      i = i + 1UL;
    }
    while_142_break: /* CIL Label */ ;
    }
    {
#line 4727
    __cil_tmp184 = (unsigned int )DisketteExtension;
#line 4727
    __cil_tmp185 = __cil_tmp184 + 184;
#line 4727
    mem_237 = (MEDIA_TYPE *)__cil_tmp185;
#line 4727
    *mem_237 = bpbMediaType;
#line 4728
    __cil_tmp186 = (unsigned int )DisketteExtension;
#line 4728
    __cil_tmp187 = __cil_tmp186 + 180;
#line 4728
    __cil_tmp188 = (int )bpbBytesPerSector;
#line 4728
    __cil_tmp189 = (int )bpbNumberOfSectors;
#line 4728
    __cil_tmp190 = __cil_tmp189 * __cil_tmp188;
#line 4728
    mem_238 = (ULONG *)__cil_tmp187;
#line 4728
    *mem_238 = (unsigned long )__cil_tmp190;
#line 4729
    __cil_tmp191 = 308 + 38;
#line 4729
    __cil_tmp192 = (unsigned int )DisketteExtension;
#line 4729
    __cil_tmp193 = __cil_tmp192 + __cil_tmp191;
#line 4729
    mem_239 = (UCHAR *)__cil_tmp193;
#line 4729
    *mem_239 = (unsigned char )bpbSectorsPerTrack;
#line 4731
    __cil_tmp194 = 308 + 51;
#line 4731
    __cil_tmp195 = (unsigned int )DisketteExtension;
#line 4731
    __cil_tmp196 = __cil_tmp195 + __cil_tmp194;
#line 4731
    mem_240 = (UCHAR *)__cil_tmp196;
#line 4731
    *mem_240 = (unsigned char )bpbNumberOfHeads;
#line 4737
    __cil_tmp197 = 0 * 1U;
#line 4737
    __cil_tmp198 = 3 + __cil_tmp197;
#line 4737
    __cil_tmp199 = (unsigned int )BootSector;
#line 4737
    __cil_tmp200 = __cil_tmp199 + __cil_tmp198;
#line 4737
    __cil_tmp201 = (UCHAR *)__cil_tmp200;
#line 4737
    __cil_tmp202 = (void const   *)__cil_tmp201;
#line 4737
    __cil_tmp203 = (void const   *)"MSDMF3.";
#line 4737
    tmp___0 = RtlCompareMemory(__cil_tmp202, __cil_tmp203, 7UL);
    }
#line 4737
    if (tmp___0 == 7UL) {
#line 4738
      __cil_tmp204 = (unsigned int )DisketteExtension;
#line 4738
      __cil_tmp205 = __cil_tmp204 + 250;
#line 4738
      mem_241 = (BOOLEAN *)__cil_tmp205;
#line 4738
      *mem_241 = (unsigned char)1;
    } else {

    }
  } else {

  }
#line 4743
  return;
}
}
#line 4743 "floppy.c"
void FlCheckBootSector(PDISKETTE_EXTENSION DisketteExtension ) 
{ PBOOT_SECTOR_INFO bootSector ;
  LARGE_INTEGER offset ;
  PIRP irp ;
  NTSTATUS status ;
  int tmp ;
  PVOID tmp___0 ;
  int tmp___1 ;
  KUSER_SHARED_DATA *__cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp12 ;
  int __cil_tmp13 ;
  enum _POOL_TYPE __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  LARGE_INTEGER *__cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  LONG __cil_tmp21 ;
  KUSER_SHARED_DATA *__cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp25 ;
  int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  PDEVICE_OBJECT __cil_tmp29 ;
  void *__cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  void *__cil_tmp32 ;
  struct _IO_STATUS_BLOCK *__cil_tmp33 ;
  void *__cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  CHAR __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  struct _IO_STACK_LOCATION *__cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  PMDL __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  PMDL __cil_tmp58 ;
  void *__cil_tmp59 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_60 ;
  LONG *mem_61 ;
  LONG *mem_62 ;
  ULONG *mem_63 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_64 ;
  PDEVICE_OBJECT *mem_65 ;
  CHAR *mem_66 ;
  CHAR *mem_67 ;
  struct _IO_STACK_LOCATION **mem_68 ;
  struct _IO_STACK_LOCATION **mem_69 ;
  PMDL *mem_70 ;
  PMDL *mem_71 ;

  {
  {
#line 4776
  __cil_tmp9 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 4776
  __cil_tmp10 = (unsigned int )__cil_tmp9;
#line 4776
  __cil_tmp11 = __cil_tmp10 + 732;
#line 4776
  mem_60 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp11;
#line 4776
  __cil_tmp12 = *mem_60;
#line 4776
  __cil_tmp13 = (int )__cil_tmp12;
#line 4776
  if (__cil_tmp13 == 1) {
#line 4776
    tmp = 1024;
  } else {
#line 4776
    tmp = 512;
  }
  }
  {
#line 4776
  __cil_tmp14 = (enum _POOL_TYPE )4;
#line 4776
  __cil_tmp15 = (unsigned long )tmp;
#line 4776
  tmp___0 = ExAllocatePoolWithTag(__cil_tmp14, __cil_tmp15, 1886350406UL);
#line 4776
  bootSector = (struct _BOOT_SECTOR_INFO *)tmp___0;
  }
#line 4777
  if (! bootSector) {

  } else {

  }
#line 4781
  __cil_tmp16 = 0 + 4;
#line 4781
  __cil_tmp17 = (unsigned int )(& offset) + __cil_tmp16;
#line 4781
  mem_61 = (LONG *)__cil_tmp17;
#line 4781
  *mem_61 = 0L;
#line 4781
  __cil_tmp18 = & offset;
#line 4781
  __cil_tmp19 = 0 + 4;
#line 4781
  __cil_tmp20 = (unsigned int )(& offset) + __cil_tmp19;
#line 4781
  mem_62 = (LONG *)__cil_tmp20;
#line 4781
  __cil_tmp21 = *mem_62;
#line 4781
  mem_63 = (ULONG *)__cil_tmp18;
#line 4781
  *mem_63 = (unsigned long )__cil_tmp21;
  {
#line 4782
  __cil_tmp22 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 4782
  __cil_tmp23 = (unsigned int )__cil_tmp22;
#line 4782
  __cil_tmp24 = __cil_tmp23 + 732;
#line 4782
  mem_64 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp24;
#line 4782
  __cil_tmp25 = *mem_64;
#line 4782
  __cil_tmp26 = (int )__cil_tmp25;
#line 4782
  if (__cil_tmp26 == 1) {
#line 4782
    tmp___1 = 1024;
  } else {
#line 4782
    tmp___1 = 512;
  }
  }
  {
#line 4782
  __cil_tmp27 = (unsigned int )DisketteExtension;
#line 4782
  __cil_tmp28 = __cil_tmp27 + 28;
#line 4782
  mem_65 = (PDEVICE_OBJECT *)__cil_tmp28;
#line 4782
  __cil_tmp29 = *mem_65;
#line 4782
  __cil_tmp30 = (void *)bootSector;
#line 4782
  __cil_tmp31 = (unsigned long )tmp___1;
#line 4782
  __cil_tmp32 = (void *)0;
#line 4782
  __cil_tmp33 = (struct _IO_STATUS_BLOCK *)__cil_tmp32;
#line 4782
  irp = IoBuildAsynchronousFsdRequest(3UL, __cil_tmp29, __cil_tmp30, __cil_tmp31,
                                      & offset, __cil_tmp33);
  }
#line 4788
  if (! irp) {
    {
#line 4789
    __cil_tmp34 = (void *)bootSector;
#line 4789
    ExFreePool(__cil_tmp34);
    }
  } else {

  }
  {
#line 4792
  __cil_tmp35 = (unsigned int )irp;
#line 4792
  __cil_tmp36 = __cil_tmp35 + 35;
#line 4792
  __cil_tmp37 = (unsigned int )irp;
#line 4792
  __cil_tmp38 = __cil_tmp37 + 35;
#line 4792
  mem_66 = (CHAR *)__cil_tmp38;
#line 4792
  __cil_tmp39 = *mem_66;
#line 4792
  __cil_tmp40 = (int )__cil_tmp39;
#line 4792
  __cil_tmp41 = __cil_tmp40 - 1;
#line 4792
  mem_67 = (CHAR *)__cil_tmp36;
#line 4792
  *mem_67 = (char )__cil_tmp41;
#line 4793
  __cil_tmp42 = 24 + 8;
#line 4793
  __cil_tmp43 = 0 + __cil_tmp42;
#line 4793
  __cil_tmp44 = 64 + __cil_tmp43;
#line 4793
  __cil_tmp45 = (unsigned int )irp;
#line 4793
  __cil_tmp46 = __cil_tmp45 + __cil_tmp44;
#line 4793
  __cil_tmp47 = 24 + 8;
#line 4793
  __cil_tmp48 = 0 + __cil_tmp47;
#line 4793
  __cil_tmp49 = 64 + __cil_tmp48;
#line 4793
  __cil_tmp50 = (unsigned int )irp;
#line 4793
  __cil_tmp51 = __cil_tmp50 + __cil_tmp49;
#line 4793
  mem_68 = (struct _IO_STACK_LOCATION **)__cil_tmp51;
#line 4793
  __cil_tmp52 = *mem_68;
#line 4793
  mem_69 = (struct _IO_STACK_LOCATION **)__cil_tmp46;
#line 4793
  *mem_69 = __cil_tmp52 - 1;
#line 4798
  status = FlReadWrite(DisketteExtension, irp, (unsigned char)1);
#line 4800
  __cil_tmp53 = (unsigned int )irp;
#line 4800
  __cil_tmp54 = __cil_tmp53 + 4;
#line 4800
  mem_70 = (PMDL *)__cil_tmp54;
#line 4800
  __cil_tmp55 = *mem_70;
#line 4800
  MmUnlockPages(__cil_tmp55);
#line 4801
  __cil_tmp56 = (unsigned int )irp;
#line 4801
  __cil_tmp57 = __cil_tmp56 + 4;
#line 4801
  mem_71 = (PMDL *)__cil_tmp57;
#line 4801
  __cil_tmp58 = *mem_71;
#line 4801
  IoFreeMdl(__cil_tmp58);
#line 4802
  IoFreeIrp(irp);
#line 4803
  __cil_tmp59 = (void *)bootSector;
#line 4803
  ExFreePool(__cil_tmp59);
  }
#line 4806
  return;
}
}
#line 4806 "floppy.c"
NTSTATUS FlReadWriteTrack(PDISKETTE_EXTENSION DisketteExtension , PMDL IoMdl , ULONG IoOffset ,
                          BOOLEAN WriteOperation , UCHAR Cylinder , UCHAR Head , UCHAR Sector ,
                          UCHAR NumberOfSectors , BOOLEAN NeedSeek ) 
{ PDRIVE_MEDIA_CONSTANTS driveMediaConstants ;
  ULONG byteToSectorShift ;
  ULONG transferBytes ;
  LARGE_INTEGER headSettleTime ;
  NTSTATUS status ;
  ULONG seekRetry ;
  ULONG ioRetry ;
  BOOLEAN recalibrateDrive ;
  UCHAR i ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  UCHAR __cil_tmp23 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  LARGE_INTEGER *__cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  UCHAR __cil_tmp30 ;
  int __cil_tmp31 ;
  int __cil_tmp32 ;
  int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  BOOLEAN __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  UCHAR __cil_tmp41 ;
  int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  UCHAR __cil_tmp53 ;
  int __cil_tmp54 ;
  int __cil_tmp55 ;
  int __cil_tmp56 ;
  int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  UCHAR __cil_tmp64 ;
  int __cil_tmp65 ;
  int __cil_tmp66 ;
  int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  UCHAR *__cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  UCHAR *__cil_tmp77 ;
  void *__cil_tmp78 ;
  struct _MDL *__cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  UCHAR __cil_tmp84 ;
  int __cil_tmp85 ;
  int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  unsigned int __cil_tmp89 ;
  unsigned int __cil_tmp90 ;
  UCHAR __cil_tmp91 ;
  int __cil_tmp92 ;
  int __cil_tmp93 ;
  int __cil_tmp94 ;
  unsigned int __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  unsigned int __cil_tmp98 ;
  UCHAR __cil_tmp99 ;
  int __cil_tmp100 ;
  unsigned int __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  unsigned int __cil_tmp109 ;
  unsigned int __cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  UCHAR __cil_tmp113 ;
  int __cil_tmp114 ;
  int __cil_tmp115 ;
  int __cil_tmp116 ;
  int __cil_tmp117 ;
  unsigned int __cil_tmp118 ;
  unsigned int __cil_tmp119 ;
  unsigned int __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  UCHAR *__cil_tmp122 ;
  unsigned int __cil_tmp123 ;
  unsigned int __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  unsigned int __cil_tmp126 ;
  UCHAR *__cil_tmp127 ;
  void *__cil_tmp128 ;
  struct _MDL *__cil_tmp129 ;
  KUSER_SHARED_DATA *__cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp133 ;
  int __cil_tmp134 ;
  unsigned int __cil_tmp135 ;
  unsigned int __cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  UCHAR __cil_tmp139 ;
  int __cil_tmp140 ;
  unsigned int __cil_tmp141 ;
  unsigned int __cil_tmp142 ;
  UCHAR __cil_tmp143 ;
  int __cil_tmp144 ;
  int __cil_tmp145 ;
  int __cil_tmp146 ;
  int __cil_tmp147 ;
  unsigned int __cil_tmp148 ;
  unsigned int __cil_tmp149 ;
  unsigned int __cil_tmp150 ;
  unsigned int __cil_tmp151 ;
  UCHAR __cil_tmp152 ;
  int __cil_tmp153 ;
  unsigned int __cil_tmp154 ;
  unsigned int __cil_tmp155 ;
  unsigned int __cil_tmp156 ;
  unsigned int __cil_tmp157 ;
  unsigned int __cil_tmp158 ;
  unsigned int __cil_tmp159 ;
  UCHAR __cil_tmp160 ;
  unsigned int __cil_tmp161 ;
  unsigned int __cil_tmp162 ;
  unsigned int __cil_tmp163 ;
  unsigned int __cil_tmp164 ;
  UCHAR __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  unsigned int __cil_tmp167 ;
  unsigned int __cil_tmp168 ;
  unsigned int __cil_tmp169 ;
  UCHAR __cil_tmp170 ;
  int __cil_tmp171 ;
  unsigned int __cil_tmp172 ;
  unsigned int __cil_tmp173 ;
  unsigned int __cil_tmp174 ;
  unsigned int __cil_tmp175 ;
  unsigned int __cil_tmp176 ;
  unsigned int __cil_tmp177 ;
  UCHAR __cil_tmp178 ;
  unsigned int __cil_tmp179 ;
  unsigned int __cil_tmp180 ;
  unsigned int __cil_tmp181 ;
  unsigned int __cil_tmp182 ;
  UCHAR __cil_tmp183 ;
  unsigned int __cil_tmp184 ;
  unsigned int __cil_tmp185 ;
  unsigned int __cil_tmp186 ;
  unsigned int __cil_tmp187 ;
  UCHAR __cil_tmp188 ;
  int __cil_tmp189 ;
  unsigned int __cil_tmp190 ;
  unsigned int __cil_tmp191 ;
  unsigned int __cil_tmp192 ;
  unsigned int __cil_tmp193 ;
  unsigned int __cil_tmp194 ;
  unsigned int __cil_tmp195 ;
  UCHAR __cil_tmp196 ;
  unsigned int __cil_tmp197 ;
  unsigned int __cil_tmp198 ;
  unsigned int __cil_tmp199 ;
  unsigned int __cil_tmp200 ;
  UCHAR __cil_tmp201 ;
  int __cil_tmp202 ;
  unsigned int __cil_tmp203 ;
  unsigned int __cil_tmp204 ;
  unsigned int __cil_tmp205 ;
  unsigned int __cil_tmp206 ;
  UCHAR __cil_tmp207 ;
  int __cil_tmp208 ;
  unsigned int __cil_tmp209 ;
  unsigned int __cil_tmp210 ;
  unsigned int __cil_tmp211 ;
  unsigned int __cil_tmp212 ;
  unsigned int __cil_tmp213 ;
  unsigned int __cil_tmp214 ;
  UCHAR __cil_tmp215 ;
  unsigned int __cil_tmp216 ;
  unsigned int __cil_tmp217 ;
  unsigned int __cil_tmp218 ;
  unsigned int __cil_tmp219 ;
  UCHAR __cil_tmp220 ;
  int __cil_tmp221 ;
  unsigned int __cil_tmp222 ;
  unsigned int __cil_tmp223 ;
  unsigned int __cil_tmp224 ;
  unsigned int __cil_tmp225 ;
  unsigned int __cil_tmp226 ;
  unsigned int __cil_tmp227 ;
  UCHAR __cil_tmp228 ;
  int __cil_tmp229 ;
  int __cil_tmp230 ;
  int __cil_tmp231 ;
  int __cil_tmp232 ;
  unsigned int __cil_tmp233 ;
  unsigned int __cil_tmp234 ;
  unsigned int __cil_tmp235 ;
  unsigned int __cil_tmp236 ;
  unsigned int __cil_tmp237 ;
  unsigned int __cil_tmp238 ;
  unsigned int __cil_tmp239 ;
  unsigned int __cil_tmp240 ;
  unsigned int __cil_tmp241 ;
  unsigned int __cil_tmp242 ;
  unsigned int __cil_tmp243 ;
  unsigned int __cil_tmp244 ;
  int __cil_tmp245 ;
  int __cil_tmp246 ;
  unsigned int __cil_tmp247 ;
  unsigned int __cil_tmp248 ;
  unsigned int __cil_tmp249 ;
  unsigned int __cil_tmp250 ;
  unsigned int __cil_tmp251 ;
  unsigned int __cil_tmp252 ;
  unsigned int __cil_tmp253 ;
  unsigned int __cil_tmp254 ;
  unsigned int __cil_tmp255 ;
  unsigned int __cil_tmp256 ;
  int __cil_tmp257 ;
  int __cil_tmp258 ;
  int __cil_tmp259 ;
  unsigned int __cil_tmp260 ;
  unsigned int __cil_tmp261 ;
  unsigned int __cil_tmp262 ;
  unsigned int __cil_tmp263 ;
  unsigned int __cil_tmp264 ;
  unsigned int __cil_tmp265 ;
  unsigned int __cil_tmp266 ;
  unsigned int __cil_tmp267 ;
  unsigned int __cil_tmp268 ;
  unsigned int __cil_tmp269 ;
  unsigned int __cil_tmp270 ;
  unsigned int __cil_tmp271 ;
  unsigned int __cil_tmp272 ;
  unsigned int __cil_tmp273 ;
  unsigned int __cil_tmp274 ;
  unsigned int __cil_tmp275 ;
  unsigned int __cil_tmp276 ;
  unsigned int __cil_tmp277 ;
  unsigned int __cil_tmp278 ;
  unsigned int __cil_tmp279 ;
  unsigned int __cil_tmp280 ;
  unsigned int __cil_tmp281 ;
  unsigned int __cil_tmp282 ;
  unsigned int __cil_tmp283 ;
  UCHAR *__cil_tmp284 ;
  unsigned int __cil_tmp285 ;
  unsigned int __cil_tmp286 ;
  unsigned int __cil_tmp287 ;
  unsigned int __cil_tmp288 ;
  UCHAR *__cil_tmp289 ;
  KUSER_SHARED_DATA *__cil_tmp290 ;
  unsigned int __cil_tmp291 ;
  unsigned int __cil_tmp292 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp293 ;
  int __cil_tmp294 ;
  unsigned int __cil_tmp295 ;
  unsigned int __cil_tmp296 ;
  unsigned int __cil_tmp297 ;
  unsigned int __cil_tmp298 ;
  UCHAR __cil_tmp299 ;
  int __cil_tmp300 ;
  unsigned int __cil_tmp301 ;
  unsigned int __cil_tmp302 ;
  unsigned int __cil_tmp303 ;
  unsigned int __cil_tmp304 ;
  UCHAR __cil_tmp305 ;
  int __cil_tmp306 ;
  int __cil_tmp307 ;
  unsigned int __cil_tmp308 ;
  unsigned int __cil_tmp309 ;
  unsigned int __cil_tmp310 ;
  unsigned int __cil_tmp311 ;
  UCHAR __cil_tmp312 ;
  int __cil_tmp313 ;
  int __cil_tmp314 ;
  unsigned int __cil_tmp315 ;
  unsigned int __cil_tmp316 ;
  unsigned int __cil_tmp317 ;
  unsigned int __cil_tmp318 ;
  unsigned int __cil_tmp319 ;
  unsigned int __cil_tmp320 ;
  UCHAR __cil_tmp321 ;
  unsigned int __cil_tmp322 ;
  unsigned int __cil_tmp323 ;
  unsigned int __cil_tmp324 ;
  unsigned int __cil_tmp325 ;
  UCHAR __cil_tmp326 ;
  unsigned int __cil_tmp327 ;
  unsigned int __cil_tmp328 ;
  unsigned int __cil_tmp329 ;
  unsigned int __cil_tmp330 ;
  UCHAR __cil_tmp331 ;
  int __cil_tmp332 ;
  unsigned int __cil_tmp333 ;
  unsigned int __cil_tmp334 ;
  unsigned int __cil_tmp335 ;
  unsigned int __cil_tmp336 ;
  unsigned int __cil_tmp337 ;
  unsigned int __cil_tmp338 ;
  UCHAR __cil_tmp339 ;
  unsigned int __cil_tmp340 ;
  unsigned int __cil_tmp341 ;
  unsigned int __cil_tmp342 ;
  unsigned int __cil_tmp343 ;
  UCHAR __cil_tmp344 ;
  unsigned int __cil_tmp345 ;
  unsigned int __cil_tmp346 ;
  unsigned int __cil_tmp347 ;
  unsigned int __cil_tmp348 ;
  UCHAR __cil_tmp349 ;
  int __cil_tmp350 ;
  unsigned int __cil_tmp351 ;
  unsigned int __cil_tmp352 ;
  unsigned int __cil_tmp353 ;
  unsigned int __cil_tmp354 ;
  unsigned int __cil_tmp355 ;
  unsigned int __cil_tmp356 ;
  UCHAR __cil_tmp357 ;
  unsigned int __cil_tmp358 ;
  unsigned int __cil_tmp359 ;
  unsigned int __cil_tmp360 ;
  unsigned int __cil_tmp361 ;
  UCHAR __cil_tmp362 ;
  unsigned int __cil_tmp363 ;
  unsigned int __cil_tmp364 ;
  unsigned int __cil_tmp365 ;
  unsigned int __cil_tmp366 ;
  UCHAR __cil_tmp367 ;
  int __cil_tmp368 ;
  unsigned int __cil_tmp369 ;
  unsigned int __cil_tmp370 ;
  int __cil_tmp371 ;
  int __cil_tmp372 ;
  int __cil_tmp373 ;
  int __cil_tmp374 ;
  unsigned long __cil_tmp375 ;
  unsigned long __cil_tmp376 ;
  ULONG __cil_tmp377 ;
  int __cil_tmp378 ;
  int __cil_tmp379 ;
  int __cil_tmp380 ;
  unsigned char __cil_tmp381 ;
  int __cil_tmp382 ;
  unsigned int __cil_tmp383 ;
  unsigned int __cil_tmp384 ;
  int __cil_tmp385 ;
  int __cil_tmp386 ;
  UCHAR *mem_387 ;
  UCHAR *mem_388 ;
  ULONG *mem_389 ;
  LONG *mem_390 ;
  BOOLEAN *mem_391 ;
  UCHAR *mem_392 ;
  UCHAR *mem_393 ;
  UCHAR *mem_394 ;
  UCHAR *mem_395 ;
  UCHAR *mem_396 ;
  UCHAR *mem_397 ;
  UCHAR *mem_398 ;
  BOOLEAN *mem_399 ;
  UCHAR *mem_400 ;
  UCHAR *mem_401 ;
  BOOLEAN *mem_402 ;
  UCHAR *mem_403 ;
  UCHAR *mem_404 ;
  UCHAR *mem_405 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_406 ;
  UCHAR *mem_407 ;
  UCHAR *mem_408 ;
  UCHAR *mem_409 ;
  BOOLEAN *mem_410 ;
  UCHAR *mem_411 ;
  UCHAR *mem_412 ;
  UCHAR *mem_413 ;
  BOOLEAN *mem_414 ;
  UCHAR *mem_415 ;
  UCHAR *mem_416 ;
  UCHAR *mem_417 ;
  BOOLEAN *mem_418 ;
  UCHAR *mem_419 ;
  UCHAR *mem_420 ;
  UCHAR *mem_421 ;
  BOOLEAN *mem_422 ;
  UCHAR *mem_423 ;
  UCHAR *mem_424 ;
  UCHAR *mem_425 ;
  UCHAR *mem_426 ;
  UCHAR *mem_427 ;
  UCHAR *mem_428 ;
  UCHAR *mem_429 ;
  UCHAR *mem_430 ;
  UCHAR *mem_431 ;
  UCHAR *mem_432 ;
  UCHAR *mem_433 ;
  UCHAR *mem_434 ;
  UCHAR *mem_435 ;
  UCHAR *mem_436 ;
  UCHAR *mem_437 ;
  UCHAR *mem_438 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_439 ;
  UCHAR *mem_440 ;
  UCHAR *mem_441 ;
  UCHAR *mem_442 ;
  BOOLEAN *mem_443 ;
  UCHAR *mem_444 ;
  UCHAR *mem_445 ;
  UCHAR *mem_446 ;
  BOOLEAN *mem_447 ;
  UCHAR *mem_448 ;
  UCHAR *mem_449 ;
  UCHAR *mem_450 ;
  BOOLEAN *mem_451 ;
  UCHAR *mem_452 ;
  UCHAR *mem_453 ;
  UCHAR *mem_454 ;
  BOOLEAN *mem_455 ;
  BOOLEAN *mem_456 ;

  {
#line 4859
  recalibrateDrive = (unsigned char)0;
  {
#line 4869
  while (1) {
    while_143_continue: /* CIL Label */ ;
    goto while_143_break;
  }
  while_143_break: /* CIL Label */ ;
  }
#line 4871
  __cil_tmp19 = (unsigned int )DisketteExtension;
#line 4871
  __cil_tmp20 = __cil_tmp19 + 308;
#line 4871
  driveMediaConstants = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp20;
#line 4872
  __cil_tmp21 = (unsigned int )driveMediaConstants;
#line 4872
  __cil_tmp22 = __cil_tmp21 + 35;
#line 4872
  mem_387 = (UCHAR *)__cil_tmp22;
#line 4872
  __cil_tmp23 = *mem_387;
#line 4872
  __cil_tmp24 = (int )__cil_tmp23;
#line 4872
  __cil_tmp25 = 7 + __cil_tmp24;
#line 4872
  byteToSectorShift = (unsigned long )__cil_tmp25;
#line 4874
  __cil_tmp26 = (unsigned long )NumberOfSectors;
#line 4874
  transferBytes = __cil_tmp26 << byteToSectorShift;
#line 4876
  __cil_tmp27 = & headSettleTime;
#line 4876
  __cil_tmp28 = (unsigned int )driveMediaConstants;
#line 4876
  __cil_tmp29 = __cil_tmp28 + 42;
#line 4876
  mem_388 = (UCHAR *)__cil_tmp29;
#line 4876
  __cil_tmp30 = *mem_388;
#line 4876
  __cil_tmp31 = (int )__cil_tmp30;
#line 4876
  __cil_tmp32 = 10000 * __cil_tmp31;
#line 4876
  __cil_tmp33 = - __cil_tmp32;
#line 4876
  mem_389 = (ULONG *)__cil_tmp27;
#line 4876
  *mem_389 = (unsigned long )__cil_tmp33;
#line 4877
  __cil_tmp34 = 0 + 4;
#line 4877
  __cil_tmp35 = (unsigned int )(& headSettleTime) + __cil_tmp34;
#line 4877
  mem_390 = (LONG *)__cil_tmp35;
#line 4877
  *mem_390 = -1L;
#line 4879
  seekRetry = 0UL;
#line 4879
  ioRetry = 0UL;
  {
#line 4879
  while (1) {
    while_144_continue: /* CIL Label */ ;
#line 4879
    if (seekRetry < 3UL) {

    } else {
      goto while_144_break;
    }
#line 4881
    if (recalibrateDrive) {
      {
#line 4888
      while (1) {
        while_145_continue: /* CIL Label */ ;
        goto while_145_break;
      }
      while_145_break: /* CIL Label */ ;
      }
      {
#line 4889
      FlRecalibrateDrive(DisketteExtension);
      }
    } else {

    }
#line 4894
    if (recalibrateDrive) {
      goto _L___0;
    } else {
#line 4894
      if (NeedSeek) {
        {
#line 4894
        __cil_tmp36 = (unsigned int )DisketteExtension;
#line 4894
        __cil_tmp37 = __cil_tmp36 + 365;
#line 4894
        mem_391 = (BOOLEAN *)__cil_tmp37;
#line 4894
        __cil_tmp38 = *mem_391;
#line 4894
        if (! __cil_tmp38) {
          goto _L___0;
        } else {
          {
#line 4894
          __cil_tmp39 = (unsigned int )driveMediaConstants;
#line 4894
          __cil_tmp40 = __cil_tmp39 + 49;
#line 4894
          mem_392 = (UCHAR *)__cil_tmp40;
#line 4894
          __cil_tmp41 = *mem_392;
#line 4894
          __cil_tmp42 = (int )__cil_tmp41;
#line 4894
          if (__cil_tmp42 != 0) {
            _L___0: 
            {
#line 4899
            __cil_tmp43 = 0 * 1U;
#line 4899
            __cil_tmp44 = 112 + __cil_tmp43;
#line 4899
            __cil_tmp45 = (unsigned int )DisketteExtension;
#line 4899
            __cil_tmp46 = __cil_tmp45 + __cil_tmp44;
#line 4899
            mem_393 = (UCHAR *)__cil_tmp46;
#line 4899
            *mem_393 = (unsigned char)16;
#line 4900
            __cil_tmp47 = 1 * 1U;
#line 4900
            __cil_tmp48 = 112 + __cil_tmp47;
#line 4900
            __cil_tmp49 = (unsigned int )DisketteExtension;
#line 4900
            __cil_tmp50 = __cil_tmp49 + __cil_tmp48;
#line 4900
            __cil_tmp51 = (unsigned int )DisketteExtension;
#line 4900
            __cil_tmp52 = __cil_tmp51 + 248;
#line 4900
            mem_394 = (UCHAR *)__cil_tmp52;
#line 4900
            __cil_tmp53 = *mem_394;
#line 4900
            __cil_tmp54 = (int )__cil_tmp53;
#line 4900
            __cil_tmp55 = (int )Head;
#line 4900
            __cil_tmp56 = __cil_tmp55 << 2;
#line 4900
            __cil_tmp57 = __cil_tmp56 | __cil_tmp54;
#line 4900
            mem_395 = (UCHAR *)__cil_tmp50;
#line 4900
            *mem_395 = (unsigned char )__cil_tmp57;
#line 4902
            __cil_tmp58 = 2 * 1U;
#line 4902
            __cil_tmp59 = 112 + __cil_tmp58;
#line 4902
            __cil_tmp60 = (unsigned int )DisketteExtension;
#line 4902
            __cil_tmp61 = __cil_tmp60 + __cil_tmp59;
#line 4902
            __cil_tmp62 = (unsigned int )driveMediaConstants;
#line 4902
            __cil_tmp63 = __cil_tmp62 + 49;
#line 4902
            mem_396 = (UCHAR *)__cil_tmp63;
#line 4902
            __cil_tmp64 = *mem_396;
#line 4902
            __cil_tmp65 = (int )__cil_tmp64;
#line 4902
            __cil_tmp66 = (int )Cylinder;
#line 4902
            __cil_tmp67 = __cil_tmp66 << __cil_tmp65;
#line 4902
            mem_397 = (UCHAR *)__cil_tmp61;
#line 4902
            *mem_397 = (unsigned char )__cil_tmp67;
#line 4905
            __cil_tmp68 = 0 * 1U;
#line 4905
            __cil_tmp69 = 112 + __cil_tmp68;
#line 4905
            __cil_tmp70 = (unsigned int )DisketteExtension;
#line 4905
            __cil_tmp71 = __cil_tmp70 + __cil_tmp69;
#line 4905
            __cil_tmp72 = (UCHAR *)__cil_tmp71;
#line 4905
            __cil_tmp73 = 0 * 1U;
#line 4905
            __cil_tmp74 = 112 + __cil_tmp73;
#line 4905
            __cil_tmp75 = (unsigned int )DisketteExtension;
#line 4905
            __cil_tmp76 = __cil_tmp75 + __cil_tmp74;
#line 4905
            __cil_tmp77 = (UCHAR *)__cil_tmp76;
#line 4905
            __cil_tmp78 = (void *)0;
#line 4905
            __cil_tmp79 = (struct _MDL *)__cil_tmp78;
#line 4905
            status = FlIssueCommand(DisketteExtension, __cil_tmp72, __cil_tmp77, __cil_tmp79,
                                    0UL, 0UL);
            }
#line 4912
            if (status >= 0L) {
              {
#line 4916
              __cil_tmp80 = 0 * 1U;
#line 4916
              __cil_tmp81 = 112 + __cil_tmp80;
#line 4916
              __cil_tmp82 = (unsigned int )DisketteExtension;
#line 4916
              __cil_tmp83 = __cil_tmp82 + __cil_tmp81;
#line 4916
              mem_398 = (UCHAR *)__cil_tmp83;
#line 4916
              __cil_tmp84 = *mem_398;
#line 4916
              __cil_tmp85 = (int )__cil_tmp84;
#line 4916
              __cil_tmp86 = __cil_tmp85 & 32;
#line 4916
              if (! __cil_tmp86) {
#line 4920
                __cil_tmp87 = (unsigned int )DisketteExtension;
#line 4920
                __cil_tmp88 = __cil_tmp87 + 104;
#line 4920
                mem_399 = (BOOLEAN *)__cil_tmp88;
#line 4920
                *mem_399 = (unsigned char)1;
#line 4921
                status = -1073741464L;
              } else {
                {
#line 4916
                __cil_tmp89 = (unsigned int )driveMediaConstants;
#line 4916
                __cil_tmp90 = __cil_tmp89 + 49;
#line 4916
                mem_400 = (UCHAR *)__cil_tmp90;
#line 4916
                __cil_tmp91 = *mem_400;
#line 4916
                __cil_tmp92 = (int )__cil_tmp91;
#line 4916
                __cil_tmp93 = (int )Cylinder;
#line 4916
                __cil_tmp94 = __cil_tmp93 << __cil_tmp92;
#line 4916
                __cil_tmp95 = 1 * 1U;
#line 4916
                __cil_tmp96 = 112 + __cil_tmp95;
#line 4916
                __cil_tmp97 = (unsigned int )DisketteExtension;
#line 4916
                __cil_tmp98 = __cil_tmp97 + __cil_tmp96;
#line 4916
                mem_401 = (UCHAR *)__cil_tmp98;
#line 4916
                __cil_tmp99 = *mem_401;
#line 4916
                __cil_tmp100 = (int )__cil_tmp99;
#line 4916
                if (__cil_tmp100 != __cil_tmp94) {
#line 4920
                  __cil_tmp101 = (unsigned int )DisketteExtension;
#line 4920
                  __cil_tmp102 = __cil_tmp101 + 104;
#line 4920
                  mem_402 = (BOOLEAN *)__cil_tmp102;
#line 4920
                  *mem_402 = (unsigned char)1;
#line 4921
                  status = -1073741464L;
                } else {

                }
                }
              }
              }
#line 4924
              if (status >= 0L) {
                {
#line 4928
                KeDelayExecutionThread((char)0, (unsigned char)0, & headSettleTime);
#line 4932
                __cil_tmp103 = 0 * 1U;
#line 4932
                __cil_tmp104 = 112 + __cil_tmp103;
#line 4932
                __cil_tmp105 = (unsigned int )DisketteExtension;
#line 4932
                __cil_tmp106 = __cil_tmp105 + __cil_tmp104;
#line 4932
                mem_403 = (UCHAR *)__cil_tmp106;
#line 4932
                *mem_403 = (unsigned char)84;
#line 4934
                __cil_tmp107 = 1 * 1U;
#line 4934
                __cil_tmp108 = 112 + __cil_tmp107;
#line 4934
                __cil_tmp109 = (unsigned int )DisketteExtension;
#line 4934
                __cil_tmp110 = __cil_tmp109 + __cil_tmp108;
#line 4934
                __cil_tmp111 = (unsigned int )DisketteExtension;
#line 4934
                __cil_tmp112 = __cil_tmp111 + 248;
#line 4934
                mem_404 = (UCHAR *)__cil_tmp112;
#line 4934
                __cil_tmp113 = *mem_404;
#line 4934
                __cil_tmp114 = (int )__cil_tmp113;
#line 4934
                __cil_tmp115 = (int )Head;
#line 4934
                __cil_tmp116 = __cil_tmp115 << 2;
#line 4934
                __cil_tmp117 = __cil_tmp116 | __cil_tmp114;
#line 4934
                mem_405 = (UCHAR *)__cil_tmp110;
#line 4934
                *mem_405 = (unsigned char )__cil_tmp117;
#line 4937
                __cil_tmp118 = 0 * 1U;
#line 4937
                __cil_tmp119 = 112 + __cil_tmp118;
#line 4937
                __cil_tmp120 = (unsigned int )DisketteExtension;
#line 4937
                __cil_tmp121 = __cil_tmp120 + __cil_tmp119;
#line 4937
                __cil_tmp122 = (UCHAR *)__cil_tmp121;
#line 4937
                __cil_tmp123 = 0 * 1U;
#line 4937
                __cil_tmp124 = 112 + __cil_tmp123;
#line 4937
                __cil_tmp125 = (unsigned int )DisketteExtension;
#line 4937
                __cil_tmp126 = __cil_tmp125 + __cil_tmp124;
#line 4937
                __cil_tmp127 = (UCHAR *)__cil_tmp126;
#line 4937
                __cil_tmp128 = (void *)0;
#line 4937
                __cil_tmp129 = (struct _MDL *)__cil_tmp128;
#line 4937
                status = FlIssueCommand(DisketteExtension, __cil_tmp122, __cil_tmp127,
                                        __cil_tmp129, 0UL, 0UL);
                }
#line 4944
                if (status >= 0L) {
                  {
#line 4946
                  __cil_tmp130 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 4946
                  __cil_tmp131 = (unsigned int )__cil_tmp130;
#line 4946
                  __cil_tmp132 = __cil_tmp131 + 732;
#line 4946
                  mem_406 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp132;
#line 4946
                  __cil_tmp133 = *mem_406;
#line 4946
                  __cil_tmp134 = (int )__cil_tmp133;
#line 4946
                  if (__cil_tmp134 == 1) {
                    {
#line 4947
                    __cil_tmp135 = 0 * 1U;
#line 4947
                    __cil_tmp136 = 112 + __cil_tmp135;
#line 4947
                    __cil_tmp137 = (unsigned int )DisketteExtension;
#line 4947
                    __cil_tmp138 = __cil_tmp137 + __cil_tmp136;
#line 4947
                    mem_407 = (UCHAR *)__cil_tmp138;
#line 4947
                    __cil_tmp139 = *mem_407;
#line 4947
                    __cil_tmp140 = (int )__cil_tmp139;
#line 4947
                    if (__cil_tmp140 & 8) {
#line 4948
                      return (-1073741661L);
                    } else {

                    }
                    }
                  } else {

                  }
                  }
                  {
#line 4952
                  __cil_tmp141 = (unsigned int )DisketteExtension;
#line 4952
                  __cil_tmp142 = __cil_tmp141 + 248;
#line 4952
                  mem_408 = (UCHAR *)__cil_tmp142;
#line 4952
                  __cil_tmp143 = *mem_408;
#line 4952
                  __cil_tmp144 = (int )__cil_tmp143;
#line 4952
                  __cil_tmp145 = (int )Head;
#line 4952
                  __cil_tmp146 = __cil_tmp145 << 2;
#line 4952
                  __cil_tmp147 = __cil_tmp146 | __cil_tmp144;
#line 4952
                  __cil_tmp148 = 0 * 1U;
#line 4952
                  __cil_tmp149 = 112 + __cil_tmp148;
#line 4952
                  __cil_tmp150 = (unsigned int )DisketteExtension;
#line 4952
                  __cil_tmp151 = __cil_tmp150 + __cil_tmp149;
#line 4952
                  mem_409 = (UCHAR *)__cil_tmp151;
#line 4952
                  __cil_tmp152 = *mem_409;
#line 4952
                  __cil_tmp153 = (int )__cil_tmp152;
#line 4952
                  if (__cil_tmp153 != __cil_tmp147) {
                    {
#line 4958
                    __cil_tmp154 = (unsigned int )DisketteExtension;
#line 4958
                    __cil_tmp155 = __cil_tmp154 + 104;
#line 4958
                    mem_410 = (BOOLEAN *)__cil_tmp155;
#line 4958
                    *mem_410 = (unsigned char)1;
#line 4960
                    __cil_tmp156 = 1 * 1U;
#line 4960
                    __cil_tmp157 = 112 + __cil_tmp156;
#line 4960
                    __cil_tmp158 = (unsigned int )DisketteExtension;
#line 4960
                    __cil_tmp159 = __cil_tmp158 + __cil_tmp157;
#line 4960
                    mem_411 = (UCHAR *)__cil_tmp159;
#line 4960
                    __cil_tmp160 = *mem_411;
#line 4960
                    __cil_tmp161 = 2 * 1U;
#line 4960
                    __cil_tmp162 = 112 + __cil_tmp161;
#line 4960
                    __cil_tmp163 = (unsigned int )DisketteExtension;
#line 4960
                    __cil_tmp164 = __cil_tmp163 + __cil_tmp162;
#line 4960
                    mem_412 = (UCHAR *)__cil_tmp164;
#line 4960
                    __cil_tmp165 = *mem_412;
#line 4960
                    status = FlInterpretError(__cil_tmp160, __cil_tmp165);
                    }
                  } else {
                    {
#line 4952
                    __cil_tmp166 = 1 * 1U;
#line 4952
                    __cil_tmp167 = 112 + __cil_tmp166;
#line 4952
                    __cil_tmp168 = (unsigned int )DisketteExtension;
#line 4952
                    __cil_tmp169 = __cil_tmp168 + __cil_tmp167;
#line 4952
                    mem_413 = (UCHAR *)__cil_tmp169;
#line 4952
                    __cil_tmp170 = *mem_413;
#line 4952
                    __cil_tmp171 = (int )__cil_tmp170;
#line 4952
                    if (__cil_tmp171 != 0) {
                      {
#line 4958
                      __cil_tmp172 = (unsigned int )DisketteExtension;
#line 4958
                      __cil_tmp173 = __cil_tmp172 + 104;
#line 4958
                      mem_414 = (BOOLEAN *)__cil_tmp173;
#line 4958
                      *mem_414 = (unsigned char)1;
#line 4960
                      __cil_tmp174 = 1 * 1U;
#line 4960
                      __cil_tmp175 = 112 + __cil_tmp174;
#line 4960
                      __cil_tmp176 = (unsigned int )DisketteExtension;
#line 4960
                      __cil_tmp177 = __cil_tmp176 + __cil_tmp175;
#line 4960
                      mem_415 = (UCHAR *)__cil_tmp177;
#line 4960
                      __cil_tmp178 = *mem_415;
#line 4960
                      __cil_tmp179 = 2 * 1U;
#line 4960
                      __cil_tmp180 = 112 + __cil_tmp179;
#line 4960
                      __cil_tmp181 = (unsigned int )DisketteExtension;
#line 4960
                      __cil_tmp182 = __cil_tmp181 + __cil_tmp180;
#line 4960
                      mem_416 = (UCHAR *)__cil_tmp182;
#line 4960
                      __cil_tmp183 = *mem_416;
#line 4960
                      status = FlInterpretError(__cil_tmp178, __cil_tmp183);
                      }
                    } else {
                      {
#line 4952
                      __cil_tmp184 = 2 * 1U;
#line 4952
                      __cil_tmp185 = 112 + __cil_tmp184;
#line 4952
                      __cil_tmp186 = (unsigned int )DisketteExtension;
#line 4952
                      __cil_tmp187 = __cil_tmp186 + __cil_tmp185;
#line 4952
                      mem_417 = (UCHAR *)__cil_tmp187;
#line 4952
                      __cil_tmp188 = *mem_417;
#line 4952
                      __cil_tmp189 = (int )__cil_tmp188;
#line 4952
                      if (__cil_tmp189 != 0) {
                        {
#line 4958
                        __cil_tmp190 = (unsigned int )DisketteExtension;
#line 4958
                        __cil_tmp191 = __cil_tmp190 + 104;
#line 4958
                        mem_418 = (BOOLEAN *)__cil_tmp191;
#line 4958
                        *mem_418 = (unsigned char)1;
#line 4960
                        __cil_tmp192 = 1 * 1U;
#line 4960
                        __cil_tmp193 = 112 + __cil_tmp192;
#line 4960
                        __cil_tmp194 = (unsigned int )DisketteExtension;
#line 4960
                        __cil_tmp195 = __cil_tmp194 + __cil_tmp193;
#line 4960
                        mem_419 = (UCHAR *)__cil_tmp195;
#line 4960
                        __cil_tmp196 = *mem_419;
#line 4960
                        __cil_tmp197 = 2 * 1U;
#line 4960
                        __cil_tmp198 = 112 + __cil_tmp197;
#line 4960
                        __cil_tmp199 = (unsigned int )DisketteExtension;
#line 4960
                        __cil_tmp200 = __cil_tmp199 + __cil_tmp198;
#line 4960
                        mem_420 = (UCHAR *)__cil_tmp200;
#line 4960
                        __cil_tmp201 = *mem_420;
#line 4960
                        status = FlInterpretError(__cil_tmp196, __cil_tmp201);
                        }
                      } else {
                        {
#line 4952
                        __cil_tmp202 = (int )Cylinder;
#line 4952
                        __cil_tmp203 = 3 * 1U;
#line 4952
                        __cil_tmp204 = 112 + __cil_tmp203;
#line 4952
                        __cil_tmp205 = (unsigned int )DisketteExtension;
#line 4952
                        __cil_tmp206 = __cil_tmp205 + __cil_tmp204;
#line 4952
                        mem_421 = (UCHAR *)__cil_tmp206;
#line 4952
                        __cil_tmp207 = *mem_421;
#line 4952
                        __cil_tmp208 = (int )__cil_tmp207;
#line 4952
                        if (__cil_tmp208 != __cil_tmp202) {
                          {
#line 4958
                          __cil_tmp209 = (unsigned int )DisketteExtension;
#line 4958
                          __cil_tmp210 = __cil_tmp209 + 104;
#line 4958
                          mem_422 = (BOOLEAN *)__cil_tmp210;
#line 4958
                          *mem_422 = (unsigned char)1;
#line 4960
                          __cil_tmp211 = 1 * 1U;
#line 4960
                          __cil_tmp212 = 112 + __cil_tmp211;
#line 4960
                          __cil_tmp213 = (unsigned int )DisketteExtension;
#line 4960
                          __cil_tmp214 = __cil_tmp213 + __cil_tmp212;
#line 4960
                          mem_423 = (UCHAR *)__cil_tmp214;
#line 4960
                          __cil_tmp215 = *mem_423;
#line 4960
                          __cil_tmp216 = 2 * 1U;
#line 4960
                          __cil_tmp217 = 112 + __cil_tmp216;
#line 4960
                          __cil_tmp218 = (unsigned int )DisketteExtension;
#line 4960
                          __cil_tmp219 = __cil_tmp218 + __cil_tmp217;
#line 4960
                          mem_424 = (UCHAR *)__cil_tmp219;
#line 4960
                          __cil_tmp220 = *mem_424;
#line 4960
                          status = FlInterpretError(__cil_tmp215, __cil_tmp220);
                          }
                        } else {

                        }
                        }
                      }
                      }
                    }
                    }
                  }
                  }
                } else {
                  {
#line 4968
                  while (1) {
                    while_146_continue: /* CIL Label */ ;
                    goto while_146_break;
                  }
                  while_146_break: /* CIL Label */ ;
                  }
                }
              } else {

              }
            } else {
              {
#line 4975
              while (1) {
                while_147_continue: /* CIL Label */ ;
                goto while_147_break;
              }
              while_147_break: /* CIL Label */ ;
              }
            }
          } else {
#line 4980
            status = 0L;
          }
          }
        }
        }
      } else {
#line 4980
        status = 0L;
      }
    }
    {
#line 4983
    __cil_tmp221 = status >= 0L;
#line 4983
    if (! __cil_tmp221) {
      {
#line 4990
      while (1) {
        while_148_continue: /* CIL Label */ ;
        goto while_148_break;
      }
      while_148_break: /* CIL Label */ ;
      }
#line 4991
      recalibrateDrive = (unsigned char)1;
      goto __Cont;
    } else {

    }
    }
    {
#line 4995
    while (1) {
      while_149_continue: /* CIL Label */ ;
#line 5001
      __cil_tmp222 = 1 * 1U;
#line 5001
      __cil_tmp223 = 112 + __cil_tmp222;
#line 5001
      __cil_tmp224 = (unsigned int )DisketteExtension;
#line 5001
      __cil_tmp225 = __cil_tmp224 + __cil_tmp223;
#line 5001
      __cil_tmp226 = (unsigned int )DisketteExtension;
#line 5001
      __cil_tmp227 = __cil_tmp226 + 248;
#line 5001
      mem_425 = (UCHAR *)__cil_tmp227;
#line 5001
      __cil_tmp228 = *mem_425;
#line 5001
      __cil_tmp229 = (int )__cil_tmp228;
#line 5001
      __cil_tmp230 = (int )Head;
#line 5001
      __cil_tmp231 = __cil_tmp230 << 2;
#line 5001
      __cil_tmp232 = __cil_tmp231 | __cil_tmp229;
#line 5001
      mem_426 = (UCHAR *)__cil_tmp225;
#line 5001
      *mem_426 = (unsigned char )__cil_tmp232;
#line 5003
      __cil_tmp233 = 2 * 1U;
#line 5003
      __cil_tmp234 = 112 + __cil_tmp233;
#line 5003
      __cil_tmp235 = (unsigned int )DisketteExtension;
#line 5003
      __cil_tmp236 = __cil_tmp235 + __cil_tmp234;
#line 5003
      mem_427 = (UCHAR *)__cil_tmp236;
#line 5003
      *mem_427 = Cylinder;
#line 5004
      __cil_tmp237 = 3 * 1U;
#line 5004
      __cil_tmp238 = 112 + __cil_tmp237;
#line 5004
      __cil_tmp239 = (unsigned int )DisketteExtension;
#line 5004
      __cil_tmp240 = __cil_tmp239 + __cil_tmp238;
#line 5004
      mem_428 = (UCHAR *)__cil_tmp240;
#line 5004
      *mem_428 = Head;
#line 5005
      __cil_tmp241 = 4 * 1U;
#line 5005
      __cil_tmp242 = 112 + __cil_tmp241;
#line 5005
      __cil_tmp243 = (unsigned int )DisketteExtension;
#line 5005
      __cil_tmp244 = __cil_tmp243 + __cil_tmp242;
#line 5005
      __cil_tmp245 = (int )Sector;
#line 5005
      __cil_tmp246 = __cil_tmp245 + 1;
#line 5005
      mem_429 = (UCHAR *)__cil_tmp244;
#line 5005
      *mem_429 = (unsigned char )__cil_tmp246;
#line 5006
      __cil_tmp247 = 5 * 1U;
#line 5006
      __cil_tmp248 = 112 + __cil_tmp247;
#line 5006
      __cil_tmp249 = (unsigned int )DisketteExtension;
#line 5006
      __cil_tmp250 = __cil_tmp249 + __cil_tmp248;
#line 5006
      __cil_tmp251 = (unsigned int )driveMediaConstants;
#line 5006
      __cil_tmp252 = __cil_tmp251 + 35;
#line 5006
      mem_430 = (UCHAR *)__cil_tmp250;
#line 5006
      mem_431 = (UCHAR *)__cil_tmp252;
#line 5006
      *mem_430 = *mem_431;
#line 5008
      __cil_tmp253 = 6 * 1U;
#line 5008
      __cil_tmp254 = 112 + __cil_tmp253;
#line 5008
      __cil_tmp255 = (unsigned int )DisketteExtension;
#line 5008
      __cil_tmp256 = __cil_tmp255 + __cil_tmp254;
#line 5008
      __cil_tmp257 = (int )NumberOfSectors;
#line 5008
      __cil_tmp258 = (int )Sector;
#line 5008
      __cil_tmp259 = __cil_tmp258 + __cil_tmp257;
#line 5008
      mem_432 = (UCHAR *)__cil_tmp256;
#line 5008
      *mem_432 = (unsigned char )__cil_tmp259;
#line 5009
      __cil_tmp260 = 7 * 1U;
#line 5009
      __cil_tmp261 = 112 + __cil_tmp260;
#line 5009
      __cil_tmp262 = (unsigned int )DisketteExtension;
#line 5009
      __cil_tmp263 = __cil_tmp262 + __cil_tmp261;
#line 5009
      __cil_tmp264 = (unsigned int )driveMediaConstants;
#line 5009
      __cil_tmp265 = __cil_tmp264 + 39;
#line 5009
      mem_433 = (UCHAR *)__cil_tmp263;
#line 5009
      mem_434 = (UCHAR *)__cil_tmp265;
#line 5009
      *mem_433 = *mem_434;
#line 5011
      __cil_tmp266 = 8 * 1U;
#line 5011
      __cil_tmp267 = 112 + __cil_tmp266;
#line 5011
      __cil_tmp268 = (unsigned int )DisketteExtension;
#line 5011
      __cil_tmp269 = __cil_tmp268 + __cil_tmp267;
#line 5011
      __cil_tmp270 = (unsigned int )driveMediaConstants;
#line 5011
      __cil_tmp271 = __cil_tmp270 + 52;
#line 5011
      mem_435 = (UCHAR *)__cil_tmp269;
#line 5011
      mem_436 = (UCHAR *)__cil_tmp271;
#line 5011
      *mem_435 = *mem_436;
#line 5013
      if (WriteOperation) {
#line 5014
        __cil_tmp272 = 0 * 1U;
#line 5014
        __cil_tmp273 = 112 + __cil_tmp272;
#line 5014
        __cil_tmp274 = (unsigned int )DisketteExtension;
#line 5014
        __cil_tmp275 = __cil_tmp274 + __cil_tmp273;
#line 5014
        mem_437 = (UCHAR *)__cil_tmp275;
#line 5014
        *mem_437 = (unsigned char)66;
      } else {
#line 5017
        __cil_tmp276 = 0 * 1U;
#line 5017
        __cil_tmp277 = 112 + __cil_tmp276;
#line 5017
        __cil_tmp278 = (unsigned int )DisketteExtension;
#line 5017
        __cil_tmp279 = __cil_tmp278 + __cil_tmp277;
#line 5017
        mem_438 = (UCHAR *)__cil_tmp279;
#line 5017
        *mem_438 = (unsigned char)64;
      }
      {
#line 5021
      __cil_tmp280 = 0 * 1U;
#line 5021
      __cil_tmp281 = 112 + __cil_tmp280;
#line 5021
      __cil_tmp282 = (unsigned int )DisketteExtension;
#line 5021
      __cil_tmp283 = __cil_tmp282 + __cil_tmp281;
#line 5021
      __cil_tmp284 = (UCHAR *)__cil_tmp283;
#line 5021
      __cil_tmp285 = 0 * 1U;
#line 5021
      __cil_tmp286 = 112 + __cil_tmp285;
#line 5021
      __cil_tmp287 = (unsigned int )DisketteExtension;
#line 5021
      __cil_tmp288 = __cil_tmp287 + __cil_tmp286;
#line 5021
      __cil_tmp289 = (UCHAR *)__cil_tmp288;
#line 5021
      status = FlIssueCommand(DisketteExtension, __cil_tmp284, __cil_tmp289, IoMdl,
                              IoOffset, transferBytes);
      }
#line 5028
      if (status >= 0L) {
        {
#line 5030
        __cil_tmp290 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 5030
        __cil_tmp291 = (unsigned int )__cil_tmp290;
#line 5030
        __cil_tmp292 = __cil_tmp291 + 732;
#line 5030
        mem_439 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp292;
#line 5030
        __cil_tmp293 = *mem_439;
#line 5030
        __cil_tmp294 = (int )__cil_tmp293;
#line 5030
        if (__cil_tmp294 == 1) {
          {
#line 5031
          __cil_tmp295 = 0 * 1U;
#line 5031
          __cil_tmp296 = 112 + __cil_tmp295;
#line 5031
          __cil_tmp297 = (unsigned int )DisketteExtension;
#line 5031
          __cil_tmp298 = __cil_tmp297 + __cil_tmp296;
#line 5031
          mem_440 = (UCHAR *)__cil_tmp298;
#line 5031
          __cil_tmp299 = *mem_440;
#line 5031
          __cil_tmp300 = (int )__cil_tmp299;
#line 5031
          if (__cil_tmp300 & 8) {
#line 5032
            return (-1073741661L);
          } else {

          }
          }
        } else {

        }
        }
        {
#line 5036
        __cil_tmp301 = 0 * 1U;
#line 5036
        __cil_tmp302 = 112 + __cil_tmp301;
#line 5036
        __cil_tmp303 = (unsigned int )DisketteExtension;
#line 5036
        __cil_tmp304 = __cil_tmp303 + __cil_tmp302;
#line 5036
        mem_441 = (UCHAR *)__cil_tmp304;
#line 5036
        __cil_tmp305 = *mem_441;
#line 5036
        __cil_tmp306 = (int )__cil_tmp305;
#line 5036
        __cil_tmp307 = __cil_tmp306 & 192;
#line 5036
        if (__cil_tmp307 != 0) {
          {
#line 5036
          __cil_tmp308 = 0 * 1U;
#line 5036
          __cil_tmp309 = 112 + __cil_tmp308;
#line 5036
          __cil_tmp310 = (unsigned int )DisketteExtension;
#line 5036
          __cil_tmp311 = __cil_tmp310 + __cil_tmp309;
#line 5036
          mem_442 = (UCHAR *)__cil_tmp311;
#line 5036
          __cil_tmp312 = *mem_442;
#line 5036
          __cil_tmp313 = (int )__cil_tmp312;
#line 5036
          __cil_tmp314 = __cil_tmp313 & 192;
#line 5036
          if (__cil_tmp314 != 64) {
            {
#line 5044
            __cil_tmp315 = (unsigned int )DisketteExtension;
#line 5044
            __cil_tmp316 = __cil_tmp315 + 104;
#line 5044
            mem_443 = (BOOLEAN *)__cil_tmp316;
#line 5044
            *mem_443 = (unsigned char)1;
#line 5046
            __cil_tmp317 = 1 * 1U;
#line 5046
            __cil_tmp318 = 112 + __cil_tmp317;
#line 5046
            __cil_tmp319 = (unsigned int )DisketteExtension;
#line 5046
            __cil_tmp320 = __cil_tmp319 + __cil_tmp318;
#line 5046
            mem_444 = (UCHAR *)__cil_tmp320;
#line 5046
            __cil_tmp321 = *mem_444;
#line 5046
            __cil_tmp322 = 2 * 1U;
#line 5046
            __cil_tmp323 = 112 + __cil_tmp322;
#line 5046
            __cil_tmp324 = (unsigned int )DisketteExtension;
#line 5046
            __cil_tmp325 = __cil_tmp324 + __cil_tmp323;
#line 5046
            mem_445 = (UCHAR *)__cil_tmp325;
#line 5046
            __cil_tmp326 = *mem_445;
#line 5046
            status = FlInterpretError(__cil_tmp321, __cil_tmp326);
            }
          } else {
            {
#line 5036
            __cil_tmp327 = 1 * 1U;
#line 5036
            __cil_tmp328 = 112 + __cil_tmp327;
#line 5036
            __cil_tmp329 = (unsigned int )DisketteExtension;
#line 5036
            __cil_tmp330 = __cil_tmp329 + __cil_tmp328;
#line 5036
            mem_446 = (UCHAR *)__cil_tmp330;
#line 5036
            __cil_tmp331 = *mem_446;
#line 5036
            __cil_tmp332 = (int )__cil_tmp331;
#line 5036
            if (__cil_tmp332 != 128) {
              {
#line 5044
              __cil_tmp333 = (unsigned int )DisketteExtension;
#line 5044
              __cil_tmp334 = __cil_tmp333 + 104;
#line 5044
              mem_447 = (BOOLEAN *)__cil_tmp334;
#line 5044
              *mem_447 = (unsigned char)1;
#line 5046
              __cil_tmp335 = 1 * 1U;
#line 5046
              __cil_tmp336 = 112 + __cil_tmp335;
#line 5046
              __cil_tmp337 = (unsigned int )DisketteExtension;
#line 5046
              __cil_tmp338 = __cil_tmp337 + __cil_tmp336;
#line 5046
              mem_448 = (UCHAR *)__cil_tmp338;
#line 5046
              __cil_tmp339 = *mem_448;
#line 5046
              __cil_tmp340 = 2 * 1U;
#line 5046
              __cil_tmp341 = 112 + __cil_tmp340;
#line 5046
              __cil_tmp342 = (unsigned int )DisketteExtension;
#line 5046
              __cil_tmp343 = __cil_tmp342 + __cil_tmp341;
#line 5046
              mem_449 = (UCHAR *)__cil_tmp343;
#line 5046
              __cil_tmp344 = *mem_449;
#line 5046
              status = FlInterpretError(__cil_tmp339, __cil_tmp344);
              }
            } else {
              {
#line 5036
              __cil_tmp345 = 2 * 1U;
#line 5036
              __cil_tmp346 = 112 + __cil_tmp345;
#line 5036
              __cil_tmp347 = (unsigned int )DisketteExtension;
#line 5036
              __cil_tmp348 = __cil_tmp347 + __cil_tmp346;
#line 5036
              mem_450 = (UCHAR *)__cil_tmp348;
#line 5036
              __cil_tmp349 = *mem_450;
#line 5036
              __cil_tmp350 = (int )__cil_tmp349;
#line 5036
              if (__cil_tmp350 != 0) {
                {
#line 5044
                __cil_tmp351 = (unsigned int )DisketteExtension;
#line 5044
                __cil_tmp352 = __cil_tmp351 + 104;
#line 5044
                mem_451 = (BOOLEAN *)__cil_tmp352;
#line 5044
                *mem_451 = (unsigned char)1;
#line 5046
                __cil_tmp353 = 1 * 1U;
#line 5046
                __cil_tmp354 = 112 + __cil_tmp353;
#line 5046
                __cil_tmp355 = (unsigned int )DisketteExtension;
#line 5046
                __cil_tmp356 = __cil_tmp355 + __cil_tmp354;
#line 5046
                mem_452 = (UCHAR *)__cil_tmp356;
#line 5046
                __cil_tmp357 = *mem_452;
#line 5046
                __cil_tmp358 = 2 * 1U;
#line 5046
                __cil_tmp359 = 112 + __cil_tmp358;
#line 5046
                __cil_tmp360 = (unsigned int )DisketteExtension;
#line 5046
                __cil_tmp361 = __cil_tmp360 + __cil_tmp359;
#line 5046
                mem_453 = (UCHAR *)__cil_tmp361;
#line 5046
                __cil_tmp362 = *mem_453;
#line 5046
                status = FlInterpretError(__cil_tmp357, __cil_tmp362);
                }
              } else {
                goto _L___1;
              }
              }
            }
            }
          }
          }
        } else {
          _L___1: 
          {
#line 5054
          __cil_tmp363 = 5 * 1U;
#line 5054
          __cil_tmp364 = 112 + __cil_tmp363;
#line 5054
          __cil_tmp365 = (unsigned int )DisketteExtension;
#line 5054
          __cil_tmp366 = __cil_tmp365 + __cil_tmp364;
#line 5054
          mem_454 = (UCHAR *)__cil_tmp366;
#line 5054
          __cil_tmp367 = *mem_454;
#line 5054
          __cil_tmp368 = (int )__cil_tmp367;
#line 5054
          if (__cil_tmp368 != 1) {
#line 5056
            __cil_tmp369 = (unsigned int )DisketteExtension;
#line 5056
            __cil_tmp370 = __cil_tmp369 + 104;
#line 5056
            mem_455 = (BOOLEAN *)__cil_tmp370;
#line 5056
            *mem_455 = (unsigned char)1;
#line 5057
            status = -1073741465L;
          } else {

          }
          }
        }
        }
      } else {
        {
#line 5064
        while (1) {
          while_150_continue: /* CIL Label */ ;
          goto while_150_break;
        }
        while_150_break: /* CIL Label */ ;
        }
      }
#line 5067
      if (status >= 0L) {
        goto while_149_break;
      } else {

      }
#line 5071
      if (ioRetry >= 2UL) {
        {
#line 5073
        while (1) {
          while_151_continue: /* CIL Label */ ;
          goto while_151_break;
        }
        while_151_break: /* CIL Label */ ;
        }
        goto while_149_break;
      } else {

      }
#line 4995
      ioRetry = ioRetry + 1UL;
    }
    while_149_break: /* CIL Label */ ;
    }
#line 5078
    if (status >= 0L) {
      goto while_144_break;
    } else {

    }
#line 5083
    recalibrateDrive = (unsigned char)1;
    __Cont: 
#line 4879
    seekRetry = seekRetry + 1UL;
  }
  while_144_break: /* CIL Label */ ;
  }
  {
#line 5086
  __cil_tmp371 = status >= 0L;
#line 5086
  if (! __cil_tmp371) {
    {
#line 5086
    __cil_tmp372 = (int )NumberOfSectors;
#line 5086
    if (__cil_tmp372 > 1) {
      {
#line 5091
      while (1) {
        while_152_continue: /* CIL Label */ ;
        goto while_152_break;
      }
      while_152_break: /* CIL Label */ ;
      }
#line 5093
      i = (unsigned char)0;
      {
#line 5093
      while (1) {
        while_153_continue: /* CIL Label */ ;
        {
#line 5093
        __cil_tmp373 = (int )NumberOfSectors;
#line 5093
        __cil_tmp374 = (int )i;
#line 5093
        if (__cil_tmp374 < __cil_tmp373) {

        } else {
          goto while_153_break;
        }
        }
        {
#line 5094
        __cil_tmp375 = (unsigned long )i;
#line 5094
        __cil_tmp376 = __cil_tmp375 << byteToSectorShift;
#line 5094
        __cil_tmp377 = IoOffset + __cil_tmp376;
#line 5094
        __cil_tmp378 = (int )i;
#line 5094
        __cil_tmp379 = (int )Sector;
#line 5094
        __cil_tmp380 = __cil_tmp379 + __cil_tmp378;
#line 5094
        __cil_tmp381 = (unsigned char )__cil_tmp380;
#line 5094
        status = FlReadWriteTrack(DisketteExtension, IoMdl, __cil_tmp377, WriteOperation,
                                  Cylinder, Head, __cil_tmp381, (unsigned char)1,
                                  (unsigned char)0);
        }
        {
#line 5104
        __cil_tmp382 = status >= 0L;
#line 5104
        if (! __cil_tmp382) {
          {
#line 5108
          while (1) {
            while_154_continue: /* CIL Label */ ;
            goto while_154_break;
          }
          while_154_break: /* CIL Label */ ;
          }
#line 5110
          __cil_tmp383 = (unsigned int )DisketteExtension;
#line 5110
          __cil_tmp384 = __cil_tmp383 + 104;
#line 5110
          mem_456 = (BOOLEAN *)__cil_tmp384;
#line 5110
          *mem_456 = (unsigned char)1;
          goto while_153_break;
        } else {

        }
        }
#line 5093
        __cil_tmp385 = (int )i;
#line 5093
        __cil_tmp386 = __cil_tmp385 + 1;
#line 5093
        i = (unsigned char )__cil_tmp386;
      }
      while_153_break: /* CIL Label */ ;
      }
    } else {

    }
    }
  } else {

  }
  }
#line 5116
  return (status);
}
}
#line 5119 "floppy.c"
NTSTATUS FlReadWrite(PDISKETTE_EXTENSION DisketteExtension , PIRP Irp , BOOLEAN DriveStarted ) 
{ PIO_STACK_LOCATION irpSp ;
  BOOLEAN writeOperation ;
  NTSTATUS status ;
  PDRIVE_MEDIA_CONSTANTS driveMediaConstants ;
  ULONG byteToSectorShift ;
  ULONG currentSector ;
  ULONG firstSector ;
  ULONG lastSector ;
  ULONG trackSize ;
  UCHAR sectorsPerTrack ;
  UCHAR numberOfHeads ;
  UCHAR currentHead ;
  UCHAR currentCylinder ;
  UCHAR trackSector ;
  PCHAR userBuffer ;
  UCHAR skew ;
  UCHAR skewDelta ;
  UCHAR numTransferSectors ;
  PMDL mdl ;
  PCHAR ioBuffer ;
  ULONG ioOffset ;
  PVOID tmp___0 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  UCHAR __cil_tmp31 ;
  int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  UCHAR __cil_tmp37 ;
  int __cil_tmp38 ;
  int __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  unsigned char __cil_tmp42 ;
  int __cil_tmp43 ;
  KUSER_SHARED_DATA *__cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp47 ;
  int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  MEDIA_TYPE __cil_tmp51 ;
  int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  UCHAR __cil_tmp57 ;
  int __cil_tmp58 ;
  int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  ULONG __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  ULONG __cil_tmp67 ;
  ULONG __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  PMDL __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  CSHORT __cil_tmp78 ;
  int __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  PMDL __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  PVOID __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  PMDL __cil_tmp88 ;
  enum _MEMORY_CACHING_TYPE __cil_tmp89 ;
  void *__cil_tmp90 ;
  enum _MM_PAGE_PRIORITY __cil_tmp91 ;
  void *__cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  unsigned int __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned long __cil_tmp99 ;
  ULONG __cil_tmp100 ;
  ULONG __cil_tmp101 ;
  unsigned long __cil_tmp102 ;
  unsigned long __cil_tmp103 ;
  unsigned long __cil_tmp104 ;
  unsigned long __cil_tmp105 ;
  ULONG __cil_tmp106 ;
  unsigned long __cil_tmp107 ;
  int __cil_tmp108 ;
  int __cil_tmp109 ;
  int __cil_tmp110 ;
  unsigned long __cil_tmp111 ;
  ULONG __cil_tmp112 ;
  ULONG __cil_tmp113 ;
  unsigned int __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  ULONG __cil_tmp116 ;
  unsigned int __cil_tmp117 ;
  unsigned int __cil_tmp118 ;
  PUCHAR __cil_tmp119 ;
  unsigned int __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  unsigned int __cil_tmp123 ;
  PUCHAR __cil_tmp124 ;
  void *__cil_tmp125 ;
  ULONG __cil_tmp126 ;
  ULONG __cil_tmp127 ;
  PCHAR __cil_tmp128 ;
  void const   *__cil_tmp129 ;
  unsigned long __cil_tmp130 ;
  unsigned long __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  ULONG __cil_tmp135 ;
  int __cil_tmp136 ;
  int __cil_tmp137 ;
  int __cil_tmp138 ;
  int __cil_tmp139 ;
  int __cil_tmp140 ;
  int __cil_tmp141 ;
  unsigned long __cil_tmp142 ;
  unsigned long __cil_tmp143 ;
  unsigned long __cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  ULONG __cil_tmp146 ;
  int __cil_tmp147 ;
  int __cil_tmp148 ;
  int __cil_tmp149 ;
  int __cil_tmp150 ;
  int __cil_tmp151 ;
  unsigned char __cil_tmp152 ;
  int __cil_tmp153 ;
  int __cil_tmp154 ;
  int __cil_tmp155 ;
  int __cil_tmp156 ;
  int __cil_tmp157 ;
  unsigned char __cil_tmp158 ;
  int __cil_tmp159 ;
  int __cil_tmp160 ;
  int __cil_tmp161 ;
  int __cil_tmp162 ;
  int __cil_tmp163 ;
  int __cil_tmp164 ;
  int __cil_tmp165 ;
  int __cil_tmp166 ;
  int __cil_tmp167 ;
  int __cil_tmp168 ;
  int __cil_tmp169 ;
  unsigned int __cil_tmp170 ;
  unsigned int __cil_tmp171 ;
  ULONG __cil_tmp172 ;
  ULONG __cil_tmp173 ;
  ULONG __cil_tmp174 ;
  PCHAR __cil_tmp175 ;
  void *__cil_tmp176 ;
  void const   *__cil_tmp177 ;
  unsigned long __cil_tmp178 ;
  unsigned long __cil_tmp179 ;
  unsigned int __cil_tmp180 ;
  int __cil_tmp181 ;
  int __cil_tmp182 ;
  int __cil_tmp183 ;
  int __cil_tmp184 ;
  int __cil_tmp185 ;
  unsigned long __cil_tmp186 ;
  unsigned int __cil_tmp187 ;
  unsigned int __cil_tmp188 ;
  unsigned int __cil_tmp189 ;
  ULONG __cil_tmp190 ;
  struct _BOOT_SECTOR_INFO *__cil_tmp191 ;
  struct _IO_STACK_LOCATION **mem_192 ;
  UCHAR *mem_193 ;
  BOOLEAN *mem_194 ;
  UCHAR *mem_195 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_196 ;
  MEDIA_TYPE *mem_197 ;
  UCHAR *mem_198 ;
  ULONG *mem_199 ;
  ULONG *mem_200 ;
  UCHAR *mem_201 ;
  UCHAR *mem_202 ;
  PMDL *mem_203 ;
  CSHORT *mem_204 ;
  PMDL *mem_205 ;
  PVOID *mem_206 ;
  PMDL *mem_207 ;
  UCHAR *mem_208 ;
  ULONG *mem_209 ;
  PUCHAR *mem_210 ;
  PMDL *mem_211 ;
  PUCHAR *mem_212 ;
  PMDL *mem_213 ;
  ULONG *mem_214 ;
  ULONG_PTR *mem_215 ;

  {
#line 5169
  __cil_tmp26 = 24 + 8;
#line 5169
  __cil_tmp27 = 0 + __cil_tmp26;
#line 5169
  __cil_tmp28 = 64 + __cil_tmp27;
#line 5169
  __cil_tmp29 = (unsigned int )Irp;
#line 5169
  __cil_tmp30 = __cil_tmp29 + __cil_tmp28;
#line 5169
  mem_192 = (struct _IO_STACK_LOCATION **)__cil_tmp30;
#line 5169
  irpSp = *mem_192;
  {
#line 5177
  while (1) {
    while_155_continue: /* CIL Label */ ;
    goto while_155_break;
  }
  while_155_break: /* CIL Label */ ;
  }
  {
#line 5181
  mem_193 = (UCHAR *)irpSp;
#line 5181
  __cil_tmp31 = *mem_193;
#line 5181
  __cil_tmp32 = (int )__cil_tmp31;
#line 5181
  if (__cil_tmp32 == 4) {
    {
#line 5182
    __cil_tmp33 = (unsigned int )DisketteExtension;
#line 5182
    __cil_tmp34 = __cil_tmp33 + 250;
    {
#line 5182
    mem_194 = (BOOLEAN *)__cil_tmp34;
#line 5182
    if (*mem_194) {
      {
#line 5183
      while (1) {
        while_156_continue: /* CIL Label */ ;
        goto while_156_break;
      }
      while_156_break: /* CIL Label */ ;
      }
#line 5184
      return (-1073741811L);
    } else {

    }
    }
    }
#line 5186
    writeOperation = (unsigned char)1;
  } else {
#line 5188
    writeOperation = (unsigned char)0;
  }
  }
  {
#line 5191
  while (1) {
    while_157_continue: /* CIL Label */ ;
    goto while_157_break;
  }
  while_157_break: /* CIL Label */ ;
  }
#line 5195
  if (DriveStarted) {
#line 5196
    status = 0L;
  } else {
    {
#line 5198
    __cil_tmp35 = (unsigned int )irpSp;
#line 5198
    __cil_tmp36 = __cil_tmp35 + 2;
#line 5198
    mem_195 = (UCHAR *)__cil_tmp36;
#line 5198
    __cil_tmp37 = *mem_195;
#line 5198
    __cil_tmp38 = (int )__cil_tmp37;
#line 5198
    __cil_tmp39 = __cil_tmp38 & 2;
#line 5198
    __cil_tmp40 = ! __cil_tmp39;
#line 5198
    __cil_tmp41 = ! __cil_tmp40;
#line 5198
    __cil_tmp42 = (unsigned char )__cil_tmp41;
#line 5198
    status = FlStartDrive(DisketteExtension, Irp, writeOperation, (unsigned char)1,
                          __cil_tmp42);
    }
  }
  {
#line 5206
  __cil_tmp43 = status >= 0L;
#line 5206
  if (! __cil_tmp43) {
    {
#line 5210
    while (1) {
      while_158_continue: /* CIL Label */ ;
      goto while_158_break;
    }
    while_158_break: /* CIL Label */ ;
    }
#line 5211
    return (status);
  } else {

  }
  }
  {
#line 5214
  __cil_tmp44 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 5214
  __cil_tmp45 = (unsigned int )__cil_tmp44;
#line 5214
  __cil_tmp46 = __cil_tmp45 + 732;
#line 5214
  mem_196 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp46;
#line 5214
  __cil_tmp47 = *mem_196;
#line 5214
  __cil_tmp48 = (int )__cil_tmp47;
#line 5214
  if (__cil_tmp48 == 1) {
    {
#line 5216
    FlHdbit(DisketteExtension);
    }
  } else {

  }
  }
  {
#line 5220
  __cil_tmp49 = (unsigned int )DisketteExtension;
#line 5220
  __cil_tmp50 = __cil_tmp49 + 184;
#line 5220
  mem_197 = (MEDIA_TYPE *)__cil_tmp50;
#line 5220
  __cil_tmp51 = *mem_197;
#line 5220
  __cil_tmp52 = (int )__cil_tmp51;
#line 5220
  if (__cil_tmp52 == 0) {
    {
#line 5221
    while (1) {
      while_159_continue: /* CIL Label */ ;
      goto while_159_break;
    }
    while_159_break: /* CIL Label */ ;
    }
#line 5222
    return (-1073741804L);
  } else {

  }
  }
#line 5228
  __cil_tmp53 = (unsigned int )DisketteExtension;
#line 5228
  __cil_tmp54 = __cil_tmp53 + 308;
#line 5228
  driveMediaConstants = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp54;
#line 5230
  __cil_tmp55 = (unsigned int )driveMediaConstants;
#line 5230
  __cil_tmp56 = __cil_tmp55 + 35;
#line 5230
  mem_198 = (UCHAR *)__cil_tmp56;
#line 5230
  __cil_tmp57 = *mem_198;
#line 5230
  __cil_tmp58 = (int )__cil_tmp57;
#line 5230
  __cil_tmp59 = 7 + __cil_tmp58;
#line 5230
  byteToSectorShift = (unsigned long )__cil_tmp59;
#line 5232
  __cil_tmp60 = 0 + 8;
#line 5232
  __cil_tmp61 = 4 + __cil_tmp60;
#line 5232
  __cil_tmp62 = (unsigned int )irpSp;
#line 5232
  __cil_tmp63 = __cil_tmp62 + __cil_tmp61;
#line 5232
  mem_199 = (ULONG *)__cil_tmp63;
#line 5232
  __cil_tmp64 = *mem_199;
#line 5232
  firstSector = __cil_tmp64 >> byteToSectorShift;
#line 5234
  __cil_tmp65 = (unsigned int )irpSp;
#line 5234
  __cil_tmp66 = __cil_tmp65 + 4;
#line 5234
  mem_200 = (ULONG *)__cil_tmp66;
#line 5234
  __cil_tmp67 = *mem_200;
#line 5234
  __cil_tmp68 = __cil_tmp67 >> byteToSectorShift;
#line 5234
  lastSector = firstSector + __cil_tmp68;
#line 5236
  __cil_tmp69 = (unsigned int )driveMediaConstants;
#line 5236
  __cil_tmp70 = __cil_tmp69 + 38;
#line 5236
  mem_201 = (UCHAR *)__cil_tmp70;
#line 5236
  sectorsPerTrack = *mem_201;
#line 5237
  __cil_tmp71 = (unsigned int )driveMediaConstants;
#line 5237
  __cil_tmp72 = __cil_tmp71 + 51;
#line 5237
  mem_202 = (UCHAR *)__cil_tmp72;
#line 5237
  numberOfHeads = *mem_202;
  {
#line 5238
  __cil_tmp73 = (unsigned int )Irp;
#line 5238
  __cil_tmp74 = __cil_tmp73 + 4;
#line 5238
  mem_203 = (PMDL *)__cil_tmp74;
#line 5238
  __cil_tmp75 = *mem_203;
#line 5238
  __cil_tmp76 = (unsigned int )__cil_tmp75;
#line 5238
  __cil_tmp77 = __cil_tmp76 + 6;
#line 5238
  mem_204 = (CSHORT *)__cil_tmp77;
#line 5238
  __cil_tmp78 = *mem_204;
#line 5238
  __cil_tmp79 = (int )__cil_tmp78;
#line 5238
  if (__cil_tmp79 & 5) {
#line 5238
    __cil_tmp80 = (unsigned int )Irp;
#line 5238
    __cil_tmp81 = __cil_tmp80 + 4;
#line 5238
    mem_205 = (PMDL *)__cil_tmp81;
#line 5238
    __cil_tmp82 = *mem_205;
#line 5238
    __cil_tmp83 = (unsigned int )__cil_tmp82;
#line 5238
    __cil_tmp84 = __cil_tmp83 + 12;
#line 5238
    mem_206 = (PVOID *)__cil_tmp84;
#line 5238
    __cil_tmp85 = *mem_206;
#line 5238
    userBuffer = (CHAR *)__cil_tmp85;
  } else {
    {
#line 5238
    __cil_tmp86 = (unsigned int )Irp;
#line 5238
    __cil_tmp87 = __cil_tmp86 + 4;
#line 5238
    mem_207 = (PMDL *)__cil_tmp87;
#line 5238
    __cil_tmp88 = *mem_207;
#line 5238
    __cil_tmp89 = (enum _MEMORY_CACHING_TYPE )1;
#line 5238
    __cil_tmp90 = (void *)0;
#line 5238
    __cil_tmp91 = (enum _MM_PAGE_PRIORITY )32;
#line 5238
    tmp___0 = MmMapLockedPagesSpecifyCache(__cil_tmp88, (char)0, __cil_tmp89, __cil_tmp90,
                                           0UL, __cil_tmp91);
#line 5238
    userBuffer = (CHAR *)tmp___0;
    }
  }
  }
  {
#line 5240
  __cil_tmp92 = (void *)0;
#line 5240
  __cil_tmp93 = (unsigned int )__cil_tmp92;
#line 5240
  __cil_tmp94 = (unsigned int )userBuffer;
#line 5240
  if (__cil_tmp94 == __cil_tmp93) {
    {
#line 5243
    while (1) {
      while_160_continue: /* CIL Label */ ;
      goto while_160_break;
    }
    while_160_break: /* CIL Label */ ;
    }
#line 5244
    return (-1073741670L);
  } else {

  }
  }
#line 5247
  __cil_tmp95 = (unsigned long )sectorsPerTrack;
#line 5247
  trackSize = __cil_tmp95 << byteToSectorShift;
#line 5249
  skew = (unsigned char)0;
#line 5250
  __cil_tmp96 = (unsigned int )driveMediaConstants;
#line 5250
  __cil_tmp97 = __cil_tmp96 + 54;
#line 5250
  mem_208 = (UCHAR *)__cil_tmp97;
#line 5250
  skewDelta = *mem_208;
#line 5251
  currentSector = firstSector;
  {
#line 5251
  while (1) {
    while_161_continue: /* CIL Label */ ;
#line 5251
    if (currentSector < lastSector) {

    } else {
      goto while_161_break;
    }
#line 5257
    __cil_tmp98 = (unsigned long )numberOfHeads;
#line 5257
    __cil_tmp99 = (unsigned long )sectorsPerTrack;
#line 5257
    __cil_tmp100 = currentSector / __cil_tmp99;
#line 5257
    __cil_tmp101 = __cil_tmp100 / __cil_tmp98;
#line 5257
    currentCylinder = (unsigned char )__cil_tmp101;
#line 5258
    __cil_tmp102 = (unsigned long )sectorsPerTrack;
#line 5258
    __cil_tmp103 = currentSector % __cil_tmp102;
#line 5258
    trackSector = (unsigned char )__cil_tmp103;
#line 5259
    __cil_tmp104 = (unsigned long )numberOfHeads;
#line 5259
    __cil_tmp105 = (unsigned long )sectorsPerTrack;
#line 5259
    __cil_tmp106 = currentSector / __cil_tmp105;
#line 5259
    __cil_tmp107 = __cil_tmp106 % __cil_tmp104;
#line 5259
    currentHead = (unsigned char )__cil_tmp107;
#line 5260
    __cil_tmp108 = (int )trackSector;
#line 5260
    __cil_tmp109 = (int )sectorsPerTrack;
#line 5260
    __cil_tmp110 = __cil_tmp109 - __cil_tmp108;
#line 5260
    numTransferSectors = (unsigned char )__cil_tmp110;
    {
#line 5261
    __cil_tmp111 = (unsigned long )numTransferSectors;
#line 5261
    __cil_tmp112 = lastSector - currentSector;
#line 5261
    if (__cil_tmp112 < __cil_tmp111) {
#line 5262
      __cil_tmp113 = lastSector - currentSector;
#line 5262
      numTransferSectors = (unsigned char )__cil_tmp113;
    } else {

    }
    }
    {
#line 5272
    __cil_tmp114 = (unsigned int )DisketteExtension;
#line 5272
    __cil_tmp115 = __cil_tmp114 + 108;
#line 5272
    mem_209 = (ULONG *)__cil_tmp115;
#line 5272
    __cil_tmp116 = *mem_209;
#line 5272
    if (trackSize > __cil_tmp116) {
      {
#line 5276
      while (1) {
        while_162_continue: /* CIL Label */ ;
        goto while_162_break;
      }
      while_162_break: /* CIL Label */ ;
      }
      {
#line 5277
      FlAllocateIoBuffer(DisketteExtension, trackSize);
      }
      {
#line 5278
      __cil_tmp117 = (unsigned int )DisketteExtension;
#line 5278
      __cil_tmp118 = __cil_tmp117 + 124;
#line 5278
      mem_210 = (PUCHAR *)__cil_tmp118;
#line 5278
      __cil_tmp119 = *mem_210;
#line 5278
      if (! __cil_tmp119) {
        {
#line 5282
        while (1) {
          while_163_continue: /* CIL Label */ ;
          goto while_163_break;
        }
        while_163_break: /* CIL Label */ ;
        }
#line 5283
        return (-1073741670L);
      } else {

      }
      }
#line 5285
      __cil_tmp120 = (unsigned int )DisketteExtension;
#line 5285
      __cil_tmp121 = __cil_tmp120 + 128;
#line 5285
      mem_211 = (PMDL *)__cil_tmp121;
#line 5285
      mdl = *mem_211;
#line 5286
      __cil_tmp122 = (unsigned int )DisketteExtension;
#line 5286
      __cil_tmp123 = __cil_tmp122 + 124;
#line 5286
      mem_212 = (PUCHAR *)__cil_tmp123;
#line 5286
      __cil_tmp124 = *mem_212;
#line 5286
      ioBuffer = (CHAR *)__cil_tmp124;
#line 5287
      ioOffset = 0UL;
#line 5288
      if (writeOperation) {
        {
#line 5292
        __cil_tmp125 = (void *)ioBuffer;
#line 5292
        __cil_tmp126 = currentSector - firstSector;
#line 5292
        __cil_tmp127 = __cil_tmp126 << byteToSectorShift;
#line 5292
        __cil_tmp128 = userBuffer + __cil_tmp127;
#line 5292
        __cil_tmp129 = (void const   *)__cil_tmp128;
#line 5292
        __cil_tmp130 = (unsigned long )numTransferSectors;
#line 5292
        __cil_tmp131 = __cil_tmp130 << byteToSectorShift;
#line 5292
        __cil_tmp132 = (unsigned int )__cil_tmp131;
#line 5292
        memmove(__cil_tmp125, __cil_tmp129, __cil_tmp132);
        }
      } else {

      }
    } else {
#line 5295
      __cil_tmp133 = (unsigned int )Irp;
#line 5295
      __cil_tmp134 = __cil_tmp133 + 4;
#line 5295
      mem_213 = (PMDL *)__cil_tmp134;
#line 5295
      mdl = *mem_213;
#line 5296
      __cil_tmp135 = currentSector - firstSector;
#line 5296
      ioOffset = __cil_tmp135 << byteToSectorShift;
    }
    }
    {
#line 5307
    __cil_tmp136 = (int )trackSector;
#line 5307
    __cil_tmp137 = (int )numTransferSectors;
#line 5307
    __cil_tmp138 = __cil_tmp137 + __cil_tmp136;
#line 5307
    __cil_tmp139 = (int )skew;
#line 5307
    if (__cil_tmp139 >= __cil_tmp138) {
#line 5308
      skew = (unsigned char)0;
    } else {

    }
    }
    {
#line 5311
    __cil_tmp140 = (int )trackSector;
#line 5311
    __cil_tmp141 = (int )skew;
#line 5311
    if (__cil_tmp141 < __cil_tmp140) {
#line 5312
      skew = trackSector;
    } else {

    }
    }
    {
#line 5317
    __cil_tmp142 = (unsigned long )trackSector;
#line 5317
    __cil_tmp143 = (unsigned long )skew;
#line 5317
    __cil_tmp144 = __cil_tmp143 - __cil_tmp142;
#line 5317
    __cil_tmp145 = __cil_tmp144 << byteToSectorShift;
#line 5317
    __cil_tmp146 = ioOffset + __cil_tmp145;
#line 5317
    __cil_tmp147 = (int )skew;
#line 5317
    __cil_tmp148 = (int )trackSector;
#line 5317
    __cil_tmp149 = (int )numTransferSectors;
#line 5317
    __cil_tmp150 = __cil_tmp149 + __cil_tmp148;
#line 5317
    __cil_tmp151 = __cil_tmp150 - __cil_tmp147;
#line 5317
    __cil_tmp152 = (unsigned char )__cil_tmp151;
#line 5317
    status = FlReadWriteTrack(DisketteExtension, mdl, __cil_tmp146, writeOperation,
                              currentCylinder, currentHead, skew, __cil_tmp152, (unsigned char)1);
    }
#line 5330
    if (status >= 0L) {
      {
#line 5330
      __cil_tmp153 = (int )trackSector;
#line 5330
      __cil_tmp154 = (int )skew;
#line 5330
      if (__cil_tmp154 > __cil_tmp153) {
        {
#line 5331
        __cil_tmp155 = (int )trackSector;
#line 5331
        __cil_tmp156 = (int )skew;
#line 5331
        __cil_tmp157 = __cil_tmp156 - __cil_tmp155;
#line 5331
        __cil_tmp158 = (unsigned char )__cil_tmp157;
#line 5331
        status = FlReadWriteTrack(DisketteExtension, mdl, ioOffset, writeOperation,
                                  currentCylinder, currentHead, trackSector, __cil_tmp158,
                                  (unsigned char)0);
        }
      } else {
#line 5341
        __cil_tmp159 = (int )sectorsPerTrack;
#line 5341
        __cil_tmp160 = (int )trackSector;
#line 5341
        __cil_tmp161 = (int )numTransferSectors;
#line 5341
        __cil_tmp162 = __cil_tmp161 + __cil_tmp160;
#line 5341
        __cil_tmp163 = __cil_tmp162 % __cil_tmp159;
#line 5341
        skew = (unsigned char )__cil_tmp163;
      }
      }
    } else {
#line 5341
      __cil_tmp164 = (int )sectorsPerTrack;
#line 5341
      __cil_tmp165 = (int )trackSector;
#line 5341
      __cil_tmp166 = (int )numTransferSectors;
#line 5341
      __cil_tmp167 = __cil_tmp166 + __cil_tmp165;
#line 5341
      __cil_tmp168 = __cil_tmp167 % __cil_tmp164;
#line 5341
      skew = (unsigned char )__cil_tmp168;
    }
    {
#line 5344
    __cil_tmp169 = status >= 0L;
#line 5344
    if (! __cil_tmp169) {
      goto while_161_break;
    } else {

    }
    }
#line 5353
    if (! writeOperation) {
      {
#line 5353
      __cil_tmp170 = (unsigned int )DisketteExtension;
#line 5353
      __cil_tmp171 = __cil_tmp170 + 108;
#line 5353
      mem_214 = (ULONG *)__cil_tmp171;
#line 5353
      __cil_tmp172 = *mem_214;
#line 5353
      if (trackSize > __cil_tmp172) {
        {
#line 5359
        __cil_tmp173 = currentSector - firstSector;
#line 5359
        __cil_tmp174 = __cil_tmp173 << byteToSectorShift;
#line 5359
        __cil_tmp175 = userBuffer + __cil_tmp174;
#line 5359
        __cil_tmp176 = (void *)__cil_tmp175;
#line 5359
        __cil_tmp177 = (void const   *)ioBuffer;
#line 5359
        __cil_tmp178 = (unsigned long )numTransferSectors;
#line 5359
        __cil_tmp179 = __cil_tmp178 << byteToSectorShift;
#line 5359
        __cil_tmp180 = (unsigned int )__cil_tmp179;
#line 5359
        memmove(__cil_tmp176, __cil_tmp177, __cil_tmp180);
        }
      } else {

      }
      }
    } else {

    }
#line 5367
    __cil_tmp181 = (int )sectorsPerTrack;
#line 5367
    __cil_tmp182 = (int )skewDelta;
#line 5367
    __cil_tmp183 = (int )skew;
#line 5367
    __cil_tmp184 = __cil_tmp183 + __cil_tmp182;
#line 5367
    __cil_tmp185 = __cil_tmp184 % __cil_tmp181;
#line 5367
    skew = (unsigned char )__cil_tmp185;
#line 5251
    __cil_tmp186 = (unsigned long )numTransferSectors;
#line 5251
    currentSector = currentSector + __cil_tmp186;
  }
  while_161_break: /* CIL Label */ ;
  }
#line 5370
  __cil_tmp187 = 24 + 4;
#line 5370
  __cil_tmp188 = (unsigned int )Irp;
#line 5370
  __cil_tmp189 = __cil_tmp188 + __cil_tmp187;
#line 5370
  __cil_tmp190 = currentSector - firstSector;
#line 5370
  mem_215 = (ULONG_PTR *)__cil_tmp189;
#line 5370
  *mem_215 = __cil_tmp190 << byteToSectorShift;
#line 5377
  if (status >= 0L) {
#line 5377
    if (firstSector == 0UL) {
      {
#line 5378
      __cil_tmp191 = (struct _BOOT_SECTOR_INFO *)userBuffer;
#line 5378
      FlConsolidateMediaTypeWithBootSector(DisketteExtension, __cil_tmp191);
      }
    } else {

    }
  } else {

  }
  {
#line 5385
  while (1) {
    while_164_continue: /* CIL Label */ ;
    goto while_164_break;
  }
  while_164_break: /* CIL Label */ ;
  }
#line 5386
  return (status);
}
}
#line 5389 "floppy.c"
NTSTATUS FlFormat(PDISKETTE_EXTENSION DisketteExtension , PIRP Irp ) 
{ LARGE_INTEGER headSettleTime ;
  PIO_STACK_LOCATION irpSp ;
  PBAD_TRACK_NUMBER badTrackBuffer ;
  PFORMAT_PARAMETERS formatParameters ;
  PFORMAT_EX_PARAMETERS formatExParameters ;
  PDRIVE_MEDIA_CONSTANTS driveMediaConstants ;
  NTSTATUS ntStatus ;
  ULONG badTrackBufferLength ;
  DRIVE_MEDIA_TYPE driveMediaType ;
  UCHAR driveStatus ;
  UCHAR numberOfBadTracks ;
  UCHAR currentTrack ;
  UCHAR endTrack ;
  UCHAR whichSector ;
  UCHAR retryCount ;
  BOOLEAN bufferOverflow ;
  FDC_DISK_CHANGE_PARMS fdcDiskChangeParms ;
  ULONG length ;
  UCHAR tmp ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  PVOID __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  int __cil_tmp32 ;
  int __cil_tmp33 ;
  int __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  ULONG __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  PVOID __cil_tmp43 ;
  void *__cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  UCHAR __cil_tmp49 ;
  int __cil_tmp50 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp51 ;
  MEDIA_TYPE __cil_tmp52 ;
  int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp55 ;
  MEDIA_TYPE __cil_tmp56 ;
  int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  UCHAR __cil_tmp60 ;
  int __cil_tmp61 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  DRIVE_MEDIA_TYPE __cil_tmp65 ;
  int __cil_tmp66 ;
  int __cil_tmp67 ;
  int __cil_tmp68 ;
  int __cil_tmp69 ;
  int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp79 ;
  unsigned int __cil_tmp80 ;
  unsigned int __cil_tmp81 ;
  unsigned int __cil_tmp82 ;
  unsigned int __cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  USHORT __cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  unsigned int __cil_tmp88 ;
  unsigned int __cil_tmp89 ;
  unsigned int __cil_tmp90 ;
  USHORT __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  unsigned int __cil_tmp94 ;
  unsigned int __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  USHORT __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  unsigned int __cil_tmp100 ;
  unsigned int __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  UCHAR __cil_tmp103 ;
  int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  UCHAR __cil_tmp107 ;
  int __cil_tmp108 ;
  int __cil_tmp109 ;
  unsigned int __cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  UCHAR __cil_tmp112 ;
  int __cil_tmp113 ;
  unsigned int __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  USHORT __cil_tmp116 ;
  int __cil_tmp117 ;
  int __cil_tmp118 ;
  int __cil_tmp119 ;
  int __cil_tmp120 ;
  unsigned int __cil_tmp121 ;
  unsigned int __cil_tmp122 ;
  ULONG __cil_tmp123 ;
  unsigned int __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  UCHAR __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  unsigned int __cil_tmp128 ;
  unsigned int __cil_tmp129 ;
  ULONG __cil_tmp130 ;
  ULONG __cil_tmp131 ;
  ULONG __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  ULONG __cil_tmp135 ;
  unsigned int __cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  UCHAR __cil_tmp138 ;
  unsigned long __cil_tmp139 ;
  unsigned int __cil_tmp140 ;
  unsigned int __cil_tmp141 ;
  ULONG __cil_tmp142 ;
  ULONG __cil_tmp143 ;
  ULONG __cil_tmp144 ;
  KUSER_SHARED_DATA *__cil_tmp145 ;
  unsigned int __cil_tmp146 ;
  unsigned int __cil_tmp147 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp148 ;
  int __cil_tmp149 ;
  int __cil_tmp150 ;
  unsigned int __cil_tmp151 ;
  unsigned int __cil_tmp152 ;
  DRIVE_MEDIA_TYPE __cil_tmp153 ;
  int __cil_tmp154 ;
  int __cil_tmp155 ;
  unsigned int __cil_tmp156 ;
  unsigned int __cil_tmp157 ;
  unsigned int __cil_tmp158 ;
  unsigned int __cil_tmp159 ;
  unsigned int __cil_tmp160 ;
  unsigned int __cil_tmp161 ;
  unsigned int __cil_tmp162 ;
  unsigned int __cil_tmp163 ;
  unsigned int __cil_tmp164 ;
  unsigned int __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  unsigned int __cil_tmp167 ;
  unsigned int __cil_tmp168 ;
  unsigned int __cil_tmp169 ;
  unsigned int __cil_tmp170 ;
  unsigned int __cil_tmp171 ;
  unsigned int __cil_tmp172 ;
  unsigned int __cil_tmp173 ;
  UCHAR __cil_tmp174 ;
  int __cil_tmp175 ;
  unsigned int __cil_tmp176 ;
  unsigned int __cil_tmp177 ;
  UCHAR __cil_tmp178 ;
  int __cil_tmp179 ;
  int __cil_tmp180 ;
  int __cil_tmp181 ;
  int __cil_tmp182 ;
  unsigned int __cil_tmp183 ;
  unsigned int __cil_tmp184 ;
  unsigned int __cil_tmp185 ;
  unsigned int __cil_tmp186 ;
  UCHAR *__cil_tmp187 ;
  unsigned int __cil_tmp188 ;
  unsigned int __cil_tmp189 ;
  unsigned int __cil_tmp190 ;
  unsigned int __cil_tmp191 ;
  UCHAR *__cil_tmp192 ;
  void *__cil_tmp193 ;
  struct _MDL *__cil_tmp194 ;
  unsigned int __cil_tmp195 ;
  unsigned int __cil_tmp196 ;
  unsigned int __cil_tmp197 ;
  unsigned int __cil_tmp198 ;
  UCHAR __cil_tmp199 ;
  int __cil_tmp200 ;
  unsigned int __cil_tmp201 ;
  unsigned int __cil_tmp202 ;
  UCHAR __cil_tmp203 ;
  int __cil_tmp204 ;
  unsigned int __cil_tmp205 ;
  unsigned int __cil_tmp206 ;
  UCHAR __cil_tmp207 ;
  int __cil_tmp208 ;
  int __cil_tmp209 ;
  int __cil_tmp210 ;
  int __cil_tmp211 ;
  unsigned char __cil_tmp212 ;
  int __cil_tmp213 ;
  unsigned int __cil_tmp214 ;
  unsigned int __cil_tmp215 ;
  unsigned int __cil_tmp216 ;
  unsigned int __cil_tmp217 ;
  UCHAR __cil_tmp218 ;
  int __cil_tmp219 ;
  LARGE_INTEGER *__cil_tmp220 ;
  unsigned int __cil_tmp221 ;
  unsigned int __cil_tmp222 ;
  UCHAR __cil_tmp223 ;
  int __cil_tmp224 ;
  int __cil_tmp225 ;
  int __cil_tmp226 ;
  unsigned int __cil_tmp227 ;
  unsigned int __cil_tmp228 ;
  KUSER_SHARED_DATA *__cil_tmp229 ;
  unsigned int __cil_tmp230 ;
  unsigned int __cil_tmp231 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp232 ;
  int __cil_tmp233 ;
  int __cil_tmp234 ;
  unsigned int __cil_tmp235 ;
  unsigned int __cil_tmp236 ;
  unsigned int __cil_tmp237 ;
  unsigned int __cil_tmp238 ;
  unsigned int __cil_tmp239 ;
  unsigned int __cil_tmp240 ;
  unsigned int __cil_tmp241 ;
  unsigned int __cil_tmp242 ;
  unsigned int __cil_tmp243 ;
  unsigned int __cil_tmp244 ;
  unsigned int __cil_tmp245 ;
  unsigned int __cil_tmp246 ;
  unsigned int __cil_tmp247 ;
  unsigned int __cil_tmp248 ;
  UCHAR *__cil_tmp249 ;
  unsigned int __cil_tmp250 ;
  unsigned int __cil_tmp251 ;
  unsigned int __cil_tmp252 ;
  unsigned int __cil_tmp253 ;
  UCHAR *__cil_tmp254 ;
  void *__cil_tmp255 ;
  struct _MDL *__cil_tmp256 ;
  unsigned int __cil_tmp257 ;
  unsigned int __cil_tmp258 ;
  int __cil_tmp259 ;
  unsigned int __cil_tmp260 ;
  unsigned int __cil_tmp261 ;
  UCHAR __cil_tmp262 ;
  int __cil_tmp263 ;
  int __cil_tmp264 ;
  int __cil_tmp265 ;
  int __cil_tmp266 ;
  unsigned int __cil_tmp267 ;
  unsigned int __cil_tmp268 ;
  PUCHAR __cil_tmp269 ;
  PUCHAR __cil_tmp270 ;
  unsigned int __cil_tmp271 ;
  unsigned int __cil_tmp272 ;
  UCHAR __cil_tmp273 ;
  int __cil_tmp274 ;
  int __cil_tmp275 ;
  int __cil_tmp276 ;
  int __cil_tmp277 ;
  int __cil_tmp278 ;
  int __cil_tmp279 ;
  unsigned int __cil_tmp280 ;
  unsigned int __cil_tmp281 ;
  PUCHAR __cil_tmp282 ;
  PUCHAR __cil_tmp283 ;
  unsigned int __cil_tmp284 ;
  unsigned int __cil_tmp285 ;
  UCHAR __cil_tmp286 ;
  int __cil_tmp287 ;
  int __cil_tmp288 ;
  int __cil_tmp289 ;
  int __cil_tmp290 ;
  int __cil_tmp291 ;
  int __cil_tmp292 ;
  unsigned int __cil_tmp293 ;
  unsigned int __cil_tmp294 ;
  PUCHAR __cil_tmp295 ;
  PUCHAR __cil_tmp296 ;
  unsigned int __cil_tmp297 ;
  unsigned int __cil_tmp298 ;
  unsigned int __cil_tmp299 ;
  unsigned int __cil_tmp300 ;
  USHORT __cil_tmp301 ;
  int __cil_tmp302 ;
  int __cil_tmp303 ;
  int __cil_tmp304 ;
  unsigned int __cil_tmp305 ;
  unsigned int __cil_tmp306 ;
  PUCHAR __cil_tmp307 ;
  PUCHAR __cil_tmp308 ;
  int __cil_tmp309 ;
  int __cil_tmp310 ;
  int __cil_tmp311 ;
  int __cil_tmp312 ;
  int __cil_tmp313 ;
  unsigned int __cil_tmp314 ;
  unsigned int __cil_tmp315 ;
  PUCHAR __cil_tmp316 ;
  PUCHAR __cil_tmp317 ;
  unsigned int __cil_tmp318 ;
  unsigned int __cil_tmp319 ;
  int __cil_tmp320 ;
  int __cil_tmp321 ;
  unsigned int __cil_tmp322 ;
  unsigned int __cil_tmp323 ;
  USHORT __cil_tmp324 ;
  unsigned int __cil_tmp325 ;
  unsigned int __cil_tmp326 ;
  unsigned int __cil_tmp327 ;
  unsigned int __cil_tmp328 ;
  unsigned int __cil_tmp329 ;
  unsigned int __cil_tmp330 ;
  unsigned int __cil_tmp331 ;
  unsigned int __cil_tmp332 ;
  unsigned int __cil_tmp333 ;
  unsigned int __cil_tmp334 ;
  UCHAR __cil_tmp335 ;
  int __cil_tmp336 ;
  unsigned int __cil_tmp337 ;
  unsigned int __cil_tmp338 ;
  UCHAR __cil_tmp339 ;
  int __cil_tmp340 ;
  int __cil_tmp341 ;
  int __cil_tmp342 ;
  int __cil_tmp343 ;
  int __cil_tmp344 ;
  unsigned int __cil_tmp345 ;
  unsigned int __cil_tmp346 ;
  unsigned int __cil_tmp347 ;
  unsigned int __cil_tmp348 ;
  unsigned int __cil_tmp349 ;
  unsigned int __cil_tmp350 ;
  unsigned int __cil_tmp351 ;
  unsigned int __cil_tmp352 ;
  unsigned int __cil_tmp353 ;
  unsigned int __cil_tmp354 ;
  unsigned int __cil_tmp355 ;
  unsigned int __cil_tmp356 ;
  unsigned int __cil_tmp357 ;
  unsigned int __cil_tmp358 ;
  unsigned int __cil_tmp359 ;
  unsigned int __cil_tmp360 ;
  unsigned int __cil_tmp361 ;
  unsigned int __cil_tmp362 ;
  unsigned int __cil_tmp363 ;
  unsigned int __cil_tmp364 ;
  unsigned int __cil_tmp365 ;
  unsigned int __cil_tmp366 ;
  unsigned int __cil_tmp367 ;
  unsigned int __cil_tmp368 ;
  unsigned int __cil_tmp369 ;
  unsigned int __cil_tmp370 ;
  unsigned int __cil_tmp371 ;
  unsigned int __cil_tmp372 ;
  UCHAR *__cil_tmp373 ;
  unsigned int __cil_tmp374 ;
  unsigned int __cil_tmp375 ;
  unsigned int __cil_tmp376 ;
  unsigned int __cil_tmp377 ;
  UCHAR *__cil_tmp378 ;
  unsigned int __cil_tmp379 ;
  unsigned int __cil_tmp380 ;
  PMDL __cil_tmp381 ;
  int __cil_tmp382 ;
  unsigned int __cil_tmp383 ;
  unsigned int __cil_tmp384 ;
  unsigned int __cil_tmp385 ;
  unsigned int __cil_tmp386 ;
  UCHAR __cil_tmp387 ;
  int __cil_tmp388 ;
  unsigned int __cil_tmp389 ;
  unsigned int __cil_tmp390 ;
  unsigned int __cil_tmp391 ;
  unsigned int __cil_tmp392 ;
  UCHAR __cil_tmp393 ;
  int __cil_tmp394 ;
  unsigned int __cil_tmp395 ;
  unsigned int __cil_tmp396 ;
  unsigned int __cil_tmp397 ;
  unsigned int __cil_tmp398 ;
  UCHAR __cil_tmp399 ;
  int __cil_tmp400 ;
  unsigned int __cil_tmp401 ;
  unsigned int __cil_tmp402 ;
  unsigned int __cil_tmp403 ;
  unsigned int __cil_tmp404 ;
  unsigned int __cil_tmp405 ;
  unsigned int __cil_tmp406 ;
  UCHAR __cil_tmp407 ;
  unsigned int __cil_tmp408 ;
  unsigned int __cil_tmp409 ;
  unsigned int __cil_tmp410 ;
  unsigned int __cil_tmp411 ;
  UCHAR __cil_tmp412 ;
  int __cil_tmp413 ;
  int __cil_tmp414 ;
  int __cil_tmp415 ;
  int __cil_tmp416 ;
  int __cil_tmp417 ;
  int __cil_tmp418 ;
  KUSER_SHARED_DATA *__cil_tmp419 ;
  unsigned int __cil_tmp420 ;
  unsigned int __cil_tmp421 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp422 ;
  int __cil_tmp423 ;
  unsigned int __cil_tmp424 ;
  unsigned int __cil_tmp425 ;
  unsigned int __cil_tmp426 ;
  unsigned int __cil_tmp427 ;
  unsigned int __cil_tmp428 ;
  unsigned int __cil_tmp429 ;
  unsigned int __cil_tmp430 ;
  unsigned int __cil_tmp431 ;
  unsigned int __cil_tmp432 ;
  unsigned int __cil_tmp433 ;
  unsigned int __cil_tmp434 ;
  unsigned int __cil_tmp435 ;
  unsigned int __cil_tmp436 ;
  unsigned int __cil_tmp437 ;
  UCHAR *__cil_tmp438 ;
  unsigned int __cil_tmp439 ;
  unsigned int __cil_tmp440 ;
  unsigned int __cil_tmp441 ;
  unsigned int __cil_tmp442 ;
  UCHAR *__cil_tmp443 ;
  void *__cil_tmp444 ;
  struct _MDL *__cil_tmp445 ;
  int __cil_tmp446 ;
  unsigned int __cil_tmp447 ;
  unsigned int __cil_tmp448 ;
  unsigned int __cil_tmp449 ;
  unsigned int __cil_tmp450 ;
  UCHAR __cil_tmp451 ;
  int __cil_tmp452 ;
  unsigned int __cil_tmp453 ;
  unsigned int __cil_tmp454 ;
  PDEVICE_OBJECT __cil_tmp455 ;
  int __cil_tmp456 ;
  int __cil_tmp457 ;
  int __cil_tmp458 ;
  int __cil_tmp459 ;
  unsigned long __cil_tmp460 ;
  void *__cil_tmp461 ;
  FDC_DISK_CHANGE_PARMS *__cil_tmp462 ;
  unsigned int __cil_tmp463 ;
  unsigned int __cil_tmp464 ;
  UCHAR __cil_tmp465 ;
  int __cil_tmp466 ;
  int __cil_tmp467 ;
  int __cil_tmp468 ;
  int __cil_tmp469 ;
  unsigned int __cil_tmp470 ;
  unsigned int __cil_tmp471 ;
  unsigned long __cil_tmp472 ;
  unsigned int __cil_tmp473 ;
  unsigned int __cil_tmp474 ;
  PVOID __cil_tmp475 ;
  int __cil_tmp476 ;
  PBAD_TRACK_NUMBER __cil_tmp477 ;
  int __cil_tmp478 ;
  int __cil_tmp479 ;
  int __cil_tmp480 ;
  int __cil_tmp481 ;
  int __cil_tmp482 ;
  int __cil_tmp483 ;
  int __cil_tmp484 ;
  struct _IO_STACK_LOCATION **mem_485 ;
  PVOID *mem_486 ;
  ULONG *mem_487 ;
  PVOID *mem_488 ;
  ULONG *mem_489 ;
  UCHAR *mem_490 ;
  DRIVE_MEDIA_TYPE *mem_491 ;
  MEDIA_TYPE *mem_492 ;
  MEDIA_TYPE *mem_493 ;
  UCHAR *mem_494 ;
  DRIVE_MEDIA_TYPE *mem_495 ;
  MEDIA_TYPE *mem_496 ;
  MEDIA_TYPE *mem_497 ;
  DRIVE_MEDIA_TYPE *mem_498 ;
  DRIVE_MEDIA_CONSTANTS *mem_499 ;
  USHORT *mem_500 ;
  UCHAR *mem_501 ;
  USHORT *mem_502 ;
  UCHAR *mem_503 ;
  USHORT *mem_504 ;
  ULONG *mem_505 ;
  UCHAR *mem_506 ;
  UCHAR *mem_507 ;
  UCHAR *mem_508 ;
  USHORT *mem_509 ;
  ULONG *mem_510 ;
  ULONG *mem_511 ;
  UCHAR *mem_512 ;
  ULONG *mem_513 ;
  ULONG *mem_514 ;
  UCHAR *mem_515 ;
  ULONG *mem_516 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_517 ;
  DRIVE_MEDIA_TYPE *mem_518 ;
  BOOLEAN *mem_519 ;
  UCHAR *mem_520 ;
  UCHAR *mem_521 ;
  UCHAR *mem_522 ;
  UCHAR *mem_523 ;
  UCHAR *mem_524 ;
  UCHAR *mem_525 ;
  UCHAR *mem_526 ;
  UCHAR *mem_527 ;
  UCHAR *mem_528 ;
  UCHAR *mem_529 ;
  UCHAR *mem_530 ;
  ULONG *mem_531 ;
  LONG *mem_532 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_533 ;
  UCHAR *mem_534 ;
  UCHAR *mem_535 ;
  UCHAR *mem_536 ;
  BOOLEAN *mem_537 ;
  UCHAR *mem_538 ;
  PUCHAR *mem_539 ;
  UCHAR *mem_540 ;
  PUCHAR *mem_541 ;
  UCHAR *mem_542 ;
  PUCHAR *mem_543 ;
  USHORT *mem_544 ;
  PUCHAR *mem_545 ;
  PUCHAR *mem_546 ;
  UCHAR *mem_547 ;
  USHORT *mem_548 ;
  UCHAR *mem_549 ;
  UCHAR *mem_550 ;
  UCHAR *mem_551 ;
  UCHAR *mem_552 ;
  UCHAR *mem_553 ;
  UCHAR *mem_554 ;
  UCHAR *mem_555 ;
  UCHAR *mem_556 ;
  UCHAR *mem_557 ;
  UCHAR *mem_558 ;
  UCHAR *mem_559 ;
  UCHAR *mem_560 ;
  PMDL *mem_561 ;
  UCHAR *mem_562 ;
  UCHAR *mem_563 ;
  UCHAR *mem_564 ;
  BOOLEAN *mem_565 ;
  UCHAR *mem_566 ;
  UCHAR *mem_567 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_568 ;
  UCHAR *mem_569 ;
  UCHAR *mem_570 ;
  UCHAR *mem_571 ;
  UCHAR *mem_572 ;
  PDEVICE_OBJECT *mem_573 ;
  UCHAR *mem_574 ;
  UCHAR *mem_575 ;
  PVOID *mem_576 ;

  {
#line 5429
  numberOfBadTracks = (unsigned char)0;
#line 5434
  bufferOverflow = (unsigned char)0;
  {
#line 5440
  while (1) {
    while_165_continue: /* CIL Label */ ;
    goto while_165_break;
  }
  while_165_break: /* CIL Label */ ;
  }
#line 5442
  __cil_tmp22 = 24 + 8;
#line 5442
  __cil_tmp23 = 0 + __cil_tmp22;
#line 5442
  __cil_tmp24 = 64 + __cil_tmp23;
#line 5442
  __cil_tmp25 = (unsigned int )Irp;
#line 5442
  __cil_tmp26 = __cil_tmp25 + __cil_tmp24;
#line 5442
  mem_485 = (struct _IO_STACK_LOCATION **)__cil_tmp26;
#line 5442
  irpSp = *mem_485;
#line 5443
  __cil_tmp27 = (unsigned int )Irp;
#line 5443
  __cil_tmp28 = __cil_tmp27 + 12;
#line 5443
  mem_486 = (PVOID *)__cil_tmp28;
#line 5443
  __cil_tmp29 = *mem_486;
#line 5443
  formatParameters = (struct _FORMAT_PARAMETERS *)__cil_tmp29;
  {
#line 5444
  __cil_tmp30 = 11 << 2;
#line 5444
  __cil_tmp31 = 3 << 14;
#line 5444
  __cil_tmp32 = 7 << 16;
#line 5444
  __cil_tmp33 = __cil_tmp32 | __cil_tmp31;
#line 5444
  __cil_tmp34 = __cil_tmp33 | __cil_tmp30;
#line 5444
  __cil_tmp35 = (unsigned long )__cil_tmp34;
#line 5444
  __cil_tmp36 = 0 + 8;
#line 5444
  __cil_tmp37 = 4 + __cil_tmp36;
#line 5444
  __cil_tmp38 = (unsigned int )irpSp;
#line 5444
  __cil_tmp39 = __cil_tmp38 + __cil_tmp37;
#line 5444
  mem_487 = (ULONG *)__cil_tmp39;
#line 5444
  __cil_tmp40 = *mem_487;
#line 5444
  if (__cil_tmp40 == __cil_tmp35) {
#line 5446
    __cil_tmp41 = (unsigned int )Irp;
#line 5446
    __cil_tmp42 = __cil_tmp41 + 12;
#line 5446
    mem_488 = (PVOID *)__cil_tmp42;
#line 5446
    __cil_tmp43 = *mem_488;
#line 5446
    formatExParameters = (struct _FORMAT_EX_PARAMETERS *)__cil_tmp43;
  } else {
#line 5449
    __cil_tmp44 = (void *)0;
#line 5449
    formatExParameters = (struct _FORMAT_EX_PARAMETERS *)__cil_tmp44;
  }
  }
  {
#line 5464
  while (1) {
    while_166_continue: /* CIL Label */ ;
    goto while_166_break;
  }
  while_166_break: /* CIL Label */ ;
  }
#line 5466
  __cil_tmp45 = (unsigned int )irpSp;
#line 5466
  __cil_tmp46 = __cil_tmp45 + 4;
#line 5466
  mem_489 = (ULONG *)__cil_tmp46;
#line 5466
  badTrackBufferLength = *mem_489;
#line 5475
  __cil_tmp47 = (unsigned int )DisketteExtension;
#line 5475
  __cil_tmp48 = __cil_tmp47 + 174;
#line 5475
  mem_490 = (UCHAR *)__cil_tmp48;
#line 5475
  __cil_tmp49 = *mem_490;
#line 5475
  __cil_tmp50 = (int )__cil_tmp49;
#line 5475
  __cil_tmp51 = DriveMediaLimits + __cil_tmp50;
#line 5475
  mem_491 = (DRIVE_MEDIA_TYPE *)__cil_tmp51;
#line 5475
  driveMediaType = *mem_491;
  {
#line 5478
  while (1) {
    while_167_continue: /* CIL Label */ ;
    {
#line 5478
    mem_492 = (MEDIA_TYPE *)formatParameters;
#line 5478
    __cil_tmp52 = *mem_492;
#line 5478
    __cil_tmp53 = (int )__cil_tmp52;
#line 5478
    __cil_tmp54 = (unsigned int )driveMediaType;
#line 5478
    __cil_tmp55 = DriveMediaConstants + __cil_tmp54;
#line 5478
    mem_493 = (MEDIA_TYPE *)__cil_tmp55;
#line 5478
    __cil_tmp56 = *mem_493;
#line 5478
    __cil_tmp57 = (int )__cil_tmp56;
#line 5478
    if (__cil_tmp57 != __cil_tmp53) {
      {
#line 5478
      __cil_tmp58 = (unsigned int )DisketteExtension;
#line 5478
      __cil_tmp59 = __cil_tmp58 + 174;
#line 5478
      mem_494 = (UCHAR *)__cil_tmp59;
#line 5478
      __cil_tmp60 = *mem_494;
#line 5478
      __cil_tmp61 = (int )__cil_tmp60;
#line 5478
      __cil_tmp62 = DriveMediaLimits + __cil_tmp61;
#line 5478
      __cil_tmp63 = (unsigned int )__cil_tmp62;
#line 5478
      __cil_tmp64 = __cil_tmp63 + 32;
#line 5478
      mem_495 = (DRIVE_MEDIA_TYPE *)__cil_tmp64;
#line 5478
      __cil_tmp65 = *mem_495;
#line 5478
      __cil_tmp66 = (int )__cil_tmp65;
#line 5478
      __cil_tmp67 = (int )driveMediaType;
#line 5478
      __cil_tmp68 = __cil_tmp67 > __cil_tmp66;
#line 5478
      if (! __cil_tmp68) {
        goto while_167_break;
      } else {

      }
      }
    } else {
      goto while_167_break;
    }
    }
#line 5483
    __cil_tmp69 = (int )driveMediaType;
#line 5483
    __cil_tmp70 = __cil_tmp69 - 1;
#line 5483
    driveMediaType = (enum _DRIVE_MEDIA_TYPE )__cil_tmp70;
  }
  while_167_break: /* CIL Label */ ;
  }
#line 5486
  __cil_tmp71 = (unsigned int )driveMediaType;
#line 5486
  driveMediaConstants = DriveMediaConstants + __cil_tmp71;
#line 5493
  __cil_tmp72 = (unsigned int )DisketteExtension;
#line 5493
  __cil_tmp73 = __cil_tmp72 + 184;
#line 5493
  mem_496 = (MEDIA_TYPE *)__cil_tmp73;
#line 5493
  mem_497 = (MEDIA_TYPE *)formatParameters;
#line 5493
  *mem_496 = *mem_497;
#line 5494
  __cil_tmp74 = (unsigned int )DisketteExtension;
#line 5494
  __cil_tmp75 = __cil_tmp74 + 216;
#line 5494
  mem_498 = (DRIVE_MEDIA_TYPE *)__cil_tmp75;
#line 5494
  *mem_498 = driveMediaType;
#line 5495
  __cil_tmp76 = (unsigned int )DisketteExtension;
#line 5495
  __cil_tmp77 = __cil_tmp76 + 308;
#line 5495
  __cil_tmp78 = (unsigned int )driveMediaType;
#line 5495
  __cil_tmp79 = DriveMediaConstants + __cil_tmp78;
#line 5495
  mem_499 = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp77;
#line 5495
  *mem_499 = *__cil_tmp79;
#line 5498
  if (formatExParameters) {
#line 5499
    __cil_tmp80 = 308 + 38;
#line 5499
    __cil_tmp81 = (unsigned int )DisketteExtension;
#line 5499
    __cil_tmp82 = __cil_tmp81 + __cil_tmp80;
#line 5499
    __cil_tmp83 = (unsigned int )formatExParameters;
#line 5499
    __cil_tmp84 = __cil_tmp83 + 50;
#line 5499
    mem_500 = (USHORT *)__cil_tmp84;
#line 5499
    __cil_tmp85 = *mem_500;
#line 5499
    mem_501 = (UCHAR *)__cil_tmp82;
#line 5499
    *mem_501 = (unsigned char )__cil_tmp85;
#line 5501
    __cil_tmp86 = 308 + 40;
#line 5501
    __cil_tmp87 = (unsigned int )DisketteExtension;
#line 5501
    __cil_tmp88 = __cil_tmp87 + __cil_tmp86;
#line 5501
    __cil_tmp89 = (unsigned int )formatExParameters;
#line 5501
    __cil_tmp90 = __cil_tmp89 + 48;
#line 5501
    mem_502 = (USHORT *)__cil_tmp90;
#line 5501
    __cil_tmp91 = *mem_502;
#line 5501
    mem_503 = (UCHAR *)__cil_tmp88;
#line 5501
    *mem_503 = (unsigned char )__cil_tmp91;
  } else {

  }
#line 5505
  __cil_tmp92 = (unsigned int )DisketteExtension;
#line 5505
  __cil_tmp93 = __cil_tmp92 + 308;
#line 5505
  driveMediaConstants = (DRIVE_MEDIA_CONSTANTS *)__cil_tmp93;
#line 5507
  __cil_tmp94 = (unsigned int )DisketteExtension;
#line 5507
  __cil_tmp95 = __cil_tmp94 + 176;
#line 5507
  __cil_tmp96 = (unsigned int )driveMediaConstants;
#line 5507
  __cil_tmp97 = __cil_tmp96 + 36;
#line 5507
  mem_504 = (USHORT *)__cil_tmp97;
#line 5507
  __cil_tmp98 = *mem_504;
#line 5507
  mem_505 = (ULONG *)__cil_tmp95;
#line 5507
  *mem_505 = (unsigned long )__cil_tmp98;
#line 5509
  __cil_tmp99 = (unsigned int )DisketteExtension;
#line 5509
  __cil_tmp100 = __cil_tmp99 + 180;
#line 5509
  __cil_tmp101 = (unsigned int )driveMediaConstants;
#line 5509
  __cil_tmp102 = __cil_tmp101 + 51;
#line 5509
  mem_506 = (UCHAR *)__cil_tmp102;
#line 5509
  __cil_tmp103 = *mem_506;
#line 5509
  __cil_tmp104 = (int )__cil_tmp103;
#line 5509
  __cil_tmp105 = (unsigned int )driveMediaConstants;
#line 5509
  __cil_tmp106 = __cil_tmp105 + 48;
#line 5509
  mem_507 = (UCHAR *)__cil_tmp106;
#line 5509
  __cil_tmp107 = *mem_507;
#line 5509
  __cil_tmp108 = (int )__cil_tmp107;
#line 5509
  __cil_tmp109 = 1 + __cil_tmp108;
#line 5509
  __cil_tmp110 = (unsigned int )driveMediaConstants;
#line 5509
  __cil_tmp111 = __cil_tmp110 + 38;
#line 5509
  mem_508 = (UCHAR *)__cil_tmp111;
#line 5509
  __cil_tmp112 = *mem_508;
#line 5509
  __cil_tmp113 = (int )__cil_tmp112;
#line 5509
  __cil_tmp114 = (unsigned int )driveMediaConstants;
#line 5509
  __cil_tmp115 = __cil_tmp114 + 36;
#line 5509
  mem_509 = (USHORT *)__cil_tmp115;
#line 5509
  __cil_tmp116 = *mem_509;
#line 5509
  __cil_tmp117 = (int )__cil_tmp116;
#line 5509
  __cil_tmp118 = __cil_tmp117 * __cil_tmp113;
#line 5509
  __cil_tmp119 = __cil_tmp118 * __cil_tmp109;
#line 5509
  __cil_tmp120 = __cil_tmp119 * __cil_tmp104;
#line 5509
  mem_510 = (ULONG *)__cil_tmp100;
#line 5509
  *mem_510 = (unsigned long )__cil_tmp120;
#line 5515
  __cil_tmp121 = (unsigned int )formatParameters;
#line 5515
  __cil_tmp122 = __cil_tmp121 + 40;
#line 5515
  mem_511 = (ULONG *)__cil_tmp122;
#line 5515
  __cil_tmp123 = *mem_511;
#line 5515
  __cil_tmp124 = (unsigned int )driveMediaConstants;
#line 5515
  __cil_tmp125 = __cil_tmp124 + 51;
#line 5515
  mem_512 = (UCHAR *)__cil_tmp125;
#line 5515
  __cil_tmp126 = *mem_512;
#line 5515
  __cil_tmp127 = (unsigned long )__cil_tmp126;
#line 5515
  __cil_tmp128 = (unsigned int )formatParameters;
#line 5515
  __cil_tmp129 = __cil_tmp128 + 32;
#line 5515
  mem_513 = (ULONG *)__cil_tmp129;
#line 5515
  __cil_tmp130 = *mem_513;
#line 5515
  __cil_tmp131 = __cil_tmp130 * __cil_tmp127;
#line 5515
  __cil_tmp132 = __cil_tmp131 + __cil_tmp123;
#line 5515
  currentTrack = (unsigned char )__cil_tmp132;
#line 5519
  __cil_tmp133 = (unsigned int )formatParameters;
#line 5519
  __cil_tmp134 = __cil_tmp133 + 44;
#line 5519
  mem_514 = (ULONG *)__cil_tmp134;
#line 5519
  __cil_tmp135 = *mem_514;
#line 5519
  __cil_tmp136 = (unsigned int )driveMediaConstants;
#line 5519
  __cil_tmp137 = __cil_tmp136 + 51;
#line 5519
  mem_515 = (UCHAR *)__cil_tmp137;
#line 5519
  __cil_tmp138 = *mem_515;
#line 5519
  __cil_tmp139 = (unsigned long )__cil_tmp138;
#line 5519
  __cil_tmp140 = (unsigned int )formatParameters;
#line 5519
  __cil_tmp141 = __cil_tmp140 + 36;
#line 5519
  mem_516 = (ULONG *)__cil_tmp141;
#line 5519
  __cil_tmp142 = *mem_516;
#line 5519
  __cil_tmp143 = __cil_tmp142 * __cil_tmp139;
#line 5519
  __cil_tmp144 = __cil_tmp143 + __cil_tmp135;
#line 5519
  endTrack = (unsigned char )__cil_tmp144;
  {
#line 5528
  while (1) {
    while_168_continue: /* CIL Label */ ;
    goto while_168_break;
  }
  while_168_break: /* CIL Label */ ;
  }
  {
#line 5535
  __cil_tmp145 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 5535
  __cil_tmp146 = (unsigned int )__cil_tmp145;
#line 5535
  __cil_tmp147 = __cil_tmp146 + 732;
#line 5535
  mem_517 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp147;
#line 5535
  __cil_tmp148 = *mem_517;
#line 5535
  __cil_tmp149 = (int )__cil_tmp148;
#line 5535
  if (__cil_tmp149 == 1) {
    {
#line 5537
    FlHdbit(DisketteExtension);
    }
  } else {

  }
  }
  {
#line 5541
  __cil_tmp150 = (int )driveMediaType;
#line 5541
  __cil_tmp151 = (unsigned int )DisketteExtension;
#line 5541
  __cil_tmp152 = __cil_tmp151 + 140;
#line 5541
  mem_518 = (DRIVE_MEDIA_TYPE *)__cil_tmp152;
#line 5541
  __cil_tmp153 = *mem_518;
#line 5541
  __cil_tmp154 = (int )__cil_tmp153;
#line 5541
  if (__cil_tmp154 != __cil_tmp150) {
    {
#line 5543
    ntStatus = FlDatarateSpecifyConfigure(DisketteExtension);
    }
    {
#line 5545
    __cil_tmp155 = ntStatus >= 0L;
#line 5545
    if (! __cil_tmp155) {
#line 5547
      return (ntStatus);
    } else {

    }
    }
  } else {

  }
  }
#line 5555
  __cil_tmp156 = (unsigned int )DisketteExtension;
#line 5555
  __cil_tmp157 = __cil_tmp156 + 250;
#line 5555
  mem_519 = (BOOLEAN *)__cil_tmp157;
#line 5555
  *mem_519 = (unsigned char)0;
  {
#line 5561
  while (1) {
    while_169_continue: /* CIL Label */ ;
#line 5567
    __cil_tmp158 = 0 * 1U;
#line 5567
    __cil_tmp159 = 112 + __cil_tmp158;
#line 5567
    __cil_tmp160 = (unsigned int )DisketteExtension;
#line 5567
    __cil_tmp161 = __cil_tmp160 + __cil_tmp159;
#line 5567
    mem_520 = (UCHAR *)__cil_tmp161;
#line 5567
    *mem_520 = (unsigned char)16;
#line 5568
    __cil_tmp162 = 1 * 1U;
#line 5568
    __cil_tmp163 = 112 + __cil_tmp162;
#line 5568
    __cil_tmp164 = (unsigned int )DisketteExtension;
#line 5568
    __cil_tmp165 = __cil_tmp164 + __cil_tmp163;
#line 5568
    __cil_tmp166 = (unsigned int )DisketteExtension;
#line 5568
    __cil_tmp167 = __cil_tmp166 + 248;
#line 5568
    mem_521 = (UCHAR *)__cil_tmp165;
#line 5568
    mem_522 = (UCHAR *)__cil_tmp167;
#line 5568
    *mem_521 = *mem_522;
#line 5569
    __cil_tmp168 = 2 * 1U;
#line 5569
    __cil_tmp169 = 112 + __cil_tmp168;
#line 5569
    __cil_tmp170 = (unsigned int )DisketteExtension;
#line 5569
    __cil_tmp171 = __cil_tmp170 + __cil_tmp169;
#line 5569
    __cil_tmp172 = (unsigned int )driveMediaConstants;
#line 5569
    __cil_tmp173 = __cil_tmp172 + 49;
#line 5569
    mem_523 = (UCHAR *)__cil_tmp173;
#line 5569
    __cil_tmp174 = *mem_523;
#line 5569
    __cil_tmp175 = (int )__cil_tmp174;
#line 5569
    __cil_tmp176 = (unsigned int )driveMediaConstants;
#line 5569
    __cil_tmp177 = __cil_tmp176 + 51;
#line 5569
    mem_524 = (UCHAR *)__cil_tmp177;
#line 5569
    __cil_tmp178 = *mem_524;
#line 5569
    __cil_tmp179 = (int )__cil_tmp178;
#line 5569
    __cil_tmp180 = (int )currentTrack;
#line 5569
    __cil_tmp181 = __cil_tmp180 / __cil_tmp179;
#line 5569
    __cil_tmp182 = __cil_tmp181 << __cil_tmp175;
#line 5569
    mem_525 = (UCHAR *)__cil_tmp171;
#line 5569
    *mem_525 = (unsigned char )__cil_tmp182;
    {
#line 5577
    while (1) {
      while_170_continue: /* CIL Label */ ;
      goto while_170_break;
    }
    while_170_break: /* CIL Label */ ;
    }
    {
#line 5579
    __cil_tmp183 = 0 * 1U;
#line 5579
    __cil_tmp184 = 112 + __cil_tmp183;
#line 5579
    __cil_tmp185 = (unsigned int )DisketteExtension;
#line 5579
    __cil_tmp186 = __cil_tmp185 + __cil_tmp184;
#line 5579
    __cil_tmp187 = (UCHAR *)__cil_tmp186;
#line 5579
    __cil_tmp188 = 0 * 1U;
#line 5579
    __cil_tmp189 = 112 + __cil_tmp188;
#line 5579
    __cil_tmp190 = (unsigned int )DisketteExtension;
#line 5579
    __cil_tmp191 = __cil_tmp190 + __cil_tmp189;
#line 5579
    __cil_tmp192 = (UCHAR *)__cil_tmp191;
#line 5579
    __cil_tmp193 = (void *)0;
#line 5579
    __cil_tmp194 = (struct _MDL *)__cil_tmp193;
#line 5579
    ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp187, __cil_tmp192, __cil_tmp194,
                              0UL, 0UL);
    }
#line 5586
    if (ntStatus >= 0L) {
      {
#line 5588
      __cil_tmp195 = 0 * 1U;
#line 5588
      __cil_tmp196 = 112 + __cil_tmp195;
#line 5588
      __cil_tmp197 = (unsigned int )DisketteExtension;
#line 5588
      __cil_tmp198 = __cil_tmp197 + __cil_tmp196;
#line 5588
      mem_526 = (UCHAR *)__cil_tmp198;
#line 5588
      __cil_tmp199 = *mem_526;
#line 5588
      __cil_tmp200 = (int )__cil_tmp199;
#line 5588
      if (__cil_tmp200 & 32) {
        {
#line 5588
        __cil_tmp201 = (unsigned int )driveMediaConstants;
#line 5588
        __cil_tmp202 = __cil_tmp201 + 49;
#line 5588
        mem_527 = (UCHAR *)__cil_tmp202;
#line 5588
        __cil_tmp203 = *mem_527;
#line 5588
        __cil_tmp204 = (int )__cil_tmp203;
#line 5588
        __cil_tmp205 = (unsigned int )driveMediaConstants;
#line 5588
        __cil_tmp206 = __cil_tmp205 + 51;
#line 5588
        mem_528 = (UCHAR *)__cil_tmp206;
#line 5588
        __cil_tmp207 = *mem_528;
#line 5588
        __cil_tmp208 = (int )__cil_tmp207;
#line 5588
        __cil_tmp209 = (int )currentTrack;
#line 5588
        __cil_tmp210 = __cil_tmp209 / __cil_tmp208;
#line 5588
        __cil_tmp211 = __cil_tmp210 << __cil_tmp204;
#line 5588
        __cil_tmp212 = (unsigned char )__cil_tmp211;
#line 5588
        __cil_tmp213 = (int )__cil_tmp212;
#line 5588
        __cil_tmp214 = 1 * 1U;
#line 5588
        __cil_tmp215 = 112 + __cil_tmp214;
#line 5588
        __cil_tmp216 = (unsigned int )DisketteExtension;
#line 5588
        __cil_tmp217 = __cil_tmp216 + __cil_tmp215;
#line 5588
        mem_529 = (UCHAR *)__cil_tmp217;
#line 5588
        __cil_tmp218 = *mem_529;
#line 5588
        __cil_tmp219 = (int )__cil_tmp218;
#line 5588
        if (__cil_tmp219 == __cil_tmp213) {
          {
#line 5598
          __cil_tmp220 = & headSettleTime;
#line 5598
          __cil_tmp221 = (unsigned int )driveMediaConstants;
#line 5598
          __cil_tmp222 = __cil_tmp221 + 42;
#line 5598
          mem_530 = (UCHAR *)__cil_tmp222;
#line 5598
          __cil_tmp223 = *mem_530;
#line 5598
          __cil_tmp224 = (int )__cil_tmp223;
#line 5598
          __cil_tmp225 = 10000 * __cil_tmp224;
#line 5598
          __cil_tmp226 = - __cil_tmp225;
#line 5598
          mem_531 = (ULONG *)__cil_tmp220;
#line 5598
          *mem_531 = (unsigned long )__cil_tmp226;
#line 5600
          __cil_tmp227 = 0 + 4;
#line 5600
          __cil_tmp228 = (unsigned int )(& headSettleTime) + __cil_tmp227;
#line 5600
          mem_532 = (LONG *)__cil_tmp228;
#line 5600
          *mem_532 = -1L;
#line 5602
          KeDelayExecutionThread((char)0, (unsigned char)0, & headSettleTime);
          }
          {
#line 5607
          __cil_tmp229 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 5607
          __cil_tmp230 = (unsigned int )__cil_tmp229;
#line 5607
          __cil_tmp231 = __cil_tmp230 + 732;
#line 5607
          mem_533 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp231;
#line 5607
          __cil_tmp232 = *mem_533;
#line 5607
          __cil_tmp233 = (int )__cil_tmp232;
#line 5607
          __cil_tmp234 = __cil_tmp233 == 1;
#line 5607
          if (! __cil_tmp234) {
            {
#line 5619
            __cil_tmp235 = 0 * 1U;
#line 5619
            __cil_tmp236 = 112 + __cil_tmp235;
#line 5619
            __cil_tmp237 = (unsigned int )DisketteExtension;
#line 5619
            __cil_tmp238 = __cil_tmp237 + __cil_tmp236;
#line 5619
            mem_534 = (UCHAR *)__cil_tmp238;
#line 5619
            *mem_534 = (unsigned char)84;
#line 5621
            __cil_tmp239 = 1 * 1U;
#line 5621
            __cil_tmp240 = 112 + __cil_tmp239;
#line 5621
            __cil_tmp241 = (unsigned int )DisketteExtension;
#line 5621
            __cil_tmp242 = __cil_tmp241 + __cil_tmp240;
#line 5621
            __cil_tmp243 = (unsigned int )DisketteExtension;
#line 5621
            __cil_tmp244 = __cil_tmp243 + 248;
#line 5621
            mem_535 = (UCHAR *)__cil_tmp242;
#line 5621
            mem_536 = (UCHAR *)__cil_tmp244;
#line 5621
            *mem_535 = *mem_536;
#line 5624
            __cil_tmp245 = 0 * 1U;
#line 5624
            __cil_tmp246 = 112 + __cil_tmp245;
#line 5624
            __cil_tmp247 = (unsigned int )DisketteExtension;
#line 5624
            __cil_tmp248 = __cil_tmp247 + __cil_tmp246;
#line 5624
            __cil_tmp249 = (UCHAR *)__cil_tmp248;
#line 5624
            __cil_tmp250 = 0 * 1U;
#line 5624
            __cil_tmp251 = 112 + __cil_tmp250;
#line 5624
            __cil_tmp252 = (unsigned int )DisketteExtension;
#line 5624
            __cil_tmp253 = __cil_tmp252 + __cil_tmp251;
#line 5624
            __cil_tmp254 = (UCHAR *)__cil_tmp253;
#line 5624
            __cil_tmp255 = (void *)0;
#line 5624
            __cil_tmp256 = (struct _MDL *)__cil_tmp255;
#line 5624
            ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp249, __cil_tmp254,
                                      __cil_tmp256, 0UL, 0UL);
            }
          } else {

          }
          }
        } else {
          goto _L;
        }
        }
      } else {
        _L: 
        {
#line 5641
        while (1) {
          while_171_continue: /* CIL Label */ ;
          goto while_171_break;
        }
        while_171_break: /* CIL Label */ ;
        }
#line 5643
        __cil_tmp257 = (unsigned int )DisketteExtension;
#line 5643
        __cil_tmp258 = __cil_tmp257 + 104;
#line 5643
        mem_537 = (BOOLEAN *)__cil_tmp258;
#line 5643
        *mem_537 = (unsigned char)1;
#line 5645
        ntStatus = -1073741464L;
      }
      }
    } else {

    }
    {
#line 5649
    __cil_tmp259 = ntStatus >= 0L;
#line 5649
    if (! __cil_tmp259) {
      {
#line 5654
      while (1) {
        while_172_continue: /* CIL Label */ ;
        goto while_172_break;
      }
      while_172_break: /* CIL Label */ ;
      }
#line 5656
      return (ntStatus);
    } else {

    }
    }
#line 5663
    whichSector = (unsigned char)0;
    {
#line 5663
    while (1) {
      while_173_continue: /* CIL Label */ ;
      {
#line 5663
      __cil_tmp260 = (unsigned int )driveMediaConstants;
#line 5663
      __cil_tmp261 = __cil_tmp260 + 38;
#line 5663
      mem_538 = (UCHAR *)__cil_tmp261;
#line 5663
      __cil_tmp262 = *mem_538;
#line 5663
      __cil_tmp263 = (int )__cil_tmp262;
#line 5663
      __cil_tmp264 = (int )whichSector;
#line 5663
      if (__cil_tmp264 < __cil_tmp263) {

      } else {
        goto while_173_break;
      }
      }
#line 5667
      __cil_tmp265 = (int )whichSector;
#line 5667
      __cil_tmp266 = __cil_tmp265 * 4;
#line 5667
      __cil_tmp267 = (unsigned int )DisketteExtension;
#line 5667
      __cil_tmp268 = __cil_tmp267 + 124;
#line 5667
      mem_539 = (PUCHAR *)__cil_tmp268;
#line 5667
      __cil_tmp269 = *mem_539;
#line 5667
      __cil_tmp270 = __cil_tmp269 + __cil_tmp266;
#line 5667
      __cil_tmp271 = (unsigned int )driveMediaConstants;
#line 5667
      __cil_tmp272 = __cil_tmp271 + 51;
#line 5667
      mem_540 = (UCHAR *)__cil_tmp272;
#line 5667
      __cil_tmp273 = *mem_540;
#line 5667
      __cil_tmp274 = (int )__cil_tmp273;
#line 5667
      __cil_tmp275 = (int )currentTrack;
#line 5667
      __cil_tmp276 = __cil_tmp275 / __cil_tmp274;
#line 5667
      *__cil_tmp270 = (unsigned char )__cil_tmp276;
#line 5669
      __cil_tmp277 = (int )whichSector;
#line 5669
      __cil_tmp278 = __cil_tmp277 * 4;
#line 5669
      __cil_tmp279 = __cil_tmp278 + 1;
#line 5669
      __cil_tmp280 = (unsigned int )DisketteExtension;
#line 5669
      __cil_tmp281 = __cil_tmp280 + 124;
#line 5669
      mem_541 = (PUCHAR *)__cil_tmp281;
#line 5669
      __cil_tmp282 = *mem_541;
#line 5669
      __cil_tmp283 = __cil_tmp282 + __cil_tmp279;
#line 5669
      __cil_tmp284 = (unsigned int )driveMediaConstants;
#line 5669
      __cil_tmp285 = __cil_tmp284 + 51;
#line 5669
      mem_542 = (UCHAR *)__cil_tmp285;
#line 5669
      __cil_tmp286 = *mem_542;
#line 5669
      __cil_tmp287 = (int )__cil_tmp286;
#line 5669
      __cil_tmp288 = (int )currentTrack;
#line 5669
      __cil_tmp289 = __cil_tmp288 % __cil_tmp287;
#line 5669
      *__cil_tmp283 = (unsigned char )__cil_tmp289;
#line 5671
      if (formatExParameters) {
#line 5672
        __cil_tmp290 = (int )whichSector;
#line 5672
        __cil_tmp291 = __cil_tmp290 * 4;
#line 5672
        __cil_tmp292 = __cil_tmp291 + 2;
#line 5672
        __cil_tmp293 = (unsigned int )DisketteExtension;
#line 5672
        __cil_tmp294 = __cil_tmp293 + 124;
#line 5672
        mem_543 = (PUCHAR *)__cil_tmp294;
#line 5672
        __cil_tmp295 = *mem_543;
#line 5672
        __cil_tmp296 = __cil_tmp295 + __cil_tmp292;
#line 5672
        __cil_tmp297 = whichSector * 2U;
#line 5672
        __cil_tmp298 = 52 + __cil_tmp297;
#line 5672
        __cil_tmp299 = (unsigned int )formatExParameters;
#line 5672
        __cil_tmp300 = __cil_tmp299 + __cil_tmp298;
#line 5672
        mem_544 = (USHORT *)__cil_tmp300;
#line 5672
        __cil_tmp301 = *mem_544;
#line 5672
        *__cil_tmp296 = (unsigned char )__cil_tmp301;
      } else {
#line 5675
        __cil_tmp302 = (int )whichSector;
#line 5675
        __cil_tmp303 = __cil_tmp302 * 4;
#line 5675
        __cil_tmp304 = __cil_tmp303 + 2;
#line 5675
        __cil_tmp305 = (unsigned int )DisketteExtension;
#line 5675
        __cil_tmp306 = __cil_tmp305 + 124;
#line 5675
        mem_545 = (PUCHAR *)__cil_tmp306;
#line 5675
        __cil_tmp307 = *mem_545;
#line 5675
        __cil_tmp308 = __cil_tmp307 + __cil_tmp304;
#line 5675
        __cil_tmp309 = (int )whichSector;
#line 5675
        __cil_tmp310 = __cil_tmp309 + 1;
#line 5675
        *__cil_tmp308 = (unsigned char )__cil_tmp310;
      }
#line 5678
      __cil_tmp311 = (int )whichSector;
#line 5678
      __cil_tmp312 = __cil_tmp311 * 4;
#line 5678
      __cil_tmp313 = __cil_tmp312 + 3;
#line 5678
      __cil_tmp314 = (unsigned int )DisketteExtension;
#line 5678
      __cil_tmp315 = __cil_tmp314 + 124;
#line 5678
      mem_546 = (PUCHAR *)__cil_tmp315;
#line 5678
      __cil_tmp316 = *mem_546;
#line 5678
      __cil_tmp317 = __cil_tmp316 + __cil_tmp313;
#line 5678
      __cil_tmp318 = (unsigned int )driveMediaConstants;
#line 5678
      __cil_tmp319 = __cil_tmp318 + 35;
#line 5678
      mem_547 = (UCHAR *)__cil_tmp319;
#line 5678
      *__cil_tmp317 = *mem_547;
      {
#line 5689
      while (1) {
        while_174_continue: /* CIL Label */ ;
        goto while_174_break;
      }
      while_174_break: /* CIL Label */ ;
      }
#line 5663
      __cil_tmp320 = (int )whichSector;
#line 5663
      __cil_tmp321 = __cil_tmp320 + 1;
#line 5663
      whichSector = (unsigned char )__cil_tmp321;
    }
    while_173_break: /* CIL Label */ ;
    }
#line 5696
    retryCount = (unsigned char)0;
    {
#line 5698
    while (1) {
      while_175_continue: /* CIL Label */ ;
#line 5702
      __cil_tmp322 = (unsigned int )driveMediaConstants;
#line 5702
      __cil_tmp323 = __cil_tmp322 + 36;
#line 5702
      mem_548 = (USHORT *)__cil_tmp323;
#line 5702
      __cil_tmp324 = *mem_548;
#line 5702
      length = (unsigned long )__cil_tmp324;
#line 5708
      __cil_tmp325 = 0 * 1U;
#line 5708
      __cil_tmp326 = 112 + __cil_tmp325;
#line 5708
      __cil_tmp327 = (unsigned int )DisketteExtension;
#line 5708
      __cil_tmp328 = __cil_tmp327 + __cil_tmp326;
#line 5708
      mem_549 = (UCHAR *)__cil_tmp328;
#line 5708
      *mem_549 = (unsigned char)71;
#line 5710
      __cil_tmp329 = 1 * 1U;
#line 5710
      __cil_tmp330 = 112 + __cil_tmp329;
#line 5710
      __cil_tmp331 = (unsigned int )DisketteExtension;
#line 5710
      __cil_tmp332 = __cil_tmp331 + __cil_tmp330;
#line 5710
      __cil_tmp333 = (unsigned int )DisketteExtension;
#line 5710
      __cil_tmp334 = __cil_tmp333 + 248;
#line 5710
      mem_550 = (UCHAR *)__cil_tmp334;
#line 5710
      __cil_tmp335 = *mem_550;
#line 5710
      __cil_tmp336 = (int )__cil_tmp335;
#line 5710
      __cil_tmp337 = (unsigned int )driveMediaConstants;
#line 5710
      __cil_tmp338 = __cil_tmp337 + 51;
#line 5710
      mem_551 = (UCHAR *)__cil_tmp338;
#line 5710
      __cil_tmp339 = *mem_551;
#line 5710
      __cil_tmp340 = (int )__cil_tmp339;
#line 5710
      __cil_tmp341 = (int )currentTrack;
#line 5710
      __cil_tmp342 = __cil_tmp341 % __cil_tmp340;
#line 5710
      __cil_tmp343 = __cil_tmp342 << 2;
#line 5710
      __cil_tmp344 = __cil_tmp343 | __cil_tmp336;
#line 5710
      mem_552 = (UCHAR *)__cil_tmp332;
#line 5710
      *mem_552 = (unsigned char )__cil_tmp344;
#line 5713
      __cil_tmp345 = 2 * 1U;
#line 5713
      __cil_tmp346 = 112 + __cil_tmp345;
#line 5713
      __cil_tmp347 = (unsigned int )DisketteExtension;
#line 5713
      __cil_tmp348 = __cil_tmp347 + __cil_tmp346;
#line 5713
      __cil_tmp349 = (unsigned int )driveMediaConstants;
#line 5713
      __cil_tmp350 = __cil_tmp349 + 35;
#line 5713
      mem_553 = (UCHAR *)__cil_tmp348;
#line 5713
      mem_554 = (UCHAR *)__cil_tmp350;
#line 5713
      *mem_553 = *mem_554;
#line 5715
      __cil_tmp351 = 3 * 1U;
#line 5715
      __cil_tmp352 = 112 + __cil_tmp351;
#line 5715
      __cil_tmp353 = (unsigned int )DisketteExtension;
#line 5715
      __cil_tmp354 = __cil_tmp353 + __cil_tmp352;
#line 5715
      __cil_tmp355 = (unsigned int )driveMediaConstants;
#line 5715
      __cil_tmp356 = __cil_tmp355 + 38;
#line 5715
      mem_555 = (UCHAR *)__cil_tmp354;
#line 5715
      mem_556 = (UCHAR *)__cil_tmp356;
#line 5715
      *mem_555 = *mem_556;
#line 5717
      __cil_tmp357 = 4 * 1U;
#line 5717
      __cil_tmp358 = 112 + __cil_tmp357;
#line 5717
      __cil_tmp359 = (unsigned int )DisketteExtension;
#line 5717
      __cil_tmp360 = __cil_tmp359 + __cil_tmp358;
#line 5717
      __cil_tmp361 = (unsigned int )driveMediaConstants;
#line 5717
      __cil_tmp362 = __cil_tmp361 + 40;
#line 5717
      mem_557 = (UCHAR *)__cil_tmp360;
#line 5717
      mem_558 = (UCHAR *)__cil_tmp362;
#line 5717
      *mem_557 = *mem_558;
#line 5719
      __cil_tmp363 = 5 * 1U;
#line 5719
      __cil_tmp364 = 112 + __cil_tmp363;
#line 5719
      __cil_tmp365 = (unsigned int )DisketteExtension;
#line 5719
      __cil_tmp366 = __cil_tmp365 + __cil_tmp364;
#line 5719
      __cil_tmp367 = (unsigned int )driveMediaConstants;
#line 5719
      __cil_tmp368 = __cil_tmp367 + 41;
#line 5719
      mem_559 = (UCHAR *)__cil_tmp366;
#line 5719
      mem_560 = (UCHAR *)__cil_tmp368;
#line 5719
      *mem_559 = *mem_560;
      {
#line 5735
      while (1) {
        while_176_continue: /* CIL Label */ ;
        goto while_176_break;
      }
      while_176_break: /* CIL Label */ ;
      }
      {
#line 5736
      __cil_tmp369 = 0 * 1U;
#line 5736
      __cil_tmp370 = 112 + __cil_tmp369;
#line 5736
      __cil_tmp371 = (unsigned int )DisketteExtension;
#line 5736
      __cil_tmp372 = __cil_tmp371 + __cil_tmp370;
#line 5736
      __cil_tmp373 = (UCHAR *)__cil_tmp372;
#line 5736
      __cil_tmp374 = 0 * 1U;
#line 5736
      __cil_tmp375 = 112 + __cil_tmp374;
#line 5736
      __cil_tmp376 = (unsigned int )DisketteExtension;
#line 5736
      __cil_tmp377 = __cil_tmp376 + __cil_tmp375;
#line 5736
      __cil_tmp378 = (UCHAR *)__cil_tmp377;
#line 5736
      __cil_tmp379 = (unsigned int )DisketteExtension;
#line 5736
      __cil_tmp380 = __cil_tmp379 + 128;
#line 5736
      mem_561 = (PMDL *)__cil_tmp380;
#line 5736
      __cil_tmp381 = *mem_561;
#line 5736
      ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp373, __cil_tmp378, __cil_tmp381,
                                0UL, length);
      }
      {
#line 5743
      __cil_tmp382 = ntStatus >= 0L;
#line 5743
      if (! __cil_tmp382) {
        {
#line 5748
        while (1) {
          while_177_continue: /* CIL Label */ ;
          goto while_177_break;
        }
        while_177_break: /* CIL Label */ ;
        }
      } else {

      }
      }
#line 5751
      if (ntStatus >= 0L) {
        {
#line 5757
        __cil_tmp383 = 0 * 1U;
#line 5757
        __cil_tmp384 = 112 + __cil_tmp383;
#line 5757
        __cil_tmp385 = (unsigned int )DisketteExtension;
#line 5757
        __cil_tmp386 = __cil_tmp385 + __cil_tmp384;
#line 5757
        mem_562 = (UCHAR *)__cil_tmp386;
#line 5757
        __cil_tmp387 = *mem_562;
#line 5757
        __cil_tmp388 = (int )__cil_tmp387;
#line 5757
        if (__cil_tmp388 & 208) {
          goto _L___0;
        } else {
          {
#line 5757
          __cil_tmp389 = 1 * 1U;
#line 5757
          __cil_tmp390 = 112 + __cil_tmp389;
#line 5757
          __cil_tmp391 = (unsigned int )DisketteExtension;
#line 5757
          __cil_tmp392 = __cil_tmp391 + __cil_tmp390;
#line 5757
          mem_563 = (UCHAR *)__cil_tmp392;
#line 5757
          __cil_tmp393 = *mem_563;
#line 5757
          __cil_tmp394 = (int )__cil_tmp393;
#line 5757
          if (__cil_tmp394 & 16) {
            goto _L___0;
          } else {
            {
#line 5757
            __cil_tmp395 = 2 * 1U;
#line 5757
            __cil_tmp396 = 112 + __cil_tmp395;
#line 5757
            __cil_tmp397 = (unsigned int )DisketteExtension;
#line 5757
            __cil_tmp398 = __cil_tmp397 + __cil_tmp396;
#line 5757
            mem_564 = (UCHAR *)__cil_tmp398;
#line 5757
            __cil_tmp399 = *mem_564;
#line 5757
            __cil_tmp400 = (int )__cil_tmp399;
#line 5757
            if (__cil_tmp400 != 0) {
              _L___0: 
              {
#line 5775
              while (1) {
                while_178_continue: /* CIL Label */ ;
                goto while_178_break;
              }
              while_178_break: /* CIL Label */ ;
              }
              {
#line 5777
              __cil_tmp401 = (unsigned int )DisketteExtension;
#line 5777
              __cil_tmp402 = __cil_tmp401 + 104;
#line 5777
              mem_565 = (BOOLEAN *)__cil_tmp402;
#line 5777
              *mem_565 = (unsigned char)1;
#line 5779
              __cil_tmp403 = 1 * 1U;
#line 5779
              __cil_tmp404 = 112 + __cil_tmp403;
#line 5779
              __cil_tmp405 = (unsigned int )DisketteExtension;
#line 5779
              __cil_tmp406 = __cil_tmp405 + __cil_tmp404;
#line 5779
              mem_566 = (UCHAR *)__cil_tmp406;
#line 5779
              __cil_tmp407 = *mem_566;
#line 5779
              __cil_tmp408 = 2 * 1U;
#line 5779
              __cil_tmp409 = 112 + __cil_tmp408;
#line 5779
              __cil_tmp410 = (unsigned int )DisketteExtension;
#line 5779
              __cil_tmp411 = __cil_tmp410 + __cil_tmp409;
#line 5779
              mem_567 = (UCHAR *)__cil_tmp411;
#line 5779
              __cil_tmp412 = *mem_567;
#line 5779
              ntStatus = FlInterpretError(__cil_tmp407, __cil_tmp412);
              }
            } else {

            }
            }
          }
          }
        }
        }
      } else {

      }
      {
#line 5698
      __cil_tmp413 = ntStatus >= 0L;
#line 5698
      if (! __cil_tmp413) {
#line 5698
        tmp = retryCount;
#line 5698
        __cil_tmp414 = (int )retryCount;
#line 5698
        __cil_tmp415 = __cil_tmp414 + 1;
#line 5698
        retryCount = (unsigned char )__cil_tmp415;
        {
#line 5698
        __cil_tmp416 = (int )tmp;
#line 5698
        __cil_tmp417 = __cil_tmp416 < 3;
#line 5698
        if (! __cil_tmp417) {
          goto while_175_break;
        } else {

        }
        }
      } else {
        goto while_175_break;
      }
      }
    }
    while_175_break: /* CIL Label */ ;
    }
    {
#line 5788
    __cil_tmp418 = ntStatus >= 0L;
#line 5788
    if (! __cil_tmp418) {
      {
#line 5790
      __cil_tmp419 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 5790
      __cil_tmp420 = (unsigned int )__cil_tmp419;
#line 5790
      __cil_tmp421 = __cil_tmp420 + 732;
#line 5790
      mem_568 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp421;
#line 5790
      __cil_tmp422 = *mem_568;
#line 5790
      __cil_tmp423 = (int )__cil_tmp422;
#line 5790
      if (__cil_tmp423 == 1) {
        {
#line 5791
        __cil_tmp424 = 0 * 1U;
#line 5791
        __cil_tmp425 = 112 + __cil_tmp424;
#line 5791
        __cil_tmp426 = (unsigned int )DisketteExtension;
#line 5791
        __cil_tmp427 = __cil_tmp426 + __cil_tmp425;
#line 5791
        mem_569 = (UCHAR *)__cil_tmp427;
#line 5791
        *mem_569 = (unsigned char)14;
#line 5792
        __cil_tmp428 = 1 * 1U;
#line 5792
        __cil_tmp429 = 112 + __cil_tmp428;
#line 5792
        __cil_tmp430 = (unsigned int )DisketteExtension;
#line 5792
        __cil_tmp431 = __cil_tmp430 + __cil_tmp429;
#line 5792
        __cil_tmp432 = (unsigned int )DisketteExtension;
#line 5792
        __cil_tmp433 = __cil_tmp432 + 248;
#line 5792
        mem_570 = (UCHAR *)__cil_tmp431;
#line 5792
        mem_571 = (UCHAR *)__cil_tmp433;
#line 5792
        *mem_570 = *mem_571;
#line 5794
        __cil_tmp434 = 0 * 1U;
#line 5794
        __cil_tmp435 = 112 + __cil_tmp434;
#line 5794
        __cil_tmp436 = (unsigned int )DisketteExtension;
#line 5794
        __cil_tmp437 = __cil_tmp436 + __cil_tmp435;
#line 5794
        __cil_tmp438 = (UCHAR *)__cil_tmp437;
#line 5794
        __cil_tmp439 = 0 * 1U;
#line 5794
        __cil_tmp440 = 112 + __cil_tmp439;
#line 5794
        __cil_tmp441 = (unsigned int )DisketteExtension;
#line 5794
        __cil_tmp442 = __cil_tmp441 + __cil_tmp440;
#line 5794
        __cil_tmp443 = (UCHAR *)__cil_tmp442;
#line 5794
        __cil_tmp444 = (void *)0;
#line 5794
        __cil_tmp445 = (struct _MDL *)__cil_tmp444;
#line 5794
        ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp438, __cil_tmp443, __cil_tmp445,
                                  0UL, 0UL);
        }
        {
#line 5801
        __cil_tmp446 = ntStatus >= 0L;
#line 5801
        if (! __cil_tmp446) {
          {
#line 5806
          while (1) {
            while_179_continue: /* CIL Label */ ;
            goto while_179_break;
          }
          while_179_break: /* CIL Label */ ;
          }
#line 5808
          return (ntStatus);
        } else {

        }
        }
        {
#line 5811
        __cil_tmp447 = 0 * 1U;
#line 5811
        __cil_tmp448 = 112 + __cil_tmp447;
#line 5811
        __cil_tmp449 = (unsigned int )DisketteExtension;
#line 5811
        __cil_tmp450 = __cil_tmp449 + __cil_tmp448;
#line 5811
        mem_572 = (UCHAR *)__cil_tmp450;
#line 5811
        __cil_tmp451 = *mem_572;
#line 5811
        __cil_tmp452 = (int )__cil_tmp451;
#line 5811
        if (__cil_tmp452 & 32) {
#line 5813
          driveStatus = (unsigned char)127;
        } else {
#line 5817
          driveStatus = (unsigned char)128;
        }
        }
      } else {
        {
#line 5822
        __cil_tmp453 = (unsigned int )DisketteExtension;
#line 5822
        __cil_tmp454 = __cil_tmp453 + 8;
#line 5822
        mem_573 = (PDEVICE_OBJECT *)__cil_tmp454;
#line 5822
        __cil_tmp455 = *mem_573;
#line 5822
        __cil_tmp456 = 776 << 2;
#line 5822
        __cil_tmp457 = 7 << 16;
#line 5822
        __cil_tmp458 = __cil_tmp457 | __cil_tmp456;
#line 5822
        __cil_tmp459 = __cil_tmp458 | 3;
#line 5822
        __cil_tmp460 = (unsigned long )__cil_tmp459;
#line 5822
        __cil_tmp461 = (void *)(& fdcDiskChangeParms);
#line 5822
        ntStatus = FlFdcDeviceIo(__cil_tmp455, __cil_tmp460, __cil_tmp461);
#line 5826
        __cil_tmp462 = & fdcDiskChangeParms;
#line 5826
        mem_574 = (UCHAR *)__cil_tmp462;
#line 5826
        driveStatus = *mem_574;
        }
      }
      }
      {
#line 5829
      __cil_tmp463 = (unsigned int )DisketteExtension;
#line 5829
      __cil_tmp464 = __cil_tmp463 + 174;
#line 5829
      mem_575 = (UCHAR *)__cil_tmp464;
#line 5829
      __cil_tmp465 = *mem_575;
#line 5829
      __cil_tmp466 = (int )__cil_tmp465;
#line 5829
      if (__cil_tmp466 != 0) {
        {
#line 5829
        __cil_tmp467 = (int )driveStatus;
#line 5829
        if (__cil_tmp467 & 128) {
#line 5837
          return (-1073741805L);
        } else {

        }
        }
      } else {

      }
      }
      {
#line 5847
      while (1) {
        while_180_continue: /* CIL Label */ ;
        goto while_180_break;
      }
      while_180_break: /* CIL Label */ ;
      }
      {
#line 5849
      __cil_tmp468 = (int )numberOfBadTracks;
#line 5849
      __cil_tmp469 = __cil_tmp468 + 1;
#line 5849
      __cil_tmp470 = (unsigned int )__cil_tmp469;
#line 5849
      __cil_tmp471 = __cil_tmp470 * 2U;
#line 5849
      __cil_tmp472 = (unsigned long )__cil_tmp471;
#line 5849
      if (badTrackBufferLength >= __cil_tmp472) {
#line 5852
        __cil_tmp473 = (unsigned int )Irp;
#line 5852
        __cil_tmp474 = __cil_tmp473 + 12;
#line 5852
        mem_576 = (PVOID *)__cil_tmp474;
#line 5852
        __cil_tmp475 = *mem_576;
#line 5852
        badTrackBuffer = (USHORT *)__cil_tmp475;
#line 5855
        __cil_tmp476 = (int )numberOfBadTracks;
#line 5855
        __cil_tmp477 = badTrackBuffer + __cil_tmp476;
#line 5855
        *__cil_tmp477 = (unsigned short )currentTrack;
      } else {
#line 5860
        bufferOverflow = (unsigned char)1;
      }
      }
#line 5863
      __cil_tmp478 = (int )numberOfBadTracks;
#line 5863
      __cil_tmp479 = __cil_tmp478 + 1;
#line 5863
      numberOfBadTracks = (unsigned char )__cil_tmp479;
    } else {

    }
    }
#line 5866
    __cil_tmp480 = (int )currentTrack;
#line 5866
    __cil_tmp481 = __cil_tmp480 + 1;
#line 5866
    currentTrack = (unsigned char )__cil_tmp481;
    {
#line 5561
    __cil_tmp482 = (int )endTrack;
#line 5561
    __cil_tmp483 = (int )currentTrack;
#line 5561
    __cil_tmp484 = __cil_tmp483 <= __cil_tmp482;
#line 5561
    if (! __cil_tmp484) {
      goto while_169_break;
    } else {

    }
    }
  }
  while_169_break: /* CIL Label */ ;
  }
#line 5870
  if (ntStatus >= 0L) {
#line 5870
    if (bufferOverflow) {
#line 5872
      ntStatus = -2147483643L;
    } else {

    }
  } else {

  }
#line 5875
  return (ntStatus);
}
}
#line 5878 "floppy.c"
BOOLEAN FlCheckFormatParameters(PDISKETTE_EXTENSION DisketteExtension , PFORMAT_PARAMETERS FormatParameters ) 
{ PDRIVE_MEDIA_CONSTANTS driveMediaConstants ;
  DRIVE_MEDIA_TYPE driveMediaType ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  UCHAR __cil_tmp7 ;
  int __cil_tmp8 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp9 ;
  MEDIA_TYPE __cil_tmp10 ;
  int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp13 ;
  MEDIA_TYPE __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  UCHAR __cil_tmp18 ;
  int __cil_tmp19 ;
  PDRIVE_MEDIA_LIMITS __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  DRIVE_MEDIA_TYPE __cil_tmp23 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  MEDIA_TYPE __cil_tmp29 ;
  int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  PDRIVE_MEDIA_CONSTANTS __cil_tmp32 ;
  MEDIA_TYPE __cil_tmp33 ;
  int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  UCHAR __cil_tmp38 ;
  int __cil_tmp39 ;
  int __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  ULONG __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  UCHAR __cil_tmp47 ;
  int __cil_tmp48 ;
  int __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  ULONG __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  UCHAR __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  ULONG __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  UCHAR __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  ULONG __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  ULONG __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  ULONG __cil_tmp73 ;
  KUSER_SHARED_DATA *__cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  ALTERNATIVE_ARCHITECTURE_TYPE __cil_tmp77 ;
  int __cil_tmp78 ;
  MEDIA_TYPE __cil_tmp79 ;
  int __cil_tmp80 ;
  MEDIA_TYPE __cil_tmp81 ;
  int __cil_tmp82 ;
  MEDIA_TYPE __cil_tmp83 ;
  int __cil_tmp84 ;
  MEDIA_TYPE __cil_tmp85 ;
  int __cil_tmp86 ;
  MEDIA_TYPE __cil_tmp87 ;
  int __cil_tmp88 ;
  UCHAR *mem_89 ;
  DRIVE_MEDIA_TYPE *mem_90 ;
  MEDIA_TYPE *mem_91 ;
  MEDIA_TYPE *mem_92 ;
  UCHAR *mem_93 ;
  DRIVE_MEDIA_TYPE *mem_94 ;
  MEDIA_TYPE *mem_95 ;
  MEDIA_TYPE *mem_96 ;
  UCHAR *mem_97 ;
  ULONG *mem_98 ;
  UCHAR *mem_99 ;
  ULONG *mem_100 ;
  UCHAR *mem_101 ;
  ULONG *mem_102 ;
  UCHAR *mem_103 ;
  ULONG *mem_104 ;
  ULONG *mem_105 ;
  ULONG *mem_106 ;
  ALTERNATIVE_ARCHITECTURE_TYPE *mem_107 ;
  MEDIA_TYPE *mem_108 ;
  MEDIA_TYPE *mem_109 ;
  MEDIA_TYPE *mem_110 ;
  MEDIA_TYPE *mem_111 ;
  MEDIA_TYPE *mem_112 ;

  {
#line 5913
  __cil_tmp5 = (unsigned int )DisketteExtension;
#line 5913
  __cil_tmp6 = __cil_tmp5 + 174;
#line 5913
  mem_89 = (UCHAR *)__cil_tmp6;
#line 5913
  __cil_tmp7 = *mem_89;
#line 5913
  __cil_tmp8 = (int )__cil_tmp7;
#line 5913
  __cil_tmp9 = DriveMediaLimits + __cil_tmp8;
#line 5913
  mem_90 = (DRIVE_MEDIA_TYPE *)__cil_tmp9;
#line 5913
  driveMediaType = *mem_90;
  {
#line 5916
  while (1) {
    while_181_continue: /* CIL Label */ ;
    {
#line 5916
    mem_91 = (MEDIA_TYPE *)FormatParameters;
#line 5916
    __cil_tmp10 = *mem_91;
#line 5916
    __cil_tmp11 = (int )__cil_tmp10;
#line 5916
    __cil_tmp12 = (unsigned int )driveMediaType;
#line 5916
    __cil_tmp13 = DriveMediaConstants + __cil_tmp12;
#line 5916
    mem_92 = (MEDIA_TYPE *)__cil_tmp13;
#line 5916
    __cil_tmp14 = *mem_92;
#line 5916
    __cil_tmp15 = (int )__cil_tmp14;
#line 5916
    if (__cil_tmp15 != __cil_tmp11) {
      {
#line 5916
      __cil_tmp16 = (unsigned int )DisketteExtension;
#line 5916
      __cil_tmp17 = __cil_tmp16 + 174;
#line 5916
      mem_93 = (UCHAR *)__cil_tmp17;
#line 5916
      __cil_tmp18 = *mem_93;
#line 5916
      __cil_tmp19 = (int )__cil_tmp18;
#line 5916
      __cil_tmp20 = DriveMediaLimits + __cil_tmp19;
#line 5916
      __cil_tmp21 = (unsigned int )__cil_tmp20;
#line 5916
      __cil_tmp22 = __cil_tmp21 + 32;
#line 5916
      mem_94 = (DRIVE_MEDIA_TYPE *)__cil_tmp22;
#line 5916
      __cil_tmp23 = *mem_94;
#line 5916
      __cil_tmp24 = (int )__cil_tmp23;
#line 5916
      __cil_tmp25 = (int )driveMediaType;
#line 5916
      __cil_tmp26 = __cil_tmp25 > __cil_tmp24;
#line 5916
      if (! __cil_tmp26) {
        goto while_181_break;
      } else {

      }
      }
    } else {
      goto while_181_break;
    }
    }
#line 5921
    __cil_tmp27 = (int )driveMediaType;
#line 5921
    __cil_tmp28 = __cil_tmp27 - 1;
#line 5921
    driveMediaType = (enum _DRIVE_MEDIA_TYPE )__cil_tmp28;
  }
  while_181_break: /* CIL Label */ ;
  }
  {
#line 5924
  mem_95 = (MEDIA_TYPE *)FormatParameters;
#line 5924
  __cil_tmp29 = *mem_95;
#line 5924
  __cil_tmp30 = (int )__cil_tmp29;
#line 5924
  __cil_tmp31 = (unsigned int )driveMediaType;
#line 5924
  __cil_tmp32 = DriveMediaConstants + __cil_tmp31;
#line 5924
  mem_96 = (MEDIA_TYPE *)__cil_tmp32;
#line 5924
  __cil_tmp33 = *mem_96;
#line 5924
  __cil_tmp34 = (int )__cil_tmp33;
#line 5924
  if (__cil_tmp34 != __cil_tmp30) {
#line 5927
    return ((unsigned char)0);
  } else {
#line 5931
    __cil_tmp35 = (unsigned int )driveMediaType;
#line 5931
    driveMediaConstants = DriveMediaConstants + __cil_tmp35;
    {
#line 5933
    __cil_tmp36 = (unsigned int )driveMediaConstants;
#line 5933
    __cil_tmp37 = __cil_tmp36 + 51;
#line 5933
    mem_97 = (UCHAR *)__cil_tmp37;
#line 5933
    __cil_tmp38 = *mem_97;
#line 5933
    __cil_tmp39 = (int )__cil_tmp38;
#line 5933
    __cil_tmp40 = __cil_tmp39 - 1;
#line 5933
    __cil_tmp41 = (unsigned long )__cil_tmp40;
#line 5933
    __cil_tmp42 = (unsigned int )FormatParameters;
#line 5933
    __cil_tmp43 = __cil_tmp42 + 40;
#line 5933
    mem_98 = (ULONG *)__cil_tmp43;
#line 5933
    __cil_tmp44 = *mem_98;
#line 5933
    if (__cil_tmp44 > __cil_tmp41) {
#line 5944
      return ((unsigned char)0);
    } else {
      {
#line 5933
      __cil_tmp45 = (unsigned int )driveMediaConstants;
#line 5933
      __cil_tmp46 = __cil_tmp45 + 51;
#line 5933
      mem_99 = (UCHAR *)__cil_tmp46;
#line 5933
      __cil_tmp47 = *mem_99;
#line 5933
      __cil_tmp48 = (int )__cil_tmp47;
#line 5933
      __cil_tmp49 = __cil_tmp48 - 1;
#line 5933
      __cil_tmp50 = (unsigned long )__cil_tmp49;
#line 5933
      __cil_tmp51 = (unsigned int )FormatParameters;
#line 5933
      __cil_tmp52 = __cil_tmp51 + 44;
#line 5933
      mem_100 = (ULONG *)__cil_tmp52;
#line 5933
      __cil_tmp53 = *mem_100;
#line 5933
      if (__cil_tmp53 > __cil_tmp50) {
#line 5944
        return ((unsigned char)0);
      } else {
        {
#line 5933
        __cil_tmp54 = (unsigned int )driveMediaConstants;
#line 5933
        __cil_tmp55 = __cil_tmp54 + 48;
#line 5933
        mem_101 = (UCHAR *)__cil_tmp55;
#line 5933
        __cil_tmp56 = *mem_101;
#line 5933
        __cil_tmp57 = (unsigned long )__cil_tmp56;
#line 5933
        __cil_tmp58 = (unsigned int )FormatParameters;
#line 5933
        __cil_tmp59 = __cil_tmp58 + 32;
#line 5933
        mem_102 = (ULONG *)__cil_tmp59;
#line 5933
        __cil_tmp60 = *mem_102;
#line 5933
        if (__cil_tmp60 > __cil_tmp57) {
#line 5944
          return ((unsigned char)0);
        } else {
          {
#line 5933
          __cil_tmp61 = (unsigned int )driveMediaConstants;
#line 5933
          __cil_tmp62 = __cil_tmp61 + 48;
#line 5933
          mem_103 = (UCHAR *)__cil_tmp62;
#line 5933
          __cil_tmp63 = *mem_103;
#line 5933
          __cil_tmp64 = (unsigned long )__cil_tmp63;
#line 5933
          __cil_tmp65 = (unsigned int )FormatParameters;
#line 5933
          __cil_tmp66 = __cil_tmp65 + 36;
#line 5933
          mem_104 = (ULONG *)__cil_tmp66;
#line 5933
          __cil_tmp67 = *mem_104;
#line 5933
          if (__cil_tmp67 > __cil_tmp64) {
#line 5944
            return ((unsigned char)0);
          } else {
            {
#line 5933
            __cil_tmp68 = (unsigned int )FormatParameters;
#line 5933
            __cil_tmp69 = __cil_tmp68 + 32;
#line 5933
            mem_105 = (ULONG *)__cil_tmp69;
#line 5933
            __cil_tmp70 = *mem_105;
#line 5933
            __cil_tmp71 = (unsigned int )FormatParameters;
#line 5933
            __cil_tmp72 = __cil_tmp71 + 36;
#line 5933
            mem_106 = (ULONG *)__cil_tmp72;
#line 5933
            __cil_tmp73 = *mem_106;
#line 5933
            if (__cil_tmp73 < __cil_tmp70) {
#line 5944
              return ((unsigned char)0);
            } else {
              {
#line 5948
              __cil_tmp74 = (KUSER_SHARED_DATA * const  )4292804608U;
#line 5948
              __cil_tmp75 = (unsigned int )__cil_tmp74;
#line 5948
              __cil_tmp76 = __cil_tmp75 + 732;
#line 5948
              mem_107 = (ALTERNATIVE_ARCHITECTURE_TYPE *)__cil_tmp76;
#line 5948
              __cil_tmp77 = *mem_107;
#line 5948
              __cil_tmp78 = (int )__cil_tmp77;
#line 5948
              if (__cil_tmp78 == 1) {
                {
#line 5949
                mem_108 = (MEDIA_TYPE *)FormatParameters;
#line 5949
                __cil_tmp79 = *mem_108;
#line 5949
                __cil_tmp80 = (int )__cil_tmp79;
#line 5949
                if (__cil_tmp80 == 6) {
#line 5955
                  return ((unsigned char)0);
                } else {
                  {
#line 5949
                  mem_109 = (MEDIA_TYPE *)FormatParameters;
#line 5949
                  __cil_tmp81 = *mem_109;
#line 5949
                  __cil_tmp82 = (int )__cil_tmp81;
#line 5949
                  if (__cil_tmp82 == 7) {
#line 5955
                    return ((unsigned char)0);
                  } else {
                    {
#line 5949
                    mem_110 = (MEDIA_TYPE *)FormatParameters;
#line 5949
                    __cil_tmp83 = *mem_110;
#line 5949
                    __cil_tmp84 = (int )__cil_tmp83;
#line 5949
                    if (__cil_tmp84 == 8) {
#line 5955
                      return ((unsigned char)0);
                    } else {
                      {
#line 5949
                      mem_111 = (MEDIA_TYPE *)FormatParameters;
#line 5949
                      __cil_tmp85 = *mem_111;
#line 5949
                      __cil_tmp86 = (int )__cil_tmp85;
#line 5949
                      if (__cil_tmp86 == 9) {
#line 5955
                        return ((unsigned char)0);
                      } else {
                        {
#line 5949
                        mem_112 = (MEDIA_TYPE *)FormatParameters;
#line 5949
                        __cil_tmp87 = *mem_112;
#line 5949
                        __cil_tmp88 = (int )__cil_tmp87;
#line 5949
                        if (__cil_tmp88 == 10) {
#line 5955
                          return ((unsigned char)0);
                        } else {

                        }
                        }
                      }
                      }
                    }
                    }
                  }
                  }
                }
                }
              } else {

              }
              }
#line 5959
              return ((unsigned char)1);
            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
}
}
#line 5964 "floppy.c"
NTSTATUS FlIssueCommand(PDISKETTE_EXTENSION DisketteExtension , PUCHAR FifoInBuffer ,
                        PUCHAR FifoOutBuffer , PMDL IoMdl , ULONG IoOffset , ULONG TransferBytes ) 
{ NTSTATUS ntStatus ;
  ISSUE_FDC_COMMAND_PARMS issueCommandParms ;
  ISSUE_FDC_COMMAND_PARMS *__cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  PDEVICE_OBJECT __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  void *__cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  PUCHAR *mem_28 ;
  PUCHAR *mem_29 ;
  PVOID *mem_30 ;
  ULONG *mem_31 ;
  ULONG *mem_32 ;
  ULONG *mem_33 ;
  PDEVICE_OBJECT *mem_34 ;
  BOOLEAN *mem_35 ;
  BOOLEAN *mem_36 ;

  {
#line 6018
  __cil_tmp9 = & issueCommandParms;
#line 6018
  mem_28 = (PUCHAR *)__cil_tmp9;
#line 6018
  *mem_28 = FifoInBuffer;
#line 6019
  __cil_tmp10 = (unsigned int )(& issueCommandParms) + 4;
#line 6019
  mem_29 = (PUCHAR *)__cil_tmp10;
#line 6019
  *mem_29 = FifoOutBuffer;
#line 6020
  __cil_tmp11 = (unsigned int )(& issueCommandParms) + 8;
#line 6020
  mem_30 = (PVOID *)__cil_tmp11;
#line 6020
  *mem_30 = (void *)IoMdl;
#line 6021
  __cil_tmp12 = (unsigned int )(& issueCommandParms) + 12;
#line 6021
  mem_31 = (ULONG *)__cil_tmp12;
#line 6021
  *mem_31 = IoOffset;
#line 6022
  __cil_tmp13 = (unsigned int )(& issueCommandParms) + 16;
#line 6022
  mem_32 = (ULONG *)__cil_tmp13;
#line 6022
  *mem_32 = TransferBytes;
#line 6023
  __cil_tmp14 = (unsigned int )(& issueCommandParms) + 20;
#line 6023
  mem_33 = (ULONG *)__cil_tmp14;
#line 6023
  *mem_33 = 4UL;
  {
#line 6028
  while (1) {
    while_182_continue: /* CIL Label */ ;
    goto while_182_break;
  }
  while_182_break: /* CIL Label */ ;
  }
  {
#line 6030
  __cil_tmp15 = (unsigned int )DisketteExtension;
#line 6030
  __cil_tmp16 = __cil_tmp15 + 8;
#line 6030
  mem_34 = (PDEVICE_OBJECT *)__cil_tmp16;
#line 6030
  __cil_tmp17 = *mem_34;
#line 6030
  __cil_tmp18 = 771 << 2;
#line 6030
  __cil_tmp19 = 7 << 16;
#line 6030
  __cil_tmp20 = __cil_tmp19 | __cil_tmp18;
#line 6030
  __cil_tmp21 = __cil_tmp20 | 3;
#line 6030
  __cil_tmp22 = (unsigned long )__cil_tmp21;
#line 6030
  __cil_tmp23 = (void *)(& issueCommandParms);
#line 6030
  ntStatus = FlFdcDeviceIo(__cil_tmp17, __cil_tmp22, __cil_tmp23);
  }
#line 6038
  if (ntStatus == -1073741661L) {
#line 6041
    __cil_tmp24 = (unsigned int )DisketteExtension;
#line 6041
    __cil_tmp25 = __cil_tmp24 + 104;
#line 6041
    mem_35 = (BOOLEAN *)__cil_tmp25;
#line 6041
    *mem_35 = (unsigned char)1;
  } else {
#line 6038
    if (ntStatus == -1073741464L) {
#line 6041
      __cil_tmp26 = (unsigned int )DisketteExtension;
#line 6041
      __cil_tmp27 = __cil_tmp26 + 104;
#line 6041
      mem_36 = (BOOLEAN *)__cil_tmp27;
#line 6041
      *mem_36 = (unsigned char)1;
    } else {

    }
  }
#line 6044
  return (ntStatus);
}
}
#line 6047 "floppy.c"
NTSTATUS FlInitializeControllerHardware(PDISKETTE_EXTENSION DisketteExtension ) 
{ NTSTATUS ntStatus ;
  unsigned int __cil_tmp3 ;
  unsigned int __cil_tmp4 ;
  PDEVICE_OBJECT __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  void *__cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  UCHAR __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  UCHAR __cil_tmp26 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  UCHAR *__cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  UCHAR *__cil_tmp39 ;
  void *__cil_tmp40 ;
  struct _MDL *__cil_tmp41 ;
  PDEVICE_OBJECT *mem_42 ;
  UCHAR *mem_43 ;
  UCHAR *mem_44 ;
  UCHAR *mem_45 ;
  UCHAR *mem_46 ;

  {
  {
#line 6069
  __cil_tmp3 = (unsigned int )DisketteExtension;
#line 6069
  __cil_tmp4 = __cil_tmp3 + 8;
#line 6069
  mem_42 = (PDEVICE_OBJECT *)__cil_tmp4;
#line 6069
  __cil_tmp5 = *mem_42;
#line 6069
  __cil_tmp6 = 773 << 2;
#line 6069
  __cil_tmp7 = 7 << 16;
#line 6069
  __cil_tmp8 = __cil_tmp7 | __cil_tmp6;
#line 6069
  __cil_tmp9 = __cil_tmp8 | 3;
#line 6069
  __cil_tmp10 = (unsigned long )__cil_tmp9;
#line 6069
  __cil_tmp11 = (void *)0;
#line 6069
  ntStatus = FlFdcDeviceIo(__cil_tmp5, __cil_tmp10, __cil_tmp11);
  }
#line 6073
  if (ntStatus >= 0L) {
    {
#line 6075
    __cil_tmp12 = (unsigned int )DisketteExtension;
#line 6075
    __cil_tmp13 = __cil_tmp12 + 364;
#line 6075
    mem_43 = (UCHAR *)__cil_tmp13;
#line 6075
    __cil_tmp14 = *mem_43;
#line 6075
    __cil_tmp15 = (int )__cil_tmp14;
#line 6075
    if (__cil_tmp15 != 0) {
      {
#line 6077
      __cil_tmp16 = 0 * 1U;
#line 6077
      __cil_tmp17 = 112 + __cil_tmp16;
#line 6077
      __cil_tmp18 = (unsigned int )DisketteExtension;
#line 6077
      __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
#line 6077
      mem_44 = (UCHAR *)__cil_tmp19;
#line 6077
      *mem_44 = (unsigned char)21;
#line 6078
      __cil_tmp20 = 1 * 1U;
#line 6078
      __cil_tmp21 = 112 + __cil_tmp20;
#line 6078
      __cil_tmp22 = (unsigned int )DisketteExtension;
#line 6078
      __cil_tmp23 = __cil_tmp22 + __cil_tmp21;
#line 6078
      __cil_tmp24 = (unsigned int )DisketteExtension;
#line 6078
      __cil_tmp25 = __cil_tmp24 + 364;
#line 6078
      mem_45 = (UCHAR *)__cil_tmp25;
#line 6078
      __cil_tmp26 = *mem_45;
#line 6078
      __cil_tmp27 = (int )__cil_tmp26;
#line 6078
      __cil_tmp28 = __cil_tmp27 << 2;
#line 6078
      __cil_tmp29 = 128 | __cil_tmp28;
#line 6078
      mem_46 = (UCHAR *)__cil_tmp23;
#line 6078
      *mem_46 = (unsigned char )__cil_tmp29;
#line 6082
      __cil_tmp30 = 0 * 1U;
#line 6082
      __cil_tmp31 = 112 + __cil_tmp30;
#line 6082
      __cil_tmp32 = (unsigned int )DisketteExtension;
#line 6082
      __cil_tmp33 = __cil_tmp32 + __cil_tmp31;
#line 6082
      __cil_tmp34 = (UCHAR *)__cil_tmp33;
#line 6082
      __cil_tmp35 = 0 * 1U;
#line 6082
      __cil_tmp36 = 112 + __cil_tmp35;
#line 6082
      __cil_tmp37 = (unsigned int )DisketteExtension;
#line 6082
      __cil_tmp38 = __cil_tmp37 + __cil_tmp36;
#line 6082
      __cil_tmp39 = (UCHAR *)__cil_tmp38;
#line 6082
      __cil_tmp40 = (void *)0;
#line 6082
      __cil_tmp41 = (struct _MDL *)__cil_tmp40;
#line 6082
      ntStatus = FlIssueCommand(DisketteExtension, __cil_tmp34, __cil_tmp39, __cil_tmp41,
                                0UL, 0UL);
      }
    } else {

    }
    }
  } else {

  }
#line 6092
  return (ntStatus);
}
}
#line 6095 "floppy.c"
NTSTATUS FlFdcDeviceIo(PDEVICE_OBJECT DeviceObject , ULONG Ioctl , PVOID Data ) 
{ NTSTATUS ntStatus ;
  PIRP irp ;
  PIO_STACK_LOCATION irpStack ;
  KEVENT doneEvent ;
  IO_STATUS_BLOCK ioStatus ;
  enum _EVENT_TYPE __cil_tmp9 ;
  void *__cil_tmp10 ;
  void *__cil_tmp11 ;
  void *__cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  struct _IO_STACK_LOCATION *__cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  void *__cil_tmp25 ;
  enum _KWAIT_REASON __cil_tmp26 ;
  void *__cil_tmp27 ;
  LARGE_INTEGER *__cil_tmp28 ;
  IO_STATUS_BLOCK *__cil_tmp29 ;
  struct _IO_STACK_LOCATION **mem_30 ;
  PVOID *mem_31 ;
  NTSTATUS *mem_32 ;

  {
  {
#line 6108
  while (1) {
    while_183_continue: /* CIL Label */ ;
    goto while_183_break;
  }
  while_183_break: /* CIL Label */ ;
  }
  {
#line 6110
  __cil_tmp9 = (enum _EVENT_TYPE )0;
#line 6110
  KeInitializeEvent(& doneEvent, __cil_tmp9, (unsigned char)0);
#line 6117
  __cil_tmp10 = (void *)0;
#line 6117
  __cil_tmp11 = (void *)0;
#line 6117
  irp = IoBuildDeviceIoControlRequest(Ioctl, DeviceObject, __cil_tmp10, 0UL, __cil_tmp11,
                                      0UL, (unsigned char)1, & doneEvent, & ioStatus);
  }
  {
#line 6127
  __cil_tmp12 = (void *)0;
#line 6127
  __cil_tmp13 = (unsigned int )__cil_tmp12;
#line 6127
  __cil_tmp14 = (unsigned int )irp;
#line 6127
  if (__cil_tmp14 == __cil_tmp13) {
    {
#line 6129
    while (1) {
      while_184_continue: /* CIL Label */ ;
      goto while_184_break;
    }
    while_184_break: /* CIL Label */ ;
    }
#line 6135
    return (-1073741670L);
  } else {

  }
  }
  {
#line 6138
  __cil_tmp15 = 24 + 8;
#line 6138
  __cil_tmp16 = 0 + __cil_tmp15;
#line 6138
  __cil_tmp17 = 64 + __cil_tmp16;
#line 6138
  __cil_tmp18 = (unsigned int )irp;
#line 6138
  __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
#line 6138
  mem_30 = (struct _IO_STACK_LOCATION **)__cil_tmp19;
#line 6138
  __cil_tmp20 = *mem_30;
#line 6138
  irpStack = __cil_tmp20 - 1;
#line 6139
  __cil_tmp21 = 0 + 12;
#line 6139
  __cil_tmp22 = 4 + __cil_tmp21;
#line 6139
  __cil_tmp23 = (unsigned int )irpStack;
#line 6139
  __cil_tmp24 = __cil_tmp23 + __cil_tmp22;
#line 6139
  mem_31 = (PVOID *)__cil_tmp24;
#line 6139
  *mem_31 = Data;
#line 6144
  ntStatus = IofCallDriver(DeviceObject, irp);
  }
#line 6146
  if (ntStatus == 259L) {
    {
#line 6152
    __cil_tmp25 = (void *)(& doneEvent);
#line 6152
    __cil_tmp26 = (enum _KWAIT_REASON )5;
#line 6152
    __cil_tmp27 = (void *)0;
#line 6152
    __cil_tmp28 = (LARGE_INTEGER *)__cil_tmp27;
#line 6152
    KeWaitForSingleObject(__cil_tmp25, __cil_tmp26, (char)0, (unsigned char)0, __cil_tmp28);
#line 6158
    __cil_tmp29 = & ioStatus;
#line 6158
    mem_32 = (NTSTATUS *)__cil_tmp29;
#line 6158
    ntStatus = *mem_32;
    }
  } else {

  }
#line 6161
  return (ntStatus);
}
}
#line 6165 "floppy.c"
NTSTATUS FlHdbit(PDISKETTE_EXTENSION DisketteExtension ) 
{ NTSTATUS ntStatus ;
  SHORT st5 ;
  BOOLEAN media144MB ;
  BOOLEAN mediaUpTo120MB ;
  BOOLEAN supportDrive ;
  SET_HD_BIT_PARMS setHdBitParameter ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  DRIVE_MEDIA_TYPE __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  UCHAR __cil_tmp18 ;
  int __cil_tmp19 ;
  SET_HD_BIT_PARMS *__cil_tmp20 ;
  SET_HD_BIT_PARMS *__cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  PDEVICE_OBJECT __cil_tmp24 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  void *__cil_tmp30 ;
  int __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  DRIVE_MEDIA_TYPE *mem_33 ;
  BOOLEAN *mem_34 ;
  BOOLEAN *mem_35 ;
  UCHAR *mem_36 ;
  UCHAR *mem_37 ;
  UCHAR *mem_38 ;
  BOOLEAN *mem_39 ;
  BOOLEAN *mem_40 ;
  PDEVICE_OBJECT *mem_41 ;
  BOOLEAN *mem_42 ;

  {
#line 6195
  st5 = (short)0;
#line 6210
  media144MB = (unsigned char)0;
#line 6211
  mediaUpTo120MB = (unsigned char)0;
#line 6212
  supportDrive = (unsigned char)1;
  {
#line 6217
  while (1) {
    while_185_continue: /* CIL Label */ ;
    goto while_185_break;
  }
  while_185_break: /* CIL Label */ ;
  }
  {
#line 6219
  __cil_tmp8 = (unsigned int )DisketteExtension;
#line 6219
  __cil_tmp9 = __cil_tmp8 + 216;
#line 6219
  mem_33 = (DRIVE_MEDIA_TYPE *)__cil_tmp9;
#line 6219
  __cil_tmp10 = *mem_33;
#line 6220
  if ((int )__cil_tmp10 == 18) {
    goto switch_186_18;
  } else {
#line 6227
    if ((int )__cil_tmp10 == 16) {
      goto switch_186_16;
    } else {
#line 6228
      if ((int )__cil_tmp10 == 17) {
        goto switch_186_17;
      } else {
#line 6229
        if ((int )__cil_tmp10 == 12) {
          goto switch_186_12;
        } else {
#line 6230
          if ((int )__cil_tmp10 == 13) {
            goto switch_186_13;
          } else {
#line 6231
            if ((int )__cil_tmp10 == 19) {
              goto switch_186_19;
            } else {
#line 6232
              if ((int )__cil_tmp10 == 20) {
                goto switch_186_20;
              } else {
#line 6235
                if ((int )__cil_tmp10 == 0) {
                  goto switch_186_0;
                } else {
#line 6236
                  if ((int )__cil_tmp10 == 1) {
                    goto switch_186_1;
                  } else {
#line 6237
                    if ((int )__cil_tmp10 == 2) {
                      goto switch_186_2;
                    } else {
#line 6238
                      if ((int )__cil_tmp10 == 3) {
                        goto switch_186_3;
                      } else {
#line 6239
                        if ((int )__cil_tmp10 == 4) {
                          goto switch_186_4;
                        } else {
#line 6240
                          if ((int )__cil_tmp10 == 5) {
                            goto switch_186_5;
                          } else {
#line 6241
                            if ((int )__cil_tmp10 == 6) {
                              goto switch_186_6;
                            } else {
#line 6242
                              if ((int )__cil_tmp10 == 7) {
                                goto switch_186_7;
                              } else {
#line 6243
                                if ((int )__cil_tmp10 == 8) {
                                  goto switch_186_8;
                                } else {
#line 6244
                                  if ((int )__cil_tmp10 == 9) {
                                    goto switch_186_9;
                                  } else {
#line 6245
                                    if ((int )__cil_tmp10 == 10) {
                                      goto switch_186_10;
                                    } else {
#line 6246
                                      if ((int )__cil_tmp10 == 11) {
                                        goto switch_186_11;
                                      } else {
#line 6247
                                        if ((int )__cil_tmp10 == 14) {
                                          goto switch_186_14;
                                        } else {
#line 6248
                                          if ((int )__cil_tmp10 == 15) {
                                            goto switch_186_15;
                                          } else {
                                            {
                                            goto switch_186_default;
#line 6219
                                            if (0) {
                                              switch_186_18: /* CIL Label */ 
#line 6226
                                              media144MB = (unsigned char)1;
                                              switch_186_16: /* CIL Label */ ;
                                              switch_186_17: /* CIL Label */ ;
                                              switch_186_12: /* CIL Label */ ;
                                              switch_186_13: /* CIL Label */ ;
                                              switch_186_19: /* CIL Label */ ;
                                              switch_186_20: /* CIL Label */ 
#line 6234
                                              mediaUpTo120MB = (unsigned char)1;
                                              switch_186_0: /* CIL Label */ ;
                                              switch_186_1: /* CIL Label */ ;
                                              switch_186_2: /* CIL Label */ ;
                                              switch_186_3: /* CIL Label */ ;
                                              switch_186_4: /* CIL Label */ ;
                                              switch_186_5: /* CIL Label */ ;
                                              switch_186_6: /* CIL Label */ ;
                                              switch_186_7: /* CIL Label */ ;
                                              switch_186_8: /* CIL Label */ ;
                                              switch_186_9: /* CIL Label */ ;
                                              switch_186_10: /* CIL Label */ ;
                                              switch_186_11: /* CIL Label */ ;
                                              switch_186_14: /* CIL Label */ ;
                                              switch_186_15: /* CIL Label */ ;
                                              goto switch_186_break;
                                              switch_186_default: /* CIL Label */ 
#line 6260
                                              mediaUpTo120MB = (unsigned char)1;
                                              goto switch_186_break;
                                            } else {
                                              switch_186_break: /* CIL Label */ ;
                                            }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  }
#line 6265
  __cil_tmp11 = (unsigned int )(& setHdBitParameter) + 1;
#line 6265
  mem_34 = (BOOLEAN *)__cil_tmp11;
#line 6265
  *mem_34 = media144MB;
#line 6266
  __cil_tmp12 = (unsigned int )(& setHdBitParameter) + 2;
#line 6266
  mem_35 = (BOOLEAN *)__cil_tmp12;
#line 6266
  *mem_35 = mediaUpTo120MB;
#line 6267
  __cil_tmp13 = (unsigned int )(& setHdBitParameter) + 3;
#line 6267
  __cil_tmp14 = (unsigned int )DisketteExtension;
#line 6267
  __cil_tmp15 = __cil_tmp14 + 248;
#line 6267
  mem_36 = (UCHAR *)__cil_tmp13;
#line 6267
  mem_37 = (UCHAR *)__cil_tmp15;
#line 6267
  *mem_36 = *mem_37;
  {
#line 6268
  __cil_tmp16 = (unsigned int )DisketteExtension;
#line 6268
  __cil_tmp17 = __cil_tmp16 + 174;
#line 6268
  mem_38 = (UCHAR *)__cil_tmp17;
#line 6268
  __cil_tmp18 = *mem_38;
#line 6268
  __cil_tmp19 = (int )__cil_tmp18;
#line 6268
  if (__cil_tmp19 == 3) {
#line 6268
    __cil_tmp20 = & setHdBitParameter;
#line 6268
    mem_39 = (BOOLEAN *)__cil_tmp20;
#line 6268
    *mem_39 = (unsigned char)1;
  } else {
#line 6268
    __cil_tmp21 = & setHdBitParameter;
#line 6268
    mem_40 = (BOOLEAN *)__cil_tmp21;
#line 6268
    *mem_40 = (unsigned char)0;
  }
  }
  {
#line 6271
  __cil_tmp22 = (unsigned int )DisketteExtension;
#line 6271
  __cil_tmp23 = __cil_tmp22 + 8;
#line 6271
  mem_41 = (PDEVICE_OBJECT *)__cil_tmp23;
#line 6271
  __cil_tmp24 = *mem_41;
#line 6271
  __cil_tmp25 = 785 << 2;
#line 6271
  __cil_tmp26 = 7 << 16;
#line 6271
  __cil_tmp27 = __cil_tmp26 | __cil_tmp25;
#line 6271
  __cil_tmp28 = __cil_tmp27 | 3;
#line 6271
  __cil_tmp29 = (unsigned long )__cil_tmp28;
#line 6271
  __cil_tmp30 = (void *)(& setHdBitParameter);
#line 6271
  ntStatus = FlFdcDeviceIo(__cil_tmp24, __cil_tmp29, __cil_tmp30);
  }
  {
#line 6275
  __cil_tmp31 = ntStatus >= 0L;
#line 6275
  if (! __cil_tmp31) {
#line 6276
    return (ntStatus);
  } else {

  }
  }
  {
#line 6279
  __cil_tmp32 = (unsigned int )(& setHdBitParameter) + 4;
  {
#line 6279
  mem_42 = (BOOLEAN *)__cil_tmp32;
#line 6279
  if (*mem_42) {
    {
#line 6281
    ntStatus = FlDatarateSpecifyConfigure(DisketteExtension);
    }
  } else {

  }
  }
  }
#line 6284
  return (ntStatus);
}
}
#line 6286 "floppy.c"
NTSTATUS FloppyQueueRequest(PDISKETTE_EXTENSION DisketteExtension , PIRP Irp ) 
{ KIRQL oldIrql ;
  NTSTATUS ntStatus ;
  LONG tmp ;
  void *__cil_tmp6 ;
  KSPIN_LOCK *__cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  void (**__cil_tmp10)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ) ;
  PVOID *__cil_tmp11 ;
  LONG *__cil_tmp12 ;
  void *__cil_tmp13 ;
  long __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  void (**__cil_tmp19)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ) ;
  PVOID *__cil_tmp20 ;
  LONG *__cil_tmp21 ;
  void *__cil_tmp22 ;
  long __cil_tmp23 ;
  void *__cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  KSPIN_LOCK *__cil_tmp30 ;
  void *__cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  struct _IO_STACK_LOCATION *__cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  struct _IO_STACK_LOCATION *__cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  UCHAR __cil_tmp50 ;
  int __cil_tmp51 ;
  int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  LIST_ENTRY *__cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  LIST_ENTRY *__cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  KSPIN_LOCK *__cil_tmp63 ;
  KSPIN_LOCK *__cil_tmp64 ;
  BOOLEAN *mem_65 ;
  NTSTATUS *mem_66 ;
  ULONG_PTR *mem_67 ;
  NTSTATUS *mem_68 ;
  struct _IO_STACK_LOCATION **mem_69 ;
  struct _IO_STACK_LOCATION **mem_70 ;
  UCHAR *mem_71 ;
  UCHAR *mem_72 ;

  {
  {
#line 6318
  ExAcquireFastMutex(PagingMutex);
#line 6318
  PagingReferenceCount = PagingReferenceCount + 1UL;
  }
#line 6318
  if (PagingReferenceCount == 1UL) {
    {
#line 6318
    __cil_tmp6 = (void *)(& DriverEntry);
#line 6318
    MmResetDriverPaging(__cil_tmp6);
    }
  } else {

  }
  {
#line 6318
  ExReleaseFastMutex(PagingMutex);
#line 6333
  __cil_tmp7 = (KSPIN_LOCK *)DisketteExtension;
#line 6333
  oldIrql = KfAcquireSpinLock(__cil_tmp7);
#line 6335
  __cil_tmp8 = (unsigned int )Irp;
#line 6335
  __cil_tmp9 = __cil_tmp8 + 56;
#line 6335
  __cil_tmp10 = (void (**)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ))__cil_tmp9;
#line 6335
  __cil_tmp11 = (PVOID *)__cil_tmp10;
#line 6335
  __cil_tmp12 = (LONG *)__cil_tmp11;
#line 6335
  __cil_tmp13 = (void *)(& FloppyCancelQueuedRequest);
#line 6335
  __cil_tmp14 = (long )__cil_tmp13;
#line 6335
  InterlockedExchange(__cil_tmp12, __cil_tmp14);
  }
  {
#line 6340
  __cil_tmp15 = (unsigned int )Irp;
#line 6340
  __cil_tmp16 = __cil_tmp15 + 36;
  {
#line 6340
  mem_65 = (BOOLEAN *)__cil_tmp16;
#line 6340
  if (*mem_65) {
    {
#line 6340
    __cil_tmp17 = (unsigned int )Irp;
#line 6340
    __cil_tmp18 = __cil_tmp17 + 56;
#line 6340
    __cil_tmp19 = (void (**)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ))__cil_tmp18;
#line 6340
    __cil_tmp20 = (PVOID *)__cil_tmp19;
#line 6340
    __cil_tmp21 = (LONG *)__cil_tmp20;
#line 6340
    __cil_tmp22 = (void *)0;
#line 6340
    __cil_tmp23 = (long )__cil_tmp22;
#line 6340
    tmp = InterlockedExchange(__cil_tmp21, __cil_tmp23);
    }
    {
#line 6340
    __cil_tmp24 = (void *)tmp;
#line 6340
    if ((void (*)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ))__cil_tmp24) {
      {
#line 6345
      __cil_tmp25 = (unsigned int )Irp;
#line 6345
      __cil_tmp26 = __cil_tmp25 + 24;
#line 6345
      mem_66 = (NTSTATUS *)__cil_tmp26;
#line 6345
      *mem_66 = -1073741536L;
#line 6346
      myStatus = -1073741536L;
#line 6347
      __cil_tmp27 = 24 + 4;
#line 6347
      __cil_tmp28 = (unsigned int )Irp;
#line 6347
      __cil_tmp29 = __cil_tmp28 + __cil_tmp27;
#line 6347
      mem_67 = (ULONG_PTR *)__cil_tmp29;
#line 6347
      *mem_67 = 0UL;
#line 6348
      __cil_tmp30 = (KSPIN_LOCK *)DisketteExtension;
#line 6348
      KfReleaseSpinLock(__cil_tmp30, oldIrql);
#line 6349
      IofCompleteRequest(Irp, (char)0);
#line 6351
      ExAcquireFastMutex(PagingMutex);
#line 6351
      PagingReferenceCount = PagingReferenceCount - 1UL;
      }
#line 6351
      if (PagingReferenceCount == 0UL) {
        {
#line 6351
        __cil_tmp31 = (void *)(& DriverEntry);
#line 6351
        MmPageEntireDriver(__cil_tmp31);
        }
      } else {

      }
      {
#line 6351
      ExReleaseFastMutex(PagingMutex);
#line 6353
      ntStatus = -1073741536L;
      }
    } else {
      goto _L;
    }
    }
  } else {
    _L: 
#line 6359
    __cil_tmp32 = (unsigned int )Irp;
#line 6359
    __cil_tmp33 = __cil_tmp32 + 24;
#line 6359
    mem_68 = (NTSTATUS *)__cil_tmp33;
#line 6359
    *mem_68 = 259L;
#line 6360
    myStatus = 259L;
#line 6361
    __cil_tmp34 = 24 + 8;
#line 6361
    __cil_tmp35 = 0 + __cil_tmp34;
#line 6361
    __cil_tmp36 = 64 + __cil_tmp35;
#line 6361
    __cil_tmp37 = (unsigned int )Irp;
#line 6361
    __cil_tmp38 = __cil_tmp37 + __cil_tmp36;
#line 6361
    mem_69 = (struct _IO_STACK_LOCATION **)__cil_tmp38;
#line 6361
    __cil_tmp39 = *mem_69;
#line 6361
    __cil_tmp40 = (unsigned int )__cil_tmp39;
#line 6361
    __cil_tmp41 = __cil_tmp40 + 3;
#line 6361
    __cil_tmp42 = 24 + 8;
#line 6361
    __cil_tmp43 = 0 + __cil_tmp42;
#line 6361
    __cil_tmp44 = 64 + __cil_tmp43;
#line 6361
    __cil_tmp45 = (unsigned int )Irp;
#line 6361
    __cil_tmp46 = __cil_tmp45 + __cil_tmp44;
#line 6361
    mem_70 = (struct _IO_STACK_LOCATION **)__cil_tmp46;
#line 6361
    __cil_tmp47 = *mem_70;
#line 6361
    __cil_tmp48 = (unsigned int )__cil_tmp47;
#line 6361
    __cil_tmp49 = __cil_tmp48 + 3;
#line 6361
    mem_71 = (UCHAR *)__cil_tmp49;
#line 6361
    __cil_tmp50 = *mem_71;
#line 6361
    __cil_tmp51 = (int )__cil_tmp50;
#line 6361
    __cil_tmp52 = __cil_tmp51 | 1;
#line 6361
    mem_72 = (UCHAR *)__cil_tmp41;
#line 6361
    *mem_72 = (unsigned char )__cil_tmp52;
#line 6362
    if (pended == 0) {
#line 6362
      pended = 1;
    } else {
      {
#line 6362
      __VERIFIER_assert(0);
      }
    }
    {
#line 6363
    __cil_tmp53 = (unsigned int )DisketteExtension;
#line 6363
    __cil_tmp54 = __cil_tmp53 + 16;
#line 6363
    __cil_tmp55 = (LIST_ENTRY *)__cil_tmp54;
#line 6363
    __cil_tmp56 = 0 + 24;
#line 6363
    __cil_tmp57 = 64 + __cil_tmp56;
#line 6363
    __cil_tmp58 = (unsigned int )Irp;
#line 6363
    __cil_tmp59 = __cil_tmp58 + __cil_tmp57;
#line 6363
    __cil_tmp60 = (LIST_ENTRY *)__cil_tmp59;
#line 6363
    __cil_tmp61 = (unsigned int )DisketteExtension;
#line 6363
    __cil_tmp62 = __cil_tmp61 + 24;
#line 6363
    __cil_tmp63 = (KSPIN_LOCK *)__cil_tmp62;
#line 6363
    ExfInterlockedInsertTailList(__cil_tmp55, __cil_tmp60, __cil_tmp63);
#line 6368
    __cil_tmp64 = (KSPIN_LOCK *)DisketteExtension;
#line 6368
    KfReleaseSpinLock(__cil_tmp64, oldIrql);
#line 6370
    ntStatus = 259L;
    }
  }
  }
  }
#line 6373
  return (ntStatus);
}
}
#line 6375 "floppy.c"
void FloppyCancelQueuedRequest(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ PDISKETTE_EXTENSION disketteExtension ;
  KIRQL oldIrql ;
  PLIST_ENTRY _EX_Blink ;
  PLIST_ENTRY _EX_Flink ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  PVOID __cil_tmp9 ;
  KSPIN_LOCK *__cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned int __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  KSPIN_LOCK *__cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned int __cil_tmp34 ;
  KIRQL __cil_tmp35 ;
  void *__cil_tmp36 ;
  PVOID *mem_37 ;
  NTSTATUS *mem_38 ;
  ULONG_PTR *mem_39 ;
  struct _LIST_ENTRY **mem_40 ;
  struct _LIST_ENTRY **mem_41 ;
  struct _LIST_ENTRY **mem_42 ;
  struct _LIST_ENTRY **mem_43 ;
  struct _LIST_ENTRY **mem_44 ;
  KIRQL *mem_45 ;

  {
#line 6402
  __cil_tmp7 = (unsigned int )DeviceObject;
#line 6402
  __cil_tmp8 = __cil_tmp7 + 40;
#line 6402
  mem_37 = (PVOID *)__cil_tmp8;
#line 6402
  __cil_tmp9 = *mem_37;
#line 6402
  disketteExtension = (DISKETTE_EXTENSION *)__cil_tmp9;
  {
#line 6406
  while (1) {
    while_187_continue: /* CIL Label */ ;
    goto while_187_break;
  }
  while_187_break: /* CIL Label */ ;
  }
  {
#line 6409
  __cil_tmp10 = (KSPIN_LOCK *)disketteExtension;
#line 6409
  oldIrql = KfAcquireSpinLock(__cil_tmp10);
#line 6411
  __cil_tmp11 = (unsigned int )Irp;
#line 6411
  __cil_tmp12 = __cil_tmp11 + 24;
#line 6411
  mem_38 = (NTSTATUS *)__cil_tmp12;
#line 6411
  *mem_38 = -1073741536L;
#line 6412
  myStatus = -1073741536L;
#line 6413
  __cil_tmp13 = 24 + 4;
#line 6413
  __cil_tmp14 = (unsigned int )Irp;
#line 6413
  __cil_tmp15 = __cil_tmp14 + __cil_tmp13;
#line 6413
  mem_39 = (ULONG_PTR *)__cil_tmp15;
#line 6413
  *mem_39 = 0UL;
  }
  {
#line 6417
  __cil_tmp16 = 0 + 24;
#line 6417
  __cil_tmp17 = 64 + __cil_tmp16;
#line 6417
  __cil_tmp18 = (unsigned int )Irp;
#line 6417
  __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
  {
#line 6417
  mem_40 = (struct _LIST_ENTRY **)__cil_tmp19;
#line 6417
  if (*mem_40) {
#line 6418
    __cil_tmp20 = 0 + 24;
#line 6418
    __cil_tmp21 = 64 + __cil_tmp20;
#line 6418
    __cil_tmp22 = (unsigned int )Irp;
#line 6418
    __cil_tmp23 = __cil_tmp22 + __cil_tmp21;
#line 6418
    mem_41 = (struct _LIST_ENTRY **)__cil_tmp23;
#line 6418
    _EX_Flink = *mem_41;
#line 6418
    __cil_tmp24 = 0 + 4;
#line 6418
    __cil_tmp25 = 24 + __cil_tmp24;
#line 6418
    __cil_tmp26 = 0 + __cil_tmp25;
#line 6418
    __cil_tmp27 = 64 + __cil_tmp26;
#line 6418
    __cil_tmp28 = (unsigned int )Irp;
#line 6418
    __cil_tmp29 = __cil_tmp28 + __cil_tmp27;
#line 6418
    mem_42 = (struct _LIST_ENTRY **)__cil_tmp29;
#line 6418
    _EX_Blink = *mem_42;
#line 6418
    mem_43 = (struct _LIST_ENTRY **)_EX_Blink;
#line 6418
    *mem_43 = _EX_Flink;
#line 6418
    __cil_tmp30 = (unsigned int )_EX_Flink;
#line 6418
    __cil_tmp31 = __cil_tmp30 + 4;
#line 6418
    mem_44 = (struct _LIST_ENTRY **)__cil_tmp31;
#line 6418
    *mem_44 = _EX_Blink;
  } else {

  }
  }
  }
  {
#line 6422
  __cil_tmp32 = (KSPIN_LOCK *)disketteExtension;
#line 6422
  KfReleaseSpinLock(__cil_tmp32, oldIrql);
#line 6424
  __cil_tmp33 = (unsigned int )Irp;
#line 6424
  __cil_tmp34 = __cil_tmp33 + 37;
#line 6424
  mem_45 = (KIRQL *)__cil_tmp34;
#line 6424
  __cil_tmp35 = *mem_45;
#line 6424
  IoReleaseCancelSpinLock(__cil_tmp35);
#line 6426
  IofCompleteRequest(Irp, (char)0);
#line 6428
  ExAcquireFastMutex(PagingMutex);
#line 6428
  PagingReferenceCount = PagingReferenceCount - 1UL;
  }
#line 6428
  if (PagingReferenceCount == 0UL) {
    {
#line 6428
    __cil_tmp36 = (void *)(& DriverEntry);
#line 6428
    MmPageEntireDriver(__cil_tmp36);
    }
  } else {

  }
  {
#line 6428
  ExReleaseFastMutex(PagingMutex);
  }
#line 6432
  return;
}
}
#line 6432 "floppy.c"
void FloppyProcessQueuedRequests(PDISKETTE_EXTENSION DisketteExtension ) 
{ KIRQL oldIrql ;
  PLIST_ENTRY headOfList ;
  PIRP currentIrp ;
  PIO_STACK_LOCATION irpSp ;
  LONG tmp ;
  KSPIN_LOCK *__cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned int __cil_tmp9 ;
  LIST_ENTRY *__cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  KSPIN_LOCK *__cil_tmp13 ;
  void *__cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  int __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  IRP *__cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  LIST_ENTRY *__cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  CHAR *__cil_tmp25 ;
  CHAR *__cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned int __cil_tmp28 ;
  void (**__cil_tmp29)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ) ;
  PVOID *__cil_tmp30 ;
  LONG *__cil_tmp31 ;
  void *__cil_tmp32 ;
  long __cil_tmp33 ;
  void *__cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  void *__cil_tmp44 ;
  void *__cil_tmp45 ;
  KSPIN_LOCK *__cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned int __cil_tmp49 ;
  unsigned int __cil_tmp50 ;
  unsigned int __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  UCHAR __cil_tmp54 ;
  NTSTATUS (*__cil_tmp55)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  unsigned int __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  PDEVICE_OBJECT __cil_tmp58 ;
  NTSTATUS (*__cil_tmp59)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  unsigned int __cil_tmp60 ;
  unsigned int __cil_tmp61 ;
  PDEVICE_OBJECT __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  void *__cil_tmp68 ;
  KSPIN_LOCK *__cil_tmp69 ;
  KSPIN_LOCK *__cil_tmp70 ;
  struct _IO_STACK_LOCATION **mem_71 ;
  struct _LIST_ENTRY **mem_72 ;
  BOOLEAN *mem_73 ;
  ULONG_PTR *mem_74 ;
  NTSTATUS *mem_75 ;
  UCHAR *mem_76 ;
  PDEVICE_OBJECT *mem_77 ;
  PDEVICE_OBJECT *mem_78 ;
  ULONG_PTR *mem_79 ;
  NTSTATUS *mem_80 ;

  {
  {
#line 6470
  __cil_tmp7 = (KSPIN_LOCK *)DisketteExtension;
#line 6470
  oldIrql = KfAcquireSpinLock(__cil_tmp7);
  }
  {
#line 6471
  while (1) {
    while_188_continue: /* CIL Label */ ;
    {
#line 6471
    __cil_tmp8 = (unsigned int )DisketteExtension;
#line 6471
    __cil_tmp9 = __cil_tmp8 + 16;
#line 6471
    __cil_tmp10 = (LIST_ENTRY *)__cil_tmp9;
#line 6471
    __cil_tmp11 = (unsigned int )DisketteExtension;
#line 6471
    __cil_tmp12 = __cil_tmp11 + 24;
#line 6471
    __cil_tmp13 = (KSPIN_LOCK *)__cil_tmp12;
#line 6471
    headOfList = ExfInterlockedRemoveHeadList(__cil_tmp10, __cil_tmp13);
    }
    {
#line 6471
    __cil_tmp14 = (void *)0;
#line 6471
    __cil_tmp15 = (unsigned int )__cil_tmp14;
#line 6471
    __cil_tmp16 = (unsigned int )headOfList;
#line 6471
    __cil_tmp17 = __cil_tmp16 != __cil_tmp15;
#line 6471
    if (! __cil_tmp17) {
      goto while_188_break;
    } else {

    }
    }
    {
#line 6475
    __cil_tmp18 = 0 + 24;
#line 6475
    __cil_tmp19 = 64 + __cil_tmp18;
#line 6475
    __cil_tmp20 = (IRP *)0;
#line 6475
    __cil_tmp21 = (unsigned int )__cil_tmp20;
#line 6475
    __cil_tmp22 = __cil_tmp21 + __cil_tmp19;
#line 6475
    __cil_tmp23 = (LIST_ENTRY *)__cil_tmp22;
#line 6475
    __cil_tmp24 = (unsigned long )__cil_tmp23;
#line 6475
    __cil_tmp25 = (CHAR *)headOfList;
#line 6475
    __cil_tmp26 = __cil_tmp25 - __cil_tmp24;
#line 6475
    currentIrp = (IRP *)__cil_tmp26;
#line 6479
    __cil_tmp27 = (unsigned int )currentIrp;
#line 6479
    __cil_tmp28 = __cil_tmp27 + 56;
#line 6479
    __cil_tmp29 = (void (**)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ))__cil_tmp28;
#line 6479
    __cil_tmp30 = (PVOID *)__cil_tmp29;
#line 6479
    __cil_tmp31 = (LONG *)__cil_tmp30;
#line 6479
    __cil_tmp32 = (void *)0;
#line 6479
    __cil_tmp33 = (long )__cil_tmp32;
#line 6479
    tmp = InterlockedExchange(__cil_tmp31, __cil_tmp33);
    }
    {
#line 6479
    __cil_tmp34 = (void *)tmp;
#line 6479
    if ((void (*)(struct _DEVICE_OBJECT *DeviceObject , struct _IRP *Irp ))__cil_tmp34) {
#line 6480
      __cil_tmp35 = 24 + 8;
#line 6480
      __cil_tmp36 = 0 + __cil_tmp35;
#line 6480
      __cil_tmp37 = 64 + __cil_tmp36;
#line 6480
      __cil_tmp38 = (unsigned int )currentIrp;
#line 6480
      __cil_tmp39 = __cil_tmp38 + __cil_tmp37;
#line 6480
      mem_71 = (struct _IO_STACK_LOCATION **)__cil_tmp39;
#line 6480
      irpSp = *mem_71;
    } else {
#line 6487
      __cil_tmp40 = 0 + 24;
#line 6487
      __cil_tmp41 = 64 + __cil_tmp40;
#line 6487
      __cil_tmp42 = (unsigned int )currentIrp;
#line 6487
      __cil_tmp43 = __cil_tmp42 + __cil_tmp41;
#line 6487
      __cil_tmp44 = (void *)0;
#line 6487
      mem_72 = (struct _LIST_ENTRY **)__cil_tmp43;
#line 6487
      *mem_72 = (struct _LIST_ENTRY *)__cil_tmp44;
#line 6488
      __cil_tmp45 = (void *)0;
#line 6488
      currentIrp = (struct _IRP *)__cil_tmp45;
    }
    }
    {
#line 6492
    __cil_tmp46 = (KSPIN_LOCK *)DisketteExtension;
#line 6492
    KfReleaseSpinLock(__cil_tmp46, oldIrql);
    }
#line 6494
    if (currentIrp) {
      {
#line 6495
      __cil_tmp47 = (unsigned int )DisketteExtension;
#line 6495
      __cil_tmp48 = __cil_tmp47 + 13;
      {
#line 6495
      mem_73 = (BOOLEAN *)__cil_tmp48;
#line 6495
      if (*mem_73) {
        {
#line 6499
        __cil_tmp49 = 24 + 4;
#line 6499
        __cil_tmp50 = (unsigned int )currentIrp;
#line 6499
        __cil_tmp51 = __cil_tmp50 + __cil_tmp49;
#line 6499
        mem_74 = (ULONG_PTR *)__cil_tmp51;
#line 6499
        *mem_74 = 0UL;
#line 6500
        __cil_tmp52 = (unsigned int )currentIrp;
#line 6500
        __cil_tmp53 = __cil_tmp52 + 24;
#line 6500
        mem_75 = (NTSTATUS *)__cil_tmp53;
#line 6500
        *mem_75 = -1073741738L;
#line 6501
        IofCompleteRequest(currentIrp, (char)0);
        }
      } else {
        {
#line 6505
        mem_76 = (UCHAR *)irpSp;
#line 6505
        __cil_tmp54 = *mem_76;
#line 6506
        if ((int )__cil_tmp54 == 3) {
          goto switch_189_3;
        } else {
#line 6507
          if ((int )__cil_tmp54 == 4) {
            goto switch_189_4;
          } else {
#line 6512
            if ((int )__cil_tmp54 == 14) {
              goto switch_189_14;
            } else {
              {
              goto switch_189_default;
#line 6505
              if (0) {
                switch_189_3: /* CIL Label */ ;
                switch_189_4: /* CIL Label */ 
                {
#line 6510
                __cil_tmp55 = & FloppyReadWrite;
#line 6510
                __cil_tmp56 = (unsigned int )DisketteExtension;
#line 6510
                __cil_tmp57 = __cil_tmp56 + 28;
#line 6510
                mem_77 = (PDEVICE_OBJECT *)__cil_tmp57;
#line 6510
                __cil_tmp58 = *mem_77;
#line 6510
                (*__cil_tmp55)(__cil_tmp58, currentIrp);
                }
                goto switch_189_break;
                switch_189_14: /* CIL Label */ 
                {
#line 6515
                __cil_tmp59 = & FloppyDeviceControl;
#line 6515
                __cil_tmp60 = (unsigned int )DisketteExtension;
#line 6515
                __cil_tmp61 = __cil_tmp60 + 28;
#line 6515
                mem_78 = (PDEVICE_OBJECT *)__cil_tmp61;
#line 6515
                __cil_tmp62 = *mem_78;
#line 6515
                (*__cil_tmp59)(__cil_tmp62, currentIrp);
                }
                goto switch_189_break;
                switch_189_default: /* CIL Label */ 
                {
#line 6520
                __cil_tmp63 = 24 + 4;
#line 6520
                __cil_tmp64 = (unsigned int )currentIrp;
#line 6520
                __cil_tmp65 = __cil_tmp64 + __cil_tmp63;
#line 6520
                mem_79 = (ULONG_PTR *)__cil_tmp65;
#line 6520
                *mem_79 = 0UL;
#line 6521
                __cil_tmp66 = (unsigned int )currentIrp;
#line 6521
                __cil_tmp67 = __cil_tmp66 + 24;
#line 6521
                mem_80 = (NTSTATUS *)__cil_tmp67;
#line 6521
                *mem_80 = -1073741823L;
#line 6522
                IofCompleteRequest(currentIrp, (char)0);
                }
              } else {
                switch_189_break: /* CIL Label */ ;
              }
              }
            }
          }
        }
        }
      }
      }
      }
    } else {

    }
#line 6527
    if (currentIrp) {
      {
#line 6531
      ExAcquireFastMutex(PagingMutex);
#line 6531
      PagingReferenceCount = PagingReferenceCount - 1UL;
      }
#line 6531
      if (PagingReferenceCount == 0UL) {
        {
#line 6531
        __cil_tmp68 = (void *)(& DriverEntry);
#line 6531
        MmPageEntireDriver(__cil_tmp68);
        }
      } else {

      }
      {
#line 6531
      ExReleaseFastMutex(PagingMutex);
      }
    } else {

    }
    {
#line 6535
    __cil_tmp69 = (KSPIN_LOCK *)DisketteExtension;
#line 6535
    oldIrql = KfAcquireSpinLock(__cil_tmp69);
    }
  }
  while_188_break: /* CIL Label */ ;
  }
  {
#line 6540
  __cil_tmp70 = (KSPIN_LOCK *)DisketteExtension;
#line 6540
  KfReleaseSpinLock(__cil_tmp70, oldIrql);
  }
#line 6544
  return;
}
}
#line 832 "C:/NTDDK/inc/ntdef.h"
#pragma warning(push)
#line 834
#pragma warning(disable:4035)
#line 835 "C:/NTDDK/inc/ntdef.h"
__inline ULONGLONG ( __attribute__((__stdcall__)) Int64ShllMod32___1)(ULONGLONG Value ,
                                                                      ULONG ShiftCount ) 
{ 

  {
#line 850
  return (0ULL);
}
}
#line 845 "C:/NTDDK/inc/ntdef.h"
__inline LONGLONG ( __attribute__((__stdcall__)) Int64ShraMod32___1)(LONGLONG Value ,
                                                                     ULONG ShiftCount ) 
{ 

  {
#line 860
  return (0LL);
}
}
#line 855 "C:/NTDDK/inc/ntdef.h"
__inline ULONGLONG ( __attribute__((__stdcall__)) Int64ShrlMod32___1)(ULONGLONG Value ,
                                                                      ULONG ShiftCount ) 
{ 

  {
#line 870
  return (0ULL);
}
}
#line 873
#pragma warning(pop)
#line 25 "C:/NTDDK/inc/pshpack4.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 1953 "C:/NTDDK/inc/ddk/ntddk.h"
#pragma warning(push)
#line 1955
#pragma warning(disable:4035)
#line 2020
#pragma warning(pop)
#line 5253
#pragma warning(disable:4035)
#line 7015
#pragma warning(push)
#line 7017
#pragma warning(disable:4164)
#line 7020
#pragma function(_enable)
#line 7021
#pragma function(_disable)
#line 7025
#pragma warning(pop)
#line 25 "C:/NTDDK/inc/pshpack4.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 25 "C:/NTDDK/inc/pshpack1.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 25 "C:/NTDDK/inc/pshpack4.h"
#pragma warning(disable:4103)
#line 28 "C:/NTDDK/inc/poppack.h"
#pragma warning(disable:4103)
#line 17779 "C:/NTDDK/inc/ddk/ntddk.h"
#pragma warning(disable:4200)
#line 17785
#pragma warning(default:4200)
#line 37 "../slam-kernel.c"
IRP *pirp  ;
#line 39 "../slam-kernel.c"
void stub_driver_init(void) 
{ 

  {
#line 41
  s = 1;
#line 46
  pended = 0;
#line 47
  compFptr = (NTSTATUS (*)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ))0;
#line 48
  compRegistered = 0;
#line 49
  lowerDriverReturn = 0;
#line 50
  setEventCalled = 0;
#line 51
  customIrp = 0;
#line 54
  return;
}
}
#line 48 "../slam-kernel.c"
int main(void) 
{ DRIVER_OBJECT d ;
  UNICODE_STRING u ;
  NTSTATUS status ;
  int we_should_unload ;
  IRP irp ;
  int __BLAST_NONDET = __VERIFIER_nondet_int() ;
  int irp_choice = __VERIFIER_nondet_int() ;
  DEVICE_OBJECT devobj ;
  NTSTATUS (*__cil_tmp9)(PDRIVER_OBJECT DriverObject , PUNICODE_STRING RegistryPath ) ;
  unsigned int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  int __cil_tmp14 ;
  NTSTATUS (*__cil_tmp15)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  NTSTATUS (*__cil_tmp16)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  NTSTATUS (*__cil_tmp17)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  NTSTATUS (*__cil_tmp18)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  NTSTATUS (*__cil_tmp19)(PDEVICE_OBJECT DeviceObject , PIRP Irp ) ;
  void (*__cil_tmp20)(PDRIVER_OBJECT DriverObject ) ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  long __cil_tmp23 ;
  NTSTATUS *mem_24 ;
  NTSTATUS *mem_25 ;

  {
  {
#line 51
  status = 0L;
#line 54
  pirp = & irp;
#line 56
  __cil_tmp9 = & DriverEntry;
#line 56
  status = (*__cil_tmp9)(& d, & u);
  }
#line 58
  if (status >= 0L) {
#line 71
    s = 1;
#line 72
    customIrp = 0;
#line 72
    setEventCalled = customIrp;
#line 72
    lowerDriverReturn = setEventCalled;
#line 72
    compRegistered = lowerDriverReturn;
#line 72
    compFptr = (NTSTATUS (*)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ))compRegistered;
#line 72
    pended = (int )compFptr;
#line 75
    __cil_tmp10 = (unsigned int )pirp;
#line 75
    __cil_tmp11 = __cil_tmp10 + 24;
#line 75
    mem_24 = (NTSTATUS *)__cil_tmp11;
#line 75
    *mem_24 = 0L;
#line 76
    myStatus = 0L;
#line 77
    if (irp_choice == 0) {
#line 77
      __cil_tmp12 = (unsigned int )pirp;
#line 77
      __cil_tmp13 = __cil_tmp12 + 24;
#line 77
      mem_25 = (NTSTATUS *)__cil_tmp13;
#line 77
      *mem_25 = -1073741637L;
#line 78
      myStatus = -1073741637L;
    } else {

    }
    {
#line 82
    stub_driver_init();
    }
    {
#line 84
    __cil_tmp14 = status >= 0L;
#line 84
    if (! __cil_tmp14) {
#line 84
      return (-1);
    } else {

    }
    }
#line 89
    if (__BLAST_NONDET == 0) {
      goto switch_190_0;
    } else {
#line 94
      if (__BLAST_NONDET == 1) {
        goto switch_190_1;
      } else {
#line 100
        if (__BLAST_NONDET == 2) {
          goto switch_190_2;
        } else {
#line 106
          if (__BLAST_NONDET == 3) {
            goto switch_190_3;
          } else {
#line 112
            if (__BLAST_NONDET == 4) {
              goto switch_190_4;
            } else {
              {
              goto switch_190_default;
#line 88
              if (0) {
                switch_190_0: /* CIL Label */ 
                {
#line 92
                __cil_tmp15 = & FloppyCreateClose;
#line 92
                status = (*__cil_tmp15)(& devobj, pirp);
                }
                goto switch_190_break;
                switch_190_1: /* CIL Label */ 
                {
#line 98
                __cil_tmp16 = & FloppyCreateClose;
#line 98
                status = (*__cil_tmp16)(& devobj, pirp);
                }
                goto switch_190_break;
                switch_190_2: /* CIL Label */ 
                {
#line 104
                __cil_tmp17 = & FloppyDeviceControl;
#line 104
                status = (*__cil_tmp17)(& devobj, pirp);
                }
                goto switch_190_break;
                switch_190_3: /* CIL Label */ 
                {
#line 110
                __cil_tmp18 = & FloppyPnp;
#line 110
                status = (*__cil_tmp18)(& devobj, pirp);
                }
                goto switch_190_break;
                switch_190_4: /* CIL Label */ 
                {
#line 116
                __cil_tmp19 = & FloppyPower;
#line 116
                status = (*__cil_tmp19)(& devobj, pirp);
                }
                goto switch_190_break;
                switch_190_default: /* CIL Label */ ;
#line 180
                return (-1);
              } else {
                switch_190_break: /* CIL Label */ ;
              }
              }
            }
          }
        }
      }
    }
#line 185
    if (we_should_unload) {
      {
#line 187
      __cil_tmp20 = & FloppyUnload;
#line 187
      (*__cil_tmp20)(& d);
      }
    } else {

    }
  } else {

  }
#line 192
  if (pended == 1) {
#line 192
    if (s == 1) {
#line 193
      s = 1;
    } else {
      goto _L___2;
    }
  } else {
    _L___2: 
#line 195
    if (pended == 1) {
#line 195
      if (s == 6) {
#line 196
        s = 6;
      } else {
        goto _L___1;
      }
    } else {
      _L___1: 
      {
#line 198
      __cil_tmp21 = s == 0;
#line 198
      if (! __cil_tmp21) {
        {
#line 198
        __cil_tmp22 = status == -1L;
#line 198
        if (! __cil_tmp22) {
#line 201
          if (s != 4) {
#line 201
            if (s != 7) {
#line 201
              if (s != 2) {

              } else {
                goto _L___0;
              }
            } else {
              goto _L___0;
            }
          } else {
            _L___0: 
#line 203
            if (pended == 1) {
#line 204
              if (status != 259L) {
#line 204
                status = 0L;
              } else {

              }
            } else {
#line 206
              if (s == 2) {
#line 207
                if (status == 259L) {
                  {
#line 207
                  __VERIFIER_assert(0);
                  }
                } else {

                }
              } else {
                {
#line 209
                __cil_tmp23 = (long )lowerDriverReturn;
#line 209
                if (status != __cil_tmp23) {
                  {
#line 209
                  __VERIFIER_assert(0);
                  }
                } else {

                }
                }
              }
            }
          }
        } else {

        }
        }
      } else {

      }
      }
    }
  }
#line 216
  status = 0L;
#line 217
  return ((int )status);
}
}
#line 220 "../slam-kernel.c"
char _SLAM_alloc_dummy  ;
#line 222 "../slam-kernel.c"
char *malloc(int i ) 
{ 

  {
#line 222
  return (& _SLAM_alloc_dummy);
}
}
#line 230
void ( __attribute__((__fastcall__)) ExAcquireFastMutex)(PFAST_MUTEX FastMutex ) ;
#line 230 "../slam-kernel.c"
void ( __attribute__((__fastcall__)) ExAcquireFastMutex)(PFAST_MUTEX FastMutex ) 
{ 

  {
#line 239
  return;
}
}
#line 240
void ( __attribute__((__fastcall__)) ExReleaseFastMutex)(PFAST_MUTEX FastMutex ) ;
#line 240 "../slam-kernel.c"
void ( __attribute__((__fastcall__)) ExReleaseFastMutex)(PFAST_MUTEX FastMutex ) 
{ 

  {
#line 249
  return;
}
}
#line 264
PVOID ( __attribute__((__stdcall__)) ExAllocatePoolWithTag)(POOL_TYPE PoolType ,
                                                                                            SIZE_T NumberOfBytes ,
                                                                                            ULONG Tag ) ;
#line 264 "../slam-kernel.c"
PVOID ( __attribute__((__stdcall__)) ExAllocatePoolWithTag)(POOL_TYPE PoolType , SIZE_T NumberOfBytes ,
                                                            ULONG Tag ) 
{ PVOID x ;
  char *tmp ;
  int __cil_tmp6 ;

  {
  {
#line 274
  __cil_tmp6 = (int )NumberOfBytes;
#line 274
  tmp = malloc(__cil_tmp6);
#line 274
  x = (void *)tmp;
  }
#line 275
  return (x);
}
}
#line 279
void ( __attribute__((__stdcall__)) ExFreePool)(PVOID P ) ;
#line 279 "../slam-kernel.c"
void ( __attribute__((__stdcall__)) ExFreePool)(PVOID P ) 
{ 

  {
#line 287
  return;
}
}
#line 288
PLIST_ENTRY ( __attribute__((__fastcall__)) ExfInterlockedInsertHeadList)(PLIST_ENTRY ListHead ,
                                                                                                          PLIST_ENTRY ListEntry ,
                                                                                                          PKSPIN_LOCK Lock ) ;
#line 288 "../slam-kernel.c"
PLIST_ENTRY ( __attribute__((__fastcall__)) ExfInterlockedInsertHeadList)(PLIST_ENTRY ListHead ,
                                                                          PLIST_ENTRY ListEntry ,
                                                                          PKSPIN_LOCK Lock ) 
{ void *__cil_tmp4 ;

  {
  {
#line 296
  __cil_tmp4 = (void *)0;
#line 296
  return ((struct _LIST_ENTRY *)__cil_tmp4);
  }
}
}
#line 299
PLIST_ENTRY ( __attribute__((__fastcall__)) ExfInterlockedInsertTailList)(PLIST_ENTRY ListHead ,
                                                                                                          PLIST_ENTRY ListEntry ,
                                                                                                          PKSPIN_LOCK Lock ) ;
#line 299 "../slam-kernel.c"
PLIST_ENTRY ( __attribute__((__fastcall__)) ExfInterlockedInsertTailList)(PLIST_ENTRY ListHead ,
                                                                          PLIST_ENTRY ListEntry ,
                                                                          PKSPIN_LOCK Lock ) 
{ void *__cil_tmp4 ;

  {
  {
#line 308
  __cil_tmp4 = (void *)0;
#line 308
  return ((struct _LIST_ENTRY *)__cil_tmp4);
  }
}
}
#line 311
PLIST_ENTRY ( __attribute__((__fastcall__)) ExfInterlockedRemoveHeadList)(PLIST_ENTRY ListHead ,
                                                                                                          PKSPIN_LOCK Lock ) ;
#line 311 "../slam-kernel.c"
PLIST_ENTRY ( __attribute__((__fastcall__)) ExfInterlockedRemoveHeadList)(PLIST_ENTRY ListHead ,
                                                                          PKSPIN_LOCK Lock ) 
{ void *__cil_tmp3 ;

  {
  {
#line 319
  __cil_tmp3 = (void *)0;
#line 319
  return ((struct _LIST_ENTRY *)__cil_tmp3);
  }
}
}
#line 335
PMDL IoAllocateMdl(PVOID VirtualAddress , ULONG Length ,
                                                   BOOLEAN SecondaryBuffer , BOOLEAN ChargeQuota ,
                                                   PIRP Irp ) ;
#line 335 "../slam-kernel.c"
PMDL IoAllocateMdl(PVOID VirtualAddress , ULONG Length , BOOLEAN SecondaryBuffer ,
                   BOOLEAN ChargeQuota , PIRP Irp ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;
  char *tmp ;
  int __cil_tmp8 ;
  void *__cil_tmp9 ;
  void *__cil_tmp10 ;

  {
#line 347
  if (__BLAST_NONDET == 0) {
    goto switch_191_0;
  } else {
    {
    goto switch_191_default;
#line 346
    if (0) {
      switch_191_0: /* CIL Label */ 
      {
#line 347
      __cil_tmp8 = (int )28U;
#line 347
      tmp = malloc(__cil_tmp8);
      }
      {
#line 347
      __cil_tmp9 = (void *)tmp;
#line 347
      return ((struct _MDL *)__cil_tmp9);
      }
      switch_191_default: /* CIL Label */ ;
      {
#line 348
      __cil_tmp10 = (void *)0;
#line 348
      return ((struct _MDL *)__cil_tmp10);
      }
    } else {
      switch_191_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 352
PDEVICE_OBJECT IoAttachDeviceToDeviceStack(PDEVICE_OBJECT SourceDevice ,
                                                                           PDEVICE_OBJECT TargetDevice ) ;
#line 352 "../slam-kernel.c"
PDEVICE_OBJECT IoAttachDeviceToDeviceStack(PDEVICE_OBJECT SourceDevice , PDEVICE_OBJECT TargetDevice ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;
  void *__cil_tmp4 ;

  {
#line 361
  if (__BLAST_NONDET == 0) {
    goto switch_192_0;
  } else {
    {
    goto switch_192_default;
#line 360
    if (0) {
      switch_192_0: /* CIL Label */ ;
#line 361
      return (TargetDevice);
      switch_192_default: /* CIL Label */ ;
      {
#line 362
      __cil_tmp4 = (void *)0;
#line 362
      return ((struct _DEVICE_OBJECT *)__cil_tmp4);
      }
    } else {
      switch_192_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 366
PIRP IoBuildAsynchronousFsdRequest(ULONG MajorFunction ,
                                                                   PDEVICE_OBJECT DeviceObject ,
                                                                   PVOID Buffer ,
                                                                   ULONG Length ,
                                                                   PLARGE_INTEGER StartingOffset ,
                                                                   PIO_STATUS_BLOCK IoStatusBlock ) ;
#line 366 "../slam-kernel.c"
PIRP IoBuildAsynchronousFsdRequest(ULONG MajorFunction , PDEVICE_OBJECT DeviceObject ,
                                   PVOID Buffer , ULONG Length , PLARGE_INTEGER StartingOffset ,
                                   PIO_STATUS_BLOCK IoStatusBlock ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;
  char *tmp ;
  int __cil_tmp9 ;
  void *__cil_tmp10 ;
  void *__cil_tmp11 ;

  {
#line 378
  customIrp = 1;
#line 381
  if (__BLAST_NONDET == 0) {
    goto switch_193_0;
  } else {
    {
    goto switch_193_default;
#line 380
    if (0) {
      switch_193_0: /* CIL Label */ 
      {
#line 381
      __cil_tmp9 = (int )112U;
#line 381
      tmp = malloc(__cil_tmp9);
      }
      {
#line 381
      __cil_tmp10 = (void *)tmp;
#line 381
      return ((struct _IRP *)__cil_tmp10);
      }
      switch_193_default: /* CIL Label */ ;
      {
#line 382
      __cil_tmp11 = (void *)0;
#line 382
      return ((struct _IRP *)__cil_tmp11);
      }
    } else {
      switch_193_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 397
PIRP IoBuildDeviceIoControlRequest(ULONG IoControlCode ,
                                                                   PDEVICE_OBJECT DeviceObject ,
                                                                   PVOID InputBuffer ,
                                                                   ULONG InputBufferLength ,
                                                                   PVOID OutputBuffer ,
                                                                   ULONG OutputBufferLength ,
                                                                   BOOLEAN InternalDeviceIoControl ,
                                                                   PKEVENT Event ,
                                                                   PIO_STATUS_BLOCK IoStatusBlock ) ;
#line 397 "../slam-kernel.c"
PIRP IoBuildDeviceIoControlRequest(ULONG IoControlCode , PDEVICE_OBJECT DeviceObject ,
                                   PVOID InputBuffer , ULONG InputBufferLength , PVOID OutputBuffer ,
                                   ULONG OutputBufferLength , BOOLEAN InternalDeviceIoControl ,
                                   PKEVENT Event , PIO_STATUS_BLOCK IoStatusBlock ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;
  char *tmp ;
  int __cil_tmp12 ;
  void *__cil_tmp13 ;
  void *__cil_tmp14 ;

  {
#line 412
  customIrp = 1;
#line 415
  if (__BLAST_NONDET == 0) {
    goto switch_194_0;
  } else {
    {
    goto switch_194_default;
#line 414
    if (0) {
      switch_194_0: /* CIL Label */ 
      {
#line 415
      __cil_tmp12 = (int )112U;
#line 415
      tmp = malloc(__cil_tmp12);
      }
      {
#line 415
      __cil_tmp13 = (void *)tmp;
#line 415
      return ((struct _IRP *)__cil_tmp13);
      }
      switch_194_default: /* CIL Label */ ;
      {
#line 416
      __cil_tmp14 = (void *)0;
#line 416
      return ((struct _IRP *)__cil_tmp14);
      }
    } else {
      switch_194_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 420
NTSTATUS IoCreateDevice(PDRIVER_OBJECT DriverObject ,
                                                        ULONG DeviceExtensionSize ,
                                                        PUNICODE_STRING DeviceName ,
                                                        ULONG DeviceType , ULONG DeviceCharacteristics ,
                                                        BOOLEAN Exclusive , PDEVICE_OBJECT *DeviceObject ) ;
#line 420 "../slam-kernel.c"
NTSTATUS IoCreateDevice(PDRIVER_OBJECT DriverObject , ULONG DeviceExtensionSize ,
                        PUNICODE_STRING DeviceName , ULONG DeviceType , ULONG DeviceCharacteristics ,
                        BOOLEAN Exclusive , PDEVICE_OBJECT *DeviceObject ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;
  char *tmp ;
  int __cil_tmp10 ;
  void *__cil_tmp11 ;

  {
#line 434
  if (__BLAST_NONDET == 0) {
    goto switch_195_0;
  } else {
    {
    goto switch_195_default;
#line 433
    if (0) {
      switch_195_0: /* CIL Label */ 
      {
#line 434
      __cil_tmp10 = (int )184U;
#line 434
      tmp = malloc(__cil_tmp10);
#line 434
      __cil_tmp11 = (void *)tmp;
#line 434
      *DeviceObject = (struct _DEVICE_OBJECT *)__cil_tmp11;
      }
#line 435
      return (0L);
      switch_195_default: /* CIL Label */ ;
#line 441
      return (-1073741823L);
    } else {
      switch_195_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 446
NTSTATUS IoCreateSymbolicLink(PUNICODE_STRING SymbolicLinkName ,
                                                              PUNICODE_STRING DeviceName ) ;
#line 446 "../slam-kernel.c"
NTSTATUS IoCreateSymbolicLink(PUNICODE_STRING SymbolicLinkName , PUNICODE_STRING DeviceName ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 455
  if (__BLAST_NONDET == 0) {
    goto switch_196_0;
  } else {
    {
    goto switch_196_default;
#line 454
    if (0) {
      switch_196_0: /* CIL Label */ ;
#line 455
      return (0L);
      switch_196_default: /* CIL Label */ ;
#line 456
      return (-1073741823L);
    } else {
      switch_196_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 460
void IoDeleteDevice(PDEVICE_OBJECT DeviceObject ) ;
#line 460 "../slam-kernel.c"
void IoDeleteDevice(PDEVICE_OBJECT DeviceObject ) 
{ 

  {
#line 464
  return;
}
}
#line 469
NTSTATUS IoDeleteSymbolicLink(PUNICODE_STRING SymbolicLinkName ) ;
#line 469 "../slam-kernel.c"
NTSTATUS IoDeleteSymbolicLink(PUNICODE_STRING SymbolicLinkName ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 477
  if (__BLAST_NONDET == 0) {
    goto switch_197_0;
  } else {
    {
    goto switch_197_default;
#line 476
    if (0) {
      switch_197_0: /* CIL Label */ ;
#line 477
      return (0L);
      switch_197_default: /* CIL Label */ ;
#line 478
      return (-1073741823L);
    } else {
      switch_197_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 482
void IoDetachDevice(PDEVICE_OBJECT TargetDevice ) ;
#line 482 "../slam-kernel.c"
void IoDetachDevice(PDEVICE_OBJECT TargetDevice ) 
{ 

  {
#line 486
  return;
}
}
#line 491
void IoFreeIrp(PIRP Irp ) ;
#line 491 "../slam-kernel.c"
void IoFreeIrp(PIRP Irp ) 
{ 

  {
#line 495
  return;
}
}
#line 500
void IoFreeMdl(PMDL Mdl ) ;
#line 500 "../slam-kernel.c"
void IoFreeMdl(PMDL Mdl ) 
{ 

  {
#line 504
  return;
}
}
#line 509
PCONFIGURATION_INFORMATION IoGetConfigurationInformation(void) ;
#line 509 "../slam-kernel.c"
PCONFIGURATION_INFORMATION IoGetConfigurationInformation(void) 
{ char *tmp ;
  int __cil_tmp2 ;
  void *__cil_tmp3 ;

  {
  {
#line 514
  __cil_tmp2 = (int )40U;
#line 514
  tmp = malloc(__cil_tmp2);
  }
  {
#line 514
  __cil_tmp3 = (void *)tmp;
#line 514
  return ((struct _CONFIGURATION_INFORMATION *)__cil_tmp3);
  }
}
}
#line 517
NTSTATUS IoQueryDeviceDescription(PINTERFACE_TYPE BusType ,
                                                                  PULONG BusNumber ,
                                                                  PCONFIGURATION_TYPE ControllerType ,
                                                                  PULONG ControllerNumber ,
                                                                  PCONFIGURATION_TYPE PeripheralType ,
                                                                  PULONG PeripheralNumber ,
                                                                  NTSTATUS (*CalloutRoutine)(PVOID Context ,
                                                                                             PUNICODE_STRING PathName ,
                                                                                             INTERFACE_TYPE BusType ,
                                                                                             ULONG BusNumber ,
                                                                                             PKEY_VALUE_FULL_INFORMATION *BusInformation ,
                                                                                             CONFIGURATION_TYPE ControllerType ,
                                                                                             ULONG ControllerNumber ,
                                                                                             PKEY_VALUE_FULL_INFORMATION *ControllerInformation ,
                                                                                             CONFIGURATION_TYPE PeripheralType ,
                                                                                             ULONG PeripheralNumber ,
                                                                                             PKEY_VALUE_FULL_INFORMATION *PeripheralInformation ) ,
                                                                  PVOID Context ) ;
#line 517 "../slam-kernel.c"
NTSTATUS IoQueryDeviceDescription(PINTERFACE_TYPE BusType , PULONG BusNumber , PCONFIGURATION_TYPE ControllerType ,
                                  PULONG ControllerNumber , PCONFIGURATION_TYPE PeripheralType ,
                                  PULONG PeripheralNumber , NTSTATUS (*CalloutRoutine)(PVOID Context ,
                                                                                       PUNICODE_STRING PathName ,
                                                                                       INTERFACE_TYPE BusType ,
                                                                                       ULONG BusNumber ,
                                                                                       PKEY_VALUE_FULL_INFORMATION *BusInformation ,
                                                                                       CONFIGURATION_TYPE ControllerType ,
                                                                                       ULONG ControllerNumber ,
                                                                                       PKEY_VALUE_FULL_INFORMATION *ControllerInformation ,
                                                                                       CONFIGURATION_TYPE PeripheralType ,
                                                                                       ULONG PeripheralNumber ,
                                                                                       PKEY_VALUE_FULL_INFORMATION *PeripheralInformation ) ,
                                  PVOID Context ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 532
  if (__BLAST_NONDET == 0) {
    goto switch_198_0;
  } else {
    {
    goto switch_198_default;
#line 531
    if (0) {
      switch_198_0: /* CIL Label */ ;
#line 532
      return (0L);
      switch_198_default: /* CIL Label */ ;
#line 533
      return (-1073741823L);
    } else {
      switch_198_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 537
NTSTATUS ( __attribute__((__stdcall__)) IoRegisterDeviceInterface)(PDEVICE_OBJECT PhysicalDeviceObject ,
                                                                                                   GUID const   *InterfaceClassGuid ,
                                                                                                   PUNICODE_STRING ReferenceString ,
                                                                                                   PUNICODE_STRING SymbolicLinkName ) ;
#line 537 "../slam-kernel.c"
NTSTATUS ( __attribute__((__stdcall__)) IoRegisterDeviceInterface)(PDEVICE_OBJECT PhysicalDeviceObject ,
                                                                   GUID const   *InterfaceClassGuid ,
                                                                   PUNICODE_STRING ReferenceString ,
                                                                   PUNICODE_STRING SymbolicLinkName ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 549
  if (__BLAST_NONDET == 0) {
    goto switch_199_0;
  } else {
    {
    goto switch_199_default;
#line 548
    if (0) {
      switch_199_0: /* CIL Label */ ;
#line 549
      return (0L);
      switch_199_default: /* CIL Label */ ;
#line 550
      return (-1073741808L);
    } else {
      switch_199_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 554
void IoReleaseCancelSpinLock(KIRQL Irql ) ;
#line 554 "../slam-kernel.c"
void IoReleaseCancelSpinLock(KIRQL Irql ) 
{ 

  {
#line 558
  return;
}
}
#line 563
NTSTATUS IoSetDeviceInterfaceState(PUNICODE_STRING SymbolicLinkName ,
                                                                   BOOLEAN Enable ) ;
#line 563 "../slam-kernel.c"
NTSTATUS IoSetDeviceInterfaceState(PUNICODE_STRING SymbolicLinkName , BOOLEAN Enable ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 572
  if (__BLAST_NONDET == 0) {
    goto switch_200_0;
  } else {
    {
    goto switch_200_default;
#line 571
    if (0) {
      switch_200_0: /* CIL Label */ ;
#line 572
      return (0L);
      switch_200_default: /* CIL Label */ ;
#line 577
      return (-1073741823L);
    } else {
      switch_200_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 582
void IoSetHardErrorOrVerifyDevice(PIRP Irp , PDEVICE_OBJECT DeviceObject ) ;
#line 582 "../slam-kernel.c"
void IoSetHardErrorOrVerifyDevice(PIRP Irp , PDEVICE_OBJECT DeviceObject ) 
{ 

  {
#line 587
  return;
}
}
#line 595 "../slam-kernel.c"
void stubMoreProcessingRequired(void) 
{ 

  {
#line 598
  if (s == 1) {
#line 598
    s = 5;
  } else {
    {
#line 599
    __VERIFIER_assert(0);
    }
  }
#line 602
  return;
}
}
#line 602
NTSTATUS ( __attribute__((__fastcall__)) IofCallDriver)(PDEVICE_OBJECT DeviceObject ,
                                                                                        PIRP Irp ) ;
#line 602 "../slam-kernel.c"
NTSTATUS ( __attribute__((__fastcall__)) IofCallDriver)(PDEVICE_OBJECT DeviceObject ,
                                                        PIRP Irp ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;
  NTSTATUS returnVal2 ;
  int compRetStatus1 ;
  PVOID lcontext ;
  NTSTATUS tmp ;
  NTSTATUS (*__cil_tmp8)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
  long __cil_tmp9 ;

  {
#line 615
  if (compRegistered) {
    {
#line 619
    __cil_tmp8 = & FloppyPnpComplete;
#line 619
    tmp = (*__cil_tmp8)(DeviceObject, Irp, lcontext);
#line 619
    compRetStatus1 = (int )tmp;
    }
    {
#line 621
    __cil_tmp9 = (long )compRetStatus1;
#line 621
    if (__cil_tmp9 == -1073741802L) {
      {
#line 617
      stubMoreProcessingRequired();
      }
    } else {

    }
    }
  } else {

  }
#line 623
  if (__BLAST_NONDET == 0) {
    goto switch_201_0;
  } else {
#line 624
    if (__BLAST_NONDET == 1) {
      goto switch_201_1;
    } else {
      {
      goto switch_201_default;
#line 622
      if (0) {
        switch_201_0: /* CIL Label */ 
#line 623
        returnVal2 = 0L;
        goto switch_201_break;
        switch_201_1: /* CIL Label */ 
#line 625
        returnVal2 = -1073741823L;
        goto switch_201_break;
        switch_201_default: /* CIL Label */ 
#line 627
        returnVal2 = 259L;
        goto switch_201_break;
      } else {
        switch_201_break: /* CIL Label */ ;
      }
      }
    }
  }
#line 629
  if (s == 1) {
#line 630
    s = 7;
#line 630
    lowerDriverReturn = (int )returnVal2;
  } else {
#line 632
    if (s == 5) {
#line 633
      if (returnVal2 == 259L) {
#line 634
        s = 6;
#line 634
        lowerDriverReturn = (int )returnVal2;
      } else {
#line 636
        s = 1;
#line 636
        lowerDriverReturn = (int )returnVal2;
      }
    } else {
#line 639
      if (s == 3) {
#line 639
        s = 4;
#line 639
        lowerDriverReturn = (int )returnVal2;
      } else {
        {
#line 640
        __VERIFIER_assert(0);
        }
      }
    }
  }
#line 643
  return (returnVal2);
}
}
#line 665
void ( __attribute__((__fastcall__)) IofCompleteRequest)(PIRP Irp ,
                                                                                         CCHAR PriorityBoost ) ;
#line 665 "../slam-kernel.c"
void ( __attribute__((__fastcall__)) IofCompleteRequest)(PIRP Irp , CCHAR PriorityBoost ) 
{ 

  {
#line 673
  if (s == 1) {
#line 673
    s = 2;
  } else {
    {
#line 674
    __VERIFIER_assert(0);
    }
  }
#line 677
  return;
}
}
#line 677
KIRQL KeAcquireSpinLockRaiseToDpc(PKSPIN_LOCK SpinLock ) ;
#line 677
KIRQL KeAcquireSpinLockRaiseToDpc(PKSPIN_LOCK SpinLock ) ;
#line 677 "../slam-kernel.c"
KIRQL KeAcquireSpinLockRaiseToDpc(PKSPIN_LOCK SpinLock ) 
{ 

  {
#line 679
  return ((unsigned char)0);
}
}
#line 686
NTSTATUS KeDelayExecutionThread(KPROCESSOR_MODE WaitMode ,
                                                                BOOLEAN Alertable ,
                                                                PLARGE_INTEGER Interval ) ;
#line 686 "../slam-kernel.c"
NTSTATUS KeDelayExecutionThread(KPROCESSOR_MODE WaitMode , BOOLEAN Alertable , PLARGE_INTEGER Interval ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 696
  if (__BLAST_NONDET == 0) {
    goto switch_202_0;
  } else {
    {
    goto switch_202_default;
#line 695
    if (0) {
      switch_202_0: /* CIL Label */ ;
#line 696
      return (0L);
      switch_202_default: /* CIL Label */ ;
#line 701
      return (-1073741823L);
    } else {
      switch_202_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 706
void KeInitializeEvent(PRKEVENT Event , EVENT_TYPE Type ,
                                                       BOOLEAN State ) ;
#line 706 "../slam-kernel.c"
void KeInitializeEvent(PRKEVENT Event , EVENT_TYPE Type , BOOLEAN State ) 
{ 

  {
#line 711
  return;
}
}
#line 717
void KeInitializeSemaphore(PRKSEMAPHORE Semaphore ,
                                                           LONG Count , LONG Limit ) ;
#line 717 "../slam-kernel.c"
void KeInitializeSemaphore(PRKSEMAPHORE Semaphore , LONG Count , LONG Limit ) 
{ 

  {
#line 722
  return;
}
}
#line 728
void ( __attribute__((__stdcall__)) KeInitializeSpinLock)(PKSPIN_LOCK SpinLock ) ;
#line 728 "../slam-kernel.c"
void ( __attribute__((__stdcall__)) KeInitializeSpinLock)(PKSPIN_LOCK SpinLock ) 
{ 

  {
#line 732
  return;
}
}
#line 738
LONG KeReleaseSemaphore(PRKSEMAPHORE Semaphore , KPRIORITY Increment ,
                                                        LONG Adjustment , BOOLEAN Wait ) ;
#line 738 "../slam-kernel.c"
LONG KeReleaseSemaphore(PRKSEMAPHORE Semaphore , KPRIORITY Increment , LONG Adjustment ,
                        BOOLEAN Wait ) 
{ LONG r ;

  {
#line 748
  return (r);
}
}
#line 751
void ( __attribute__((__fastcall__)) KfReleaseSpinLock)(PKSPIN_LOCK SpinLock ,
                                                                                        KIRQL NewIrql ) ;
#line 751 "../slam-kernel.c"
void ( __attribute__((__fastcall__)) KfReleaseSpinLock)(PKSPIN_LOCK SpinLock , KIRQL NewIrql ) 
{ 

  {
#line 756
  return;
}
}
#line 762
LONG KeSetEvent(PRKEVENT Event , KPRIORITY Increment ,
                                                BOOLEAN Wait ) ;
#line 762 "../slam-kernel.c"
LONG KeSetEvent(PRKEVENT Event , KPRIORITY Increment , BOOLEAN Wait ) 
{ LONG l ;

  {
#line 772
  setEventCalled = 1;
#line 774
  return (l);
}
}
#line 777
NTSTATUS KeWaitForSingleObject(PVOID Object , KWAIT_REASON WaitReason ,
                                                               KPROCESSOR_MODE WaitMode ,
                                                               BOOLEAN Alertable ,
                                                               PLARGE_INTEGER Timeout ) ;
#line 777 "../slam-kernel.c"
NTSTATUS KeWaitForSingleObject(PVOID Object , KWAIT_REASON WaitReason , KPROCESSOR_MODE WaitMode ,
                               BOOLEAN Alertable , PLARGE_INTEGER Timeout ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 788
  if (s == 6) {
#line 788
    if (setEventCalled == 1) {
#line 789
      s = 1;
#line 789
      setEventCalled = 0;
    } else {
      goto _L;
    }
  } else {
    _L: 
#line 791
    if (customIrp == 1) {
#line 792
      s = 1;
#line 792
      customIrp = 0;
    } else {
#line 794
      if (s == 6) {
        {
#line 794
        __VERIFIER_assert(0);
        }
      } else {

      }
    }
  }
#line 799
  if (__BLAST_NONDET == 0) {
    goto switch_203_0;
  } else {
    {
    goto switch_203_default;
#line 798
    if (0) {
      switch_203_0: /* CIL Label */ ;
#line 799
      return (0L);
      switch_203_default: /* CIL Label */ ;
#line 805
      return (-1073741823L);
    } else {
      switch_203_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 810
PVOID MmAllocateContiguousMemory(SIZE_T NumberOfBytes ,
                                                                 PHYSICAL_ADDRESS HighestAcceptableAddress ) ;
#line 810 "../slam-kernel.c"
PVOID MmAllocateContiguousMemory(SIZE_T NumberOfBytes , PHYSICAL_ADDRESS HighestAcceptableAddress ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;
  char *tmp ;
  int __cil_tmp5 ;

  {
#line 818
  if (__BLAST_NONDET == 0) {
    goto switch_204_0;
  } else {
#line 819
    if (__BLAST_NONDET == 1) {
      goto switch_204_1;
    } else {
#line 817
      if (0) {
        switch_204_0: /* CIL Label */ 
        {
#line 818
        __cil_tmp5 = (int )NumberOfBytes;
#line 818
        tmp = malloc(__cil_tmp5);
        }
#line 818
        return ((void *)tmp);
        switch_204_1: /* CIL Label */ ;
#line 819
        return ((void *)0);
      } else {
        switch_204_break: /* CIL Label */ ;
      }
    }
  }
#line 821
  return ((void *)0);
}
}
#line 823
void MmFreeContiguousMemory(PVOID BaseAddress ) ;
#line 823 "../slam-kernel.c"
void MmFreeContiguousMemory(PVOID BaseAddress ) 
{ 

  {
#line 827
  return;
}
}
#line 832
PVOID MmMapLockedPagesSpecifyCache(PMDL MemoryDescriptorList ,
                                                                   KPROCESSOR_MODE AccessMode ,
                                                                   MEMORY_CACHING_TYPE CacheType ,
                                                                   PVOID BaseAddress ,
                                                                   ULONG BugCheckOnFailure ,
                                                                   MM_PAGE_PRIORITY Priority ) ;
#line 832 "../slam-kernel.c"
PVOID MmMapLockedPagesSpecifyCache(PMDL MemoryDescriptorList , KPROCESSOR_MODE AccessMode ,
                                   MEMORY_CACHING_TYPE CacheType , PVOID BaseAddress ,
                                   ULONG BugCheckOnFailure , MM_PAGE_PRIORITY Priority ) 
{ 

  {
#line 843
  return ((void *)0);
}
}
#line 846
PVOID MmPageEntireDriver(PVOID AddressWithinSection ) ;
#line 846 "../slam-kernel.c"
PVOID MmPageEntireDriver(PVOID AddressWithinSection ) 
{ 

  {
#line 852
  return ((void *)0);
}
}
#line 855
void MmResetDriverPaging(PVOID AddressWithinSection ) ;
#line 855 "../slam-kernel.c"
void MmResetDriverPaging(PVOID AddressWithinSection ) 
{ 

  {
#line 859
  return;
}
}
#line 865
void MmUnlockPages(PMDL MemoryDescriptorList ) ;
#line 865 "../slam-kernel.c"
void MmUnlockPages(PMDL MemoryDescriptorList ) 
{ 

  {
#line 869
  return;
}
}
#line 874
NTSTATUS ObReferenceObjectByHandle(HANDLE Handle ,
                                                                   ACCESS_MASK DesiredAccess ,
                                                                   POBJECT_TYPE ObjectType ,
                                                                   KPROCESSOR_MODE AccessMode ,
                                                                   PVOID *Object ,
                                                                   POBJECT_HANDLE_INFORMATION HandleInformation ) ;
#line 874 "../slam-kernel.c"
NTSTATUS ObReferenceObjectByHandle(HANDLE Handle , ACCESS_MASK DesiredAccess , POBJECT_TYPE ObjectType ,
                                   KPROCESSOR_MODE AccessMode , PVOID *Object , POBJECT_HANDLE_INFORMATION HandleInformation ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 887
  if (__BLAST_NONDET == 0) {
    goto switch_205_0;
  } else {
    {
    goto switch_205_default;
#line 886
    if (0) {
      switch_205_0: /* CIL Label */ ;
#line 887
      return (0L);
      switch_205_default: /* CIL Label */ ;
#line 893
      return (-1073741823L);
    } else {
      switch_205_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 899
void ( __attribute__((__fastcall__)) ObfDereferenceObject)(PVOID Object ) ;
#line 899 "../slam-kernel.c"
void ( __attribute__((__fastcall__)) ObfDereferenceObject)(PVOID Object ) 
{ 

  {
#line 903
  return;
}
}
#line 909
NTSTATUS PoCallDriver(PDEVICE_OBJECT DeviceObject ,
                                                      PIRP Irp ) ;
#line 909 "../slam-kernel.c"
NTSTATUS PoCallDriver(PDEVICE_OBJECT DeviceObject , PIRP Irp ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;
  int compRetStatus ;
  NTSTATUS returnVal ;
  PVOID lcontext ;
  NTSTATUS tmp ;
  NTSTATUS (*__cil_tmp8)(PDEVICE_OBJECT DeviceObject , PIRP Irp , PVOID Context ) ;
  long __cil_tmp9 ;

  {
#line 922
  if (compRegistered) {
    {
#line 926
    __cil_tmp8 = & FloppyPnpComplete;
#line 926
    tmp = (*__cil_tmp8)(DeviceObject, Irp, lcontext);
#line 926
    compRetStatus = (int )tmp;
    }
    {
#line 927
    __cil_tmp9 = (long )compRetStatus;
#line 927
    if (__cil_tmp9 == -1073741802L) {
      {
#line 924
      stubMoreProcessingRequired();
      }
    } else {

    }
    }
  } else {

  }
#line 930
  if (__BLAST_NONDET == 0) {
    goto switch_206_0;
  } else {
#line 933
    if (__BLAST_NONDET == 1) {
      goto switch_206_1;
    } else {
      {
      goto switch_206_default;
#line 929
      if (0) {
        switch_206_0: /* CIL Label */ 
#line 931
        returnVal = 0L;
        goto switch_206_break;
        switch_206_1: /* CIL Label */ 
#line 934
        returnVal = -1073741823L;
        goto switch_206_break;
        switch_206_default: /* CIL Label */ 
#line 937
        returnVal = 259L;
        goto switch_206_break;
      } else {
        switch_206_break: /* CIL Label */ ;
      }
      }
    }
  }
#line 939
  if (s == 1) {
#line 940
    s = 7;
#line 940
    lowerDriverReturn = (int )returnVal;
  } else {
#line 942
    if (s == 5) {
#line 943
      if (returnVal == 259L) {
#line 944
        s = 6;
#line 944
        lowerDriverReturn = (int )returnVal;
      } else {
#line 946
        s = 1;
#line 946
        lowerDriverReturn = (int )returnVal;
      }
    } else {
#line 949
      if (s == 3) {
#line 949
        s = 4;
#line 949
        lowerDriverReturn = (int )returnVal;
      } else {

      }
    }
  }
#line 953
  return (returnVal);
}
}
#line 956
void PoStartNextPowerIrp(PIRP Irp ) ;
#line 956 "../slam-kernel.c"
void PoStartNextPowerIrp(PIRP Irp ) 
{ 

  {
#line 960
  return;
}
}
#line 965
NTSTATUS PsCreateSystemThread(PHANDLE ThreadHandle ,
                                                              ULONG DesiredAccess ,
                                                              POBJECT_ATTRIBUTES ObjectAttributes ,
                                                              HANDLE ProcessHandle ,
                                                              PCLIENT_ID ClientId ,
                                                              void (*StartRoutine)(PVOID StartContext ) ,
                                                              PVOID StartContext ) ;
#line 965 "../slam-kernel.c"
NTSTATUS PsCreateSystemThread(PHANDLE ThreadHandle , ULONG DesiredAccess , POBJECT_ATTRIBUTES ObjectAttributes ,
                              HANDLE ProcessHandle , PCLIENT_ID ClientId , void (*StartRoutine)(PVOID StartContext ) ,
                              PVOID StartContext ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 979
  if (__BLAST_NONDET == 0) {
    goto switch_207_0;
  } else {
    {
    goto switch_207_default;
#line 978
    if (0) {
      switch_207_0: /* CIL Label */ ;
#line 979
      return (0L);
      switch_207_default: /* CIL Label */ ;
#line 980
      return (-1073741823L);
    } else {
      switch_207_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 984
NTSTATUS PsTerminateSystemThread(NTSTATUS ExitStatus ) ;
#line 984 "../slam-kernel.c"
NTSTATUS PsTerminateSystemThread(NTSTATUS ExitStatus ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 992
  if (__BLAST_NONDET == 0) {
    goto switch_208_0;
  } else {
    {
    goto switch_208_default;
#line 991
    if (0) {
      switch_208_0: /* CIL Label */ ;
#line 992
      return (0L);
      switch_208_default: /* CIL Label */ ;
#line 993
      return (-1073741823L);
    } else {
      switch_208_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 998
NTSTATUS ( __attribute__((__stdcall__)) RtlAnsiStringToUnicodeString)(PUNICODE_STRING DestinationString ,
                                                                                                      PANSI_STRING SourceString ,
                                                                                                      BOOLEAN AllocateDestinationString ) ;
#line 998 "../slam-kernel.c"
NTSTATUS ( __attribute__((__stdcall__)) RtlAnsiStringToUnicodeString)(PUNICODE_STRING DestinationString ,
                                                                      PANSI_STRING SourceString ,
                                                                      BOOLEAN AllocateDestinationString ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 1009
  if (__BLAST_NONDET == 0) {
    goto switch_209_0;
  } else {
    {
    goto switch_209_default;
#line 1008
    if (0) {
      switch_209_0: /* CIL Label */ ;
#line 1009
      return (0L);
      switch_209_default: /* CIL Label */ ;
#line 1010
      return (-1073741823L);
    } else {
      switch_209_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 1014
SIZE_T ( __attribute__((__stdcall__)) RtlCompareMemory)(void const   *Source1 ,
                                                                                        void const   *Source2 ,
                                                                                        SIZE_T Length ) ;
#line 1014 "../slam-kernel.c"
SIZE_T ( __attribute__((__stdcall__)) RtlCompareMemory)(void const   *Source1 , void const   *Source2 ,
                                                        SIZE_T Length ) 
{ SIZE_T r ;

  {
#line 1024
  return (r);
}
}
#line 1027
void ( __attribute__((__stdcall__)) RtlCopyUnicodeString)(PUNICODE_STRING DestinationString ,
                                                                                          PUNICODE_STRING SourceString ) ;
#line 1027 "../slam-kernel.c"
void ( __attribute__((__stdcall__)) RtlCopyUnicodeString)(PUNICODE_STRING DestinationString ,
                                                          PUNICODE_STRING SourceString ) 
{ 

  {
#line 1032
  return;
}
}
#line 1038
NTSTATUS ( __attribute__((__stdcall__)) RtlDeleteRegistryValue)(ULONG RelativeTo ,
                                                                                                PCWSTR Path ,
                                                                                                PCWSTR ValueName ) ;
#line 1038 "../slam-kernel.c"
NTSTATUS ( __attribute__((__stdcall__)) RtlDeleteRegistryValue)(ULONG RelativeTo ,
                                                                PCWSTR Path , PCWSTR ValueName ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 1049
  if (__BLAST_NONDET == 0) {
    goto switch_210_0;
  } else {
    {
    goto switch_210_default;
#line 1048
    if (0) {
      switch_210_0: /* CIL Label */ ;
#line 1049
      return (0L);
      switch_210_default: /* CIL Label */ ;
#line 1050
      return (-1073741823L);
    } else {
      switch_210_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 1054
void ( __attribute__((__stdcall__)) RtlFreeUnicodeString)(PUNICODE_STRING UnicodeString ) ;
#line 1054 "../slam-kernel.c"
void ( __attribute__((__stdcall__)) RtlFreeUnicodeString)(PUNICODE_STRING UnicodeString ) 
{ 

  {
#line 1059
  return;
}
}
#line 1064
void ( __attribute__((__stdcall__)) RtlInitString)(PSTRING DestinationString ,
                                                                                   PCSZ SourceString ) ;
#line 1064 "../slam-kernel.c"
void ( __attribute__((__stdcall__)) RtlInitString)(PSTRING DestinationString , PCSZ SourceString ) 
{ 

  {
#line 1069
  return;
}
}
#line 1075
void ( __attribute__((__stdcall__)) RtlInitUnicodeString)(PUNICODE_STRING DestinationString ,
                                                                                          PCWSTR SourceString ) ;
#line 1075 "../slam-kernel.c"
void ( __attribute__((__stdcall__)) RtlInitUnicodeString)(PUNICODE_STRING DestinationString ,
                                                          PCWSTR SourceString ) 
{ 

  {
#line 1080
  return;
}
}
#line 1087
NTSTATUS ( __attribute__((__stdcall__)) RtlQueryRegistryValues)(ULONG RelativeTo ,
                                                                                                PCWSTR Path ,
                                                                                                PRTL_QUERY_REGISTRY_TABLE QueryTable ,
                                                                                                PVOID Context ,
                                                                                                PVOID Environment ) ;
#line 1087 "../slam-kernel.c"
NTSTATUS ( __attribute__((__stdcall__)) RtlQueryRegistryValues)(ULONG RelativeTo ,
                                                                PCWSTR Path , PRTL_QUERY_REGISTRY_TABLE QueryTable ,
                                                                PVOID Context , PVOID Environment ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 1100
  if (__BLAST_NONDET == 0) {
    goto switch_211_0;
  } else {
    {
    goto switch_211_default;
#line 1099
    if (0) {
      switch_211_0: /* CIL Label */ ;
#line 1100
      return (0L);
      switch_211_default: /* CIL Label */ ;
#line 1105
      return (-1073741823L);
    } else {
      switch_211_break: /* CIL Label */ ;
    }
    }
  }
}
}
#line 1109
NTSTATUS ( __attribute__((__stdcall__)) ZwClose)(HANDLE Handle ) ;
#line 1109 "../slam-kernel.c"
NTSTATUS ( __attribute__((__stdcall__)) ZwClose)(HANDLE Handle ) 
{ int __BLAST_NONDET = __VERIFIER_nondet_int() ;

  {
#line 1118
  if (__BLAST_NONDET == 0) {
    goto switch_212_0;
  } else {
    {
    goto switch_212_default;
#line 1117
    if (0) {
      switch_212_0: /* CIL Label */ ;
#line 1118
      return (0L);
      switch_212_default: /* CIL Label */ ;
#line 1124
      return (-1073741823L);
    } else {
      switch_212_break: /* CIL Label */ ;
    }
    }
  }
}
}
